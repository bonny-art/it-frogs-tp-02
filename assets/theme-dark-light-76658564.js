import{a as v,i as N,g as D,b as F,o as _,c as x,d as q,s as T,e as R,f as W,h as j}from"./vendor-c21e0a22.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))m(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function m(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();v.defaults.baseURL="https://books-backend.p.goit.global/books/";async function H(){const e=await v.get("category-list").then(t=>t.data);return console.log("список категорій",e),e}H();async function K(){const e=await v.get("top-books").then(t=>t.data);return console.log("топ 5 в кожній категорії",e),e}K();async function G(e){const t=await v.get(`category?category=${e}`).then(i=>i.data);return console.log("книги з вибраної категорії",t),t}G("Childrens Middle Grade Hardcover");async function J(e){const t=await v.get(`${e}`).then(i=>i.data);return console.log("вибрана книга",t),t}J("643282b1e85766588626a0dc");const Q={apiKey:"AIzaSyCSIOIvaBcm09OifpCpfKPAwnfy_t377rM",authDomain:"testfirebase-422a2.firebaseapp.com",databaseURL:"https://testfirebase-422a2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"testfirebase-422a2",storageBucket:"testfirebase-422a2.appspot.com",messagingSenderId:"589688307018",appId:"1:589688307018:web:e010a81c7decb75d56d5b3"},C=N(Q),I=D(C),l=F(C),V=async(e,t)=>x(l,e,t),X=async e=>{const t=q(I,"users",l.currentUser.uid);return T(t,{name:e})},Y=async(e,t)=>R(l,e,t),Z=async()=>(await l._initializationPromise,l.currentUser!==null),ee=async()=>{const e=l.currentUser;return W(e)},z=async()=>j(q(I,"users",l.currentUser.uid));function te(){_(l,e=>e?(console.log("User is signed in"),!0):(console.log("User is signed out"),!1))}const se=document.querySelector(".menu-auth"),ae=document.querySelector(".auth-modal"),$=document.querySelector(".menu-username"),M=document.querySelector(".menu-auth-logo"),oe=async()=>{await Z()&&z().then(t=>{S(t.data().name)})};te();function ne(){$.textContent="Sign In",M.classList.add("visually-hidden"),oe()}se.addEventListener("click",()=>{ae.classList.remove("visually-hidden"),ie(),re()});const S=e=>{$.textContent=e,M.classList.remove("visually-hidden")};ne();const u=document.querySelector(".auth-modal"),U=document.querySelector(".auth-close-btn"),ce=document.querySelector(".auth-form"),h=document.querySelector(".auth-toggler-sign-up"),g=document.querySelector(".auth-toggler-sign-in"),L=document.querySelector("#auth-name"),A=document.querySelector("#auth-email"),E=document.querySelector("#auth-password"),f=document.querySelector(".auth-sign-up"),y=document.querySelector(".auth-sign-in");document.querySelector("auth-logged-container");function re(){function e(){U.removeEventListener("click",t),document.removeEventListener("click",i),document.removeEventListener("keydown",m),h.removeEventListener("click",s),g.removeEventListener("click",o),y.removeEventListener("click",b),f.removeEventListener("click",w)}function t(){u.classList.add("visually-hidden"),e()}U.addEventListener("click",t);const i=a=>{!a.composedPath().includes(ce)&&a.composedPath().includes(u)&&(u.classList.add("visually-hidden"),e())};document.addEventListener("click",i);const m=a=>{a.key=="Escape"&&(u.classList.add("visually-hidden"),e())};document.addEventListener("keydown",m);const s=()=>{g.classList.remove("auth-toggler-active"),h.classList.add("auth-toggler-active"),L.classList.remove("visually-hidden"),f.classList.remove("visually-hidden"),y.classList.add("visually-hidden")};h.addEventListener("click",s);const o=()=>{h.classList.remove("auth-toggler-active"),g.classList.add("auth-toggler-active"),L.classList.add("visually-hidden"),f.classList.add("visually-hidden"),y.classList.remove("visually-hidden")};g.addEventListener("click",o);function d(a){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(String(a).toLowerCase())}const O=async(a,c)=>{Y(a,c).then(()=>{z().then(n=>{S(n.data().name),u.classList.add("visually-hidden"),e()}).catch(n=>{alert(`Get user name error: ${n.code}`)})}).catch(n=>{alert(`Authorization error: ${n.code}`)})},b=()=>{const a=A.value.trim(),c=E.value.trim();d(a)?c.length>=5?O(a,c):alert("The password must be at least 5 characters long!"):alert("Wrong email!")};y.addEventListener("click",b);const P=async(a,c,n)=>{V(a,c).then(()=>{X(n).then(()=>{S(n),u.classList.add("visually-hidden"),e()}).catch(k=>{alert(`Create account error: ${k.code}`),ee().then(()=>{}).catch(B=>{alert(`Create account error: ${B.code}`)})})}).catch(k=>{alert(`Create account error: ${k.code}`)})},w=()=>{const a=A.value.trim(),c=E.value.trim(),n=L.value.trim();d(a)?c.length>=5?n.length>0&&P(a,c,n):alert("The password must be at least 5 characters long!"):alert("Wrong email!")};f.addEventListener("click",w)}function ie(){h.classList.remove(".auth-toggler-active"),g.classList.add(".auth-toggler-active"),L.classList.add("visually-hidden"),f.classList.add("visually-hidden"),y.classList.remove("visually-hidden")}document.querySelector(".js-category-title"),document.querySelector(".js-category-box");const p=document.querySelector("body"),le=document.querySelector(".btn"),r=document.querySelector(".btn__icon");function de(e){localStorage.setItem("darkmode",e)}function ue(){const e=localStorage.getItem("darkmode");e?e=="true"?(p.classList.add("darkmode"),r.classList.add("fa-moon")):e=="false"&&r.classList.add("fa-sun"):(de(!1),r.classList.add("fa-sun"))}ue();le.addEventListener("click",function(){p.classList.toggle("darkmode"),r.classList.add("animated"),store(p.classList.contains("darkmode")),p.classList.contains("darkmode")?(r.classList.remove("fa-sun"),r.classList.add("fa-moon")):(r.classList.remove("fa-moon"),r.classList.add("fa-sun")),setTimeout(function(){r.classList.remove("animated")},500)});
//# sourceMappingURL=theme-dark-light-76658564.js.map
