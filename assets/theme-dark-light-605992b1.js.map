{"version":3,"file":"theme-dark-light-605992b1.js","sources":["../../src/js/api.js","../../src/js/auth-firebase.js","../../src/js/header.js","../../src/js/auth-popup.js","../../src/js/book-popup.js","../../src/js/btn-scroll-up.js","../../src/js/category-list-sec.js","../../src/js/refs.js","../../src/js/selected-category-sec.js","../../src/js/support-ukraine-sec.js","../../src/js/theme-dark-light.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books/';\n\n/**\n * запит на отримання списку доступних категорій книг\n * @returns Array of categories books\n */\n\nasync function fetchBookList() {\n  const resp = await axios.get(`category-list`).then(resp => resp.data);\n  console.log('список категорій', resp);\n  return resp;\n}\nfetchBookList();\n\n\n\n\n/**\n * запит на отримання топ 5 книг у кожній категорії\n * @returns Array of top books\n */\nasync function fetchTopBooks() {\n  const resp = await axios.get(`top-books`).then(resp => resp.data);\n  console.log('топ 5 в кожній категорії', resp);\n  return resp;\n}\nfetchTopBooks();\n\n\n\n\n\n/**\n * функція приймає назву категорії (формат стрінг), повертає масив книг з повною інформацією\n * @returns Array of books\n */\nasync function fetchBooksOfCategory(category) {\n  const resp = await axios\n    .get(`category?category=${category}`)\n    .then(resp => resp.data);\n  console.log('книги з вибраної категорії', resp);\n  return resp;\n}\nfetchBooksOfCategory('Childrens Middle Grade Hardcover');\n\n\n\n\n\n\n/**\n * функція приймає ID обраної книги у форматі стрінги і повертає масив інфо\n * @param {string} bookId\n * @returns Array of information about choosed book\n */\nasync function fetchBookById(bookId) {\n  const resp = await axios.get(`${bookId}`).then(resp => resp.data);\n  console.log(`вибрана книга`, resp);\n  return resp;\n}\nfetchBookById('643282b1e85766588626a0dc');\n\n\n\n\nexport { fetchBookById, fetchBookList, fetchTopBooks, fetchBooksOfCategory };\n","import { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n  deleteUser,\n} from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\nimport { doc, setDoc, getDoc, updateDoc, deleteDoc } from 'firebase/firestore';\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCSIOIvaBcm09OifpCpfKPAwnfy_t377rM',\n  authDomain: 'testfirebase-422a2.firebaseapp.com',\n  databaseURL:\n    'https://testfirebase-422a2-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: 'testfirebase-422a2',\n  storageBucket: 'testfirebase-422a2.appspot.com',\n  messagingSenderId: '589688307018',\n  appId: '1:589688307018:web:e010a81c7decb75d56d5b3',\n};\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\n\nconst registrationUser = async (email, password) => {\n  return createUserWithEmailAndPassword(auth, email, password);\n};\n\nconst setUserName = async userName => {\n  const docRef = doc(db, 'users', auth.currentUser.uid);\n  return setDoc(docRef, {\n    name: userName,\n  });\n};\n\nconst loginUser = async (email, password) => {\n  return signInWithEmailAndPassword(auth, email, password);\n};\n\nconst isAuthUser = async () => {\n  await auth._initializationPromise;\n  return auth.currentUser === null ? false : true;\n};\n\nconst logoutUser = () => {\n  signOut(auth);\n};\n\nconst removeAccount = async () => {\n  const user = auth.currentUser;\n  return deleteUser(user);\n};\n\nconst removeAccountInfo = async () => {\n  const user = auth.currentUser;\n  return deleteDoc(doc(db, 'users', user.uid));\n};\n\nconst getUserName = async () => {\n  return getDoc(doc(db, 'users', auth.currentUser.uid));\n};\n\nconst getUserEmail = () => {\n  return auth.currentUser.email;\n};\n\nconst returnAuth = () => {\n  return auth;\n};\nfunction checkAuthenticationStatus() {\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      // User is signed in\n      console.log('User is signed in');\n      return true;\n    } else {\n      // User is signed out\n      console.log('User is signed out');\n      return false;\n    }\n  });\n}\nexport {\n  checkAuthenticationStatus,\n  registrationUser,\n  setUserName,\n  loginUser,\n  isAuthUser,\n  logoutUser,\n  removeAccount,\n  removeAccountInfo,\n  getUserName,\n  getUserEmail,\n  returnAuth,\n};\n","import { handlerActionAuth, initAuthModal } from './auth-popup';\nimport {\n  isAuthUser,\n  getUserName,\n  logoutUser,\n  checkAuthenticationStatus,\n} from './auth-firebase';\n\nconst headerUser = document.querySelector('.menu-auth');\nconst authModal = document.querySelector('.auth-modal');\nconst headerUserName = document.querySelector('.menu-username');\nconst headerUserLogo = document.querySelector('.menu-auth-logo');\n\nconst getNameForUpdateHeaderUser = async () => {\n  const login = await isAuthUser();\n  if (login) {\n    getUserName().then(getUserNameRes => {\n      updateHeaderUser(getUserNameRes.data().name);\n    });\n  }\n};\nconst isAuthenticated = checkAuthenticationStatus();\n\nfunction initOnStartUp() {\n  headerUserName.textContent = 'Sign In';\n  headerUserLogo.classList.add('visually-hidden');\n  getNameForUpdateHeaderUser();\n}\n\nheaderUser.addEventListener('click', () => {\n  authModal.classList.remove('visually-hidden');\n  initAuthModal();\n  handlerActionAuth();\n});\n\nconst updateHeaderUser = userName => {\n  headerUserName.textContent = userName;\n  headerUserLogo.classList.remove('visually-hidden');\n};\ninitOnStartUp();\nexport { updateHeaderUser };\n","import {\n  registrationUser,\n  setUserName,\n  loginUser,\n  removeAccount,\n  getUserName,\n  isAuthUser,\n} from './auth-firebase';\n\nimport { updateHeaderUser } from './header';\n\nconst authModal = document.querySelector('.auth-modal');\nconst authClose = document.querySelector('.auth-close-btn');\nconst authCallbackForm = document.querySelector('.auth-form');\nconst authSwitcherSignUp = document.querySelector('.auth-toggler-sign-up');\nconst authSwitcherSignIn = document.querySelector('.auth-toggler-sign-in');\nconst authName = document.querySelector('#auth-name');\nconst authEmail = document.querySelector('#auth-email');\nconst authPassword = document.querySelector('#auth-password');\nconst authSignUp = document.querySelector('.auth-sign-up');\nconst authSignIn = document.querySelector('.auth-sign-in');\nconst authIsLogged = document.querySelector('auth-logged-container');\n\nfunction handlerActionAuth() {\n  function removeListenersAuthModal() {\n    authClose.removeEventListener('click', handlerOnClose);\n    document.removeEventListener('click', clickDocumentAuthCallbackForm);\n    document.removeEventListener('keydown', keydownDocumentAuthCallbackForm);\n    authSwitcherSignUp.removeEventListener('click', clickAuthSwitcherSignUp);\n    authSwitcherSignIn.removeEventListener('click', clickAuthSwitcherSignIn);\n    authSignIn.removeEventListener('click', clickAuthLogin);\n    authSignUp.removeEventListener('click', clickAuthRegistration);\n  }\n\n  function handlerOnClose() {\n    authModal.classList.add('visually-hidden');\n    removeListenersAuthModal();\n  }\n  authClose.addEventListener('click', handlerOnClose);\n\n  const clickDocumentAuthCallbackForm = evt => {\n    if (\n      !evt.composedPath().includes(authCallbackForm) &&\n      evt.composedPath().includes(authModal)\n    ) {\n      authModal.classList.add('visually-hidden');\n      removeListenersAuthModal();\n    }\n  };\n  document.addEventListener('click', clickDocumentAuthCallbackForm);\n\n  const keydownDocumentAuthCallbackForm = evt => {\n    if (evt.key == 'Escape') {\n      authModal.classList.add('visually-hidden');\n      removeListenersAuthModal();\n    }\n  };\n  document.addEventListener('keydown', keydownDocumentAuthCallbackForm);\n\n  const clickAuthSwitcherSignUp = () => {\n    authSwitcherSignIn.classList.remove('auth-toggler-active');\n    authSwitcherSignUp.classList.add('auth-toggler-active');\n    authName.classList.remove('visually-hidden');\n    authSignUp.classList.remove('visually-hidden');\n    authSignIn.classList.add('visually-hidden');\n  };\n  authSwitcherSignUp.addEventListener('click', clickAuthSwitcherSignUp);\n\n  const clickAuthSwitcherSignIn = () => {\n    authSwitcherSignUp.classList.remove('auth-toggler-active');\n    authSwitcherSignIn.classList.add('auth-toggler-active');\n    authName.classList.add('visually-hidden');\n    authSignUp.classList.add('visually-hidden');\n    authSignIn.classList.remove('visually-hidden');\n  };\n  authSwitcherSignIn.addEventListener('click', clickAuthSwitcherSignIn);\n\n  function validateEmail(email) {\n    let result =\n      /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n    return result.test(String(email).toLowerCase());\n  }\n  const login = async (email, password) => {\n    loginUser(email, password)\n      .then(() => {\n        getUserName()\n          .then(getUserNameRes => {\n            updateHeaderUser(getUserNameRes.data().name);\n            authModal.classList.add('visually-hidden');\n            removeListenersAuthModal();\n          })\n          .catch(getUserNameError => {\n            alert(`Get user name error: ${getUserNameError.code}`);\n          });\n      })\n      .catch(signInAppError => {\n        alert(`Authorization error: ${signInAppError.code}`);\n      });\n  };\n\n  const clickAuthLogin = () => {\n    const email = authEmail.value.trim();\n    const password = authPassword.value.trim();\n    if (validateEmail(email)) {\n      if (password.length >= 5) {\n        login(email, password);\n      } else {\n        alert('The password must be at least 5 characters long!');\n      }\n    } else {\n      alert('Wrong email!');\n    }\n  };\n  authSignIn.addEventListener('click', clickAuthLogin);\n\n  const registration = async (email, password, name) => {\n    registrationUser(email, password)\n      .then(() => {\n        setUserName(name)\n          .then(() => {\n            updateHeaderUser(name);\n            authModal.classList.add('visually-hidden');\n            removeListenersAuthModal();\n          })\n          .catch(setUserNameError => {\n            alert(`Create account error: ${setUserNameError.code}`);\n            removeAccount()\n              .then(() => {})\n              .catch(removeAccountError => {\n                alert(`Create account error: ${removeAccountError.code}`);\n              });\n          });\n      })\n      .catch(createAccountError => {\n        alert(`Create account error: ${createAccountError.code}`);\n      });\n  };\n  const clickAuthRegistration = () => {\n    const email = authEmail.value.trim();\n    const password = authPassword.value.trim();\n    const name = authName.value.trim();\n    if (validateEmail(email)) {\n      if (password.length >= 5) {\n        if (name.length > 0) {\n          registration(email, password, name);\n        }\n      } else {\n        alert('The password must be at least 5 characters long!');\n      }\n    } else {\n      alert('Wrong email!');\n    }\n  };\n  authSignUp.addEventListener('click', clickAuthRegistration);\n}\nfunction initAuthModal() {\n  authSwitcherSignUp.classList.remove('.auth-toggler-active');\n  authSwitcherSignIn.classList.add('.auth-toggler-active');\n  authName.classList.add('visually-hidden');\n  authSignUp.classList.add('visually-hidden');\n  authSignIn.classList.remove('visually-hidden');\n}\n\nexport { handlerActionAuth, initAuthModal };\n","// Імпорт функцій\nimport { fetchBookById } from './api';\n\n// Забираю з HTML елемент модальне вікно та елемент кнопка\nconst el = {\n  modalWindow: document.querySelector('.modal-window'),\n  buttonAddToList: document.querySelector('.add-to-list'),\n};\n\nfunction createBookCard(bookId) {\n  // Початок відображення спінеру\n  fetchBookById(bookId)\n    .then(({ book_image, title, author, description, buy_links }) => {\n      const amazon_link = buy_links[0].url;\n      const appleBooks_link = buy_links[1].url;\n      console.log(book_image);\n      console.log(title);\n      console.log(author);\n      console.log(description);\n      console.log(amazon_link);\n      console.log(appleBooks_link);\n      el.modalWindow.innerHTML = createMarkup(\n        book_image,\n        title,\n        author,\n        description,\n        amazon_link,\n        appleBooks_link\n      );\n    })\n    .catch(error => {\n      Notify.failure(`Error: ${error}`);\n    })\n    .finally(() => {\n      // Відключення спінеру\n    });\n}\n\nfunction createMarkup(\n  bookCover,\n  title,\n  author,\n  descr,\n  amazonLink,\n  appleBooksLink\n) {\n  return `\n    <div class=\"book-image\">\n      <img class=\"img-book-cover\" src=\"${bookCover}\" alt=\"${title}\" />\n    </div>\n    <div>\n      <h2 class=\"book-title\">${title}</h2>\n      <p class=\"book-author\">${author}</p>\n      <p class=\"book-descr\">${descr}</p>\n    <ul>\n      <li>\n        <a href=\"${amazonLink}\">\n        <img src=\"../images/book-popup/amazon.svg\" alt=\"\" />\n        </a>\n      </li>\n      <li>\n        <a href=\"${appleBooksLink}\">\n        <img src=\"../images/book-popup/appleBooks.svg\" alt=\"\" />\n        </a>\n      </li>\n    </ul>\n    </div>\n    <button class=\"add-to-list\"></button>\n    `;\n}\n\ncreateBookCard('643282b2e85766588626a144');\n","const scrollToTopBtn = document.querySelector('#scrollToTopButton');\n// Додаємо обробник події при прокручуванні сторінки\nwindow.addEventListener('scroll', () => {\n    // Показуємо або приховуємо кнопку залежно від положення сторінки\n  if (window.pageYOffset > 500) {\n    scrollToTopBtn.classList.add('show');\n  } else {\n    scrollToTopBtn.classList.remove('show');\n  }\n});\nscrollToTopBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});","import { fetchBookList, fetchTopBooks, fetchBooksOfCategory } from './api';\n\n// import { makeBlocks, makeTopBlocks } from './selected-category-sec';\n\nconst mainCategoriesList = document.querySelector('.main-categories-list');\n\n(() => {\n  fetchBookList().then(result => {\n    const markup = result.data\n      .map(item => {\n        return `<li class=\"main-categories-list-item\">${item.list_name}</li>`;\n      })\n      .join('');\n    mainCategoriesList.innerHTML =\n      '<li class=\"main-categories-list-item main-categories-list-item-active\">All categories</li>' +\n      markup;\n  });\n})();\n\nmainCategoriesList.addEventListener('click', event => {\n  if (event.target.classList.contains('main-categories-list-item')) {\n    for (const item of mainCategoriesList.children) {\n      item.classList.remove('main-categories-list-item-active');\n    }\n\n    event.target.classList.add('main-categories-list-item-active');\n\n    if (event.target.textContent === 'All categories') {\n      fetchTopBooks().then(result => {\n        fromTopBlocks(result);\n      });\n    } else {\n      fetchBooksOfCategory(event.target.textContent).then(result => {\n        fromSelectedBlocks(result, event.target.textContent);\n      });\n    }\n  }\n});\n","const el = {\n  categoryTitle: document.querySelector('.js-category-title'),\n  categoryBox: document.querySelector('.js-category-box'),\n  shoppingList: document.querySelector('.js-shopping-list'),\n  emptyPage: document.querySelector('.js-empty-page'),\n};\n\nexport { el };\n","import Notiflix from 'notiflix';\n\nimport { fetchBooksOfCategory } from '../js/api.js'\nimport { el } from './refs.js';\n\n\n\n\n/**\n * Функція приймає параметром назву категорії у вигляді стрінги, робить запит на бекенд, створює розмітку і рендерить\n * @param {string} category \n */\nasync function createSelectedCategory(category){\n\n    try {\n    \n    const arrOfBooks = await fetchBooksOfCategory(category)\n    const markUp = createMarkupCategory(arrOfBooks);\n    const styledTitle = styleSectionTitle(category);\n        \n    el.categoryBox.insertAdjacentHTML(\"afterbegin\", markUp);\n          \n    el.categoryTitle.innerHTML = styledTitle;\n\n  \n} catch (error) {\n    console.log(error);\n    // Notiflix.Notify.info('Sorry, there are no books matching your search query. Please try again.')\n}\n}\n\ncreateSelectedCategory(\"Hardcover Fiction\");\n\nel.categoryBox.addEventListener(\"click\", handlerSelectBook);\n\n\n\nfunction handlerSelectBook(evt) {\n    if (evt.target === evt.currentTarget){\n        return;\n    }\n    \n    const currentBook = evt.target.closest(\".card-wrapper\");\n    const currentBookId = currentBook.dataset.id;\n    console.dir(currentBookId);\n    return currentBookId;\n}\n\n\n\nfunction styleSectionTitle(title) {\n    const words = title.split(\" \");\n    const halfIndex = Math.ceil(words.length / 2);\n    const firstHalf = words.slice(0, halfIndex).join(\" \");\n    const secondHalf = words.slice(halfIndex).join(\" \");\n\n    return `\n        ${firstHalf} <span class=\"second-half\">${secondHalf}</span>\n    `;\n};\n\n\n\nfunction createMarkupCategory(arr) {\n    return arr.map(({author, title, book_image, _id}) => {\n        return `<li class=\"card-wrapper\" data-id=\"${_id}\">\n                   <div class=\"book-img\">\n                      <img src=\"${book_image}\" alt=\"${title}\">\n                   </div>\n                   <h2 class=\"book-title\">${title}</h2>\n                   <p class=\"book-author\">${author}</p>\n                </li>\n   `})\n    .join(\"\")\n};\n\n\n\nexport { createSelectedCategory };\n","const mainSupportScroll = document.querySelector('.main-support-scroll');\nconst mainSupportList = document.querySelector('.main-support-list');\n\nmainSupportScroll.addEventListener('click', () => {\n  let list = [...mainSupportList.children].slice(0, 1);\n  mainSupportList.firstChild.remove();\n  mainSupportList.appendChild(list[0]);\n});\n","const body = document.querySelector('body');\nconst btn = document.querySelector('.btn');\nconst icon = document.querySelector('.btn__icon');\n\n//to save the dark mode use the object \"local storage\".\n\n//function that stores the value true if the dark mode is activated or false if it's not.\nexport function storeDarkMode(value) {\n  localStorage.setItem('darkmode', value);\n}\n\n//function that indicates if the \"darkmode\" property exists. It loads the page as we had left it.\nexport function loadDarkMode() {\n  const darkmode = localStorage.getItem('darkmode');\n\n  //if the dark mode was never activated\n  if (!darkmode) {\n    storeDarkMode(false);\n    icon.classList.add('fa-sun');\n  } else if (darkmode == 'true') {\n    //if the dark mode is activated\n    body.classList.add('darkmode');\n    icon.classList.add('fa-moon');\n  } else if (darkmode == 'false') {\n    //if the dark mode exists but is disabled\n    icon.classList.add('fa-sun');\n  }\n}\n\nloadDarkMode();\n\nbtn.addEventListener('click', function () {\n  body.classList.toggle('darkmode');\n  icon.classList.add('animated');\n\n  //save true or false\n  storeDarkMode(body.classList.contains('darkmode'));\n\n  if (body.classList.contains('darkmode')) {\n    icon.classList.remove('fa-sun');\n    icon.classList.add('fa-moon');\n  } else {\n    icon.classList.remove('fa-moon');\n    icon.classList.add('fa-sun');\n  }\n\n  setTimeout(function () {\n    icon.classList.remove('animated');\n  }, 500);\n});\n"],"names":["axios","fetchBookList","resp","fetchTopBooks","fetchBooksOfCategory","category","fetchBookById","bookId","firebaseConfig","app","initializeApp","db","getFirestore","auth","getAuth","registrationUser","email","password","createUserWithEmailAndPassword","setUserName","userName","docRef","doc","setDoc","loginUser","signInWithEmailAndPassword","isAuthUser","removeAccount","user","deleteUser","getUserName","getDoc","checkAuthenticationStatus","onAuthStateChanged","headerUser","authModal","headerUserName","headerUserLogo","getNameForUpdateHeaderUser","getUserNameRes","updateHeaderUser","initOnStartUp","initAuthModal","handlerActionAuth","authClose","authCallbackForm","authSwitcherSignUp","authSwitcherSignIn","authName","authEmail","authPassword","authSignUp","authSignIn","removeListenersAuthModal","handlerOnClose","clickDocumentAuthCallbackForm","keydownDocumentAuthCallbackForm","clickAuthSwitcherSignUp","clickAuthSwitcherSignIn","clickAuthLogin","clickAuthRegistration","evt","validateEmail","login","getUserNameError","signInAppError","registration","name","setUserNameError","removeAccountError","createAccountError","el","createBookCard","book_image","title","author","description","buy_links","amazon_link","appleBooks_link","createMarkup","error","bookCover","descr","amazonLink","appleBooksLink","scrollToTopBtn","mainCategoriesList","result","markup","item","event","createSelectedCategory","arrOfBooks","markUp","createMarkupCategory","styledTitle","styleSectionTitle","handlerSelectBook","currentBookId","words","halfIndex","firstHalf","secondHalf","arr","_id","mainSupportScroll","mainSupportList","list","body","btn","icon","storeDarkMode","value","loadDarkMode","darkmode"],"mappings":"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"}