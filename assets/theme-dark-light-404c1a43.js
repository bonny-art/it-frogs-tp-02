import{a as v,i as N,g as D,b as F,o as _,c as x,d as C,s as R,e as W,f as j,h as H}from"./vendor-c21e0a22.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))m(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function m(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();v.defaults.baseURL="https://books-backend.p.goit.global/books/";async function K(){const e=await v.get("category-list").then(t=>t.data);return console.log("список категорій",e),e}K();async function G(){const e=await v.get("top-books").then(t=>t.data);return console.log("топ 5 в кожній категорії",e),e}G();async function Y(e){const t=await v.get(`category?category=${e}`).then(i=>i.data);return console.log("книги з вибраної категорії",t),t}Y("Childrens Middle Grade Hardcover");async function J(e){const t=await v.get(`${e}`).then(i=>i.data);return console.log("вибрана книга",t),t}J("643282b1e85766588626a0dc");const Q={apiKey:"AIzaSyCSIOIvaBcm09OifpCpfKPAwnfy_t377rM",authDomain:"testfirebase-422a2.firebaseapp.com",databaseURL:"https://testfirebase-422a2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"testfirebase-422a2",storageBucket:"testfirebase-422a2.appspot.com",messagingSenderId:"589688307018",appId:"1:589688307018:web:e010a81c7decb75d56d5b3"},I=N(Q),z=D(I),l=F(I),V=async(e,t)=>x(l,e,t),X=async e=>{const t=C(z,"users",l.currentUser.uid);return R(t,{name:e})},Z=async(e,t)=>W(l,e,t),ee=async()=>(await l._initializationPromise,l.currentUser!==null),te=async()=>{const e=l.currentUser;return j(e)},B=async()=>H(C(z,"users",l.currentUser.uid));function se(){_(l,e=>e?(console.log("User is signed in"),!0):(console.log("User is signed out"),!1))}const ae=document.querySelector(".menu-auth"),oe=document.querySelector(".auth-modal"),O=document.querySelector(".menu-username"),T=document.querySelector(".menu-auth-logo"),ne=async()=>{await ee()&&B().then(t=>{S(t.data().name)})};se();function ce(){O.textContent="Sign In",T.classList.add("visually-hidden"),ne()}ae.addEventListener("click",()=>{oe.classList.remove("visually-hidden"),le(),ie()});const S=e=>{O.textContent=e,T.classList.remove("visually-hidden")};ce();const u=document.querySelector(".auth-modal"),E=document.querySelector(".auth-close-btn"),re=document.querySelector(".auth-form"),h=document.querySelector(".auth-toggler-sign-up"),g=document.querySelector(".auth-toggler-sign-in"),L=document.querySelector("#auth-name"),q=document.querySelector("#auth-email"),A=document.querySelector("#auth-password"),f=document.querySelector(".auth-sign-up"),y=document.querySelector(".auth-sign-in");document.querySelector("auth-logged-container");function ie(){function e(){E.removeEventListener("click",t),document.removeEventListener("click",i),document.removeEventListener("keydown",m),h.removeEventListener("click",s),g.removeEventListener("click",o),y.removeEventListener("click",w),f.removeEventListener("click",U)}function t(){u.classList.add("visually-hidden"),e()}E.addEventListener("click",t);const i=a=>{!a.composedPath().includes(re)&&a.composedPath().includes(u)&&(u.classList.add("visually-hidden"),e())};document.addEventListener("click",i);const m=a=>{a.key=="Escape"&&(u.classList.add("visually-hidden"),e())};document.addEventListener("keydown",m);const s=()=>{g.classList.remove("auth-toggler-active"),h.classList.add("auth-toggler-active"),L.classList.remove("visually-hidden"),f.classList.remove("visually-hidden"),y.classList.add("visually-hidden")};h.addEventListener("click",s);const o=()=>{h.classList.remove("auth-toggler-active"),g.classList.add("auth-toggler-active"),L.classList.add("visually-hidden"),f.classList.add("visually-hidden"),y.classList.remove("visually-hidden")};g.addEventListener("click",o);function d(a){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(String(a).toLowerCase())}const $=async(a,c)=>{Z(a,c).then(()=>{B().then(n=>{S(n.data().name),u.classList.add("visually-hidden"),e()}).catch(n=>{alert(`Get user name error: ${n.code}`)})}).catch(n=>{alert(`Authorization error: ${n.code}`)})},w=()=>{const a=q.value.trim(),c=A.value.trim();d(a)?c.length>=5?$(a,c):alert("The password must be at least 5 characters long!"):alert("Wrong email!")};y.addEventListener("click",w);const M=async(a,c,n)=>{V(a,c).then(()=>{X(n).then(()=>{S(n),u.classList.add("visually-hidden"),e()}).catch(k=>{alert(`Create account error: ${k.code}`),te().then(()=>{}).catch(P=>{alert(`Create account error: ${P.code}`)})})}).catch(k=>{alert(`Create account error: ${k.code}`)})},U=()=>{const a=q.value.trim(),c=A.value.trim(),n=L.value.trim();d(a)?c.length>=5?n.length>0&&M(a,c,n):alert("The password must be at least 5 characters long!"):alert("Wrong email!")};f.addEventListener("click",U)}function le(){h.classList.remove(".auth-toggler-active"),g.classList.add(".auth-toggler-active"),L.classList.add("visually-hidden"),f.classList.add("visually-hidden"),y.classList.remove("visually-hidden")}const b=document.querySelector("#scrollToTopButton");window.addEventListener("scroll",()=>{window.pageYOffset>500?b.classList.add("show"):b.classList.remove("show")});b.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});document.querySelector(".js-category-title"),document.querySelector(".js-category-box");const p=document.querySelector("body"),de=document.querySelector(".btn"),r=document.querySelector(".btn__icon");function ue(e){localStorage.setItem("darkmode",e)}function me(){const e=localStorage.getItem("darkmode");e?e=="true"?(p.classList.add("darkmode"),r.classList.add("fa-moon")):e=="false"&&r.classList.add("fa-sun"):(ue(!1),r.classList.add("fa-sun"))}me();de.addEventListener("click",function(){p.classList.toggle("darkmode"),r.classList.add("animated"),store(p.classList.contains("darkmode")),p.classList.contains("darkmode")?(r.classList.remove("fa-sun"),r.classList.add("fa-moon")):(r.classList.remove("fa-moon"),r.classList.add("fa-sun")),setTimeout(function(){r.classList.remove("animated")},500)});
//# sourceMappingURL=theme-dark-light-404c1a43.js.map
