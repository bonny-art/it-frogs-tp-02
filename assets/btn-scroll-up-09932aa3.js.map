{"version":3,"file":"btn-scroll-up-09932aa3.js","sources":["../../src/js/refs.js","../../src/js/theme-dark-light.js","../../src/js/api.js","../../src/js/auth-firebase.js","../../src/js/auth-popup.js","../../src/js/header.js","../../src/js/mobile-menu.js","../../src/images/book-popup/icons.svg","../../src/images/book-popup/amazon.svg","../../src/images/book-popup/appleBooks.svg","../../src/images/book-popup/not-downloaded@1x.jpg","../../src/js/book-popup.js","../../src/js/loader.js","../../src/js/selected-category-sec.js","../../src/js/top-books-sec.js","../../src/js/category-list-sec.js","../../src/js/support.js","../../src/images/support/save-children@1x.png","../../src/images/support/save-children@2x.png","../../src/images/support/hope@1x.png","../../src/images/support/hope@2x.png","../../src/images/support/medical-corps@1x.png","../../src/images/support/medical-corps@2x.png","../../src/images/support/razom@1x.png","../../src/images/support/razom@2x.png","../../src/images/support/against-hunger@1x.png","../../src/images/support/against-hunger@2x.png","../../src/images/support/prytula@1x.png","../../src/images/support/prytula@2x.png","../../src/images/support/sans-frontiers@1x.png","../../src/images/support/sans-frontiers@2x.png","../../src/images/support/world-vision@1x.png","../../src/images/support/world-vision@2x.png","../../src/images/support/united24@1x.png","../../src/images/support/united24@2x.png","../../src/js/markup.js","../../src/js/support-ukraine-sec.js","../../src/images/shopping-list-sec/plug_x2.png","../../src/images/shopping-list-sec/plug_x1.png","../../src/images/shopping-list-sec/sprite.svg","../../src/images/shopping-list-sec/amazon.svg","../../src/images/shopping-list-sec/appleBooks.svg","../../src/js/shopping-list-sec.js","../../src/js/btn-scroll-up.js"],"sourcesContent":["const el = {\n  mainCategoriesList: document.querySelector('.main-categories-list'),\n\n  categoryTitle: document.querySelector('.js-category-title'),\n  categoryBox: '',\n\n  list: document.querySelector('.content'),\n\n  topOfCatecory: '',\n  buttonSeeMore: '',\n\n  shoppingList: document.querySelector('.js-shopping-list'),\n  emptyPage: document.querySelector('.js-empty-page'),\n\n  body: document.querySelector('body'),\n  toggleBtn: document.querySelector('.tgl-btn'),\n  toggleIcon: document.querySelector('.tgl-btn__icon'),\n\n  bookPopup: '',\n  buttonAddToList: '',\n  closeModalButton: '',\n  textUnderRemoveButton: '',\n  bookPopupImage: '',\n  bookPopupCover: '',\n  // shoing list\n\n  // shoping list pagination\n\n  paginationContainer: document.querySelector('.pagination'),\n  paginationNumbers: document.getElementById('pagination-numbers'),\n  nextButton: document.getElementById('next-button'),\n  prevButton: document.getElementById('prev-button'),\n  toEnd: document.getElementById('to-end-button'),\n  toStart: document.getElementById('to-start-button'),\n};\n\nexport { el };\n\nexport default function getRefs() {\n  return {\n    // home page wrapper for dynamically rendered book collections\n    bookCollectionWrapper: document.querySelector('.book-collection-wrapper'),\n  };\n}\n","import { el } from './refs';\n\n//to save the dark mode use the object \"local storage\".\n\n//function that stores the value true if the dark mode is activated or false if it's not.\nexport function storeDarkMode(value) {\n  localStorage.setItem('darkmode', value);\n}\n\n//function that indicates if the \"darkmode\" property exists. It loads the page as we had left it.\nexport function loadDarkMode() {\n  const darkmode = localStorage.getItem('darkmode');\n\n  //if the dark mode was never activated\n  if (!darkmode) {\n    storeDarkMode(false);\n    el.toggleIcon.classList.add('fa-sun');\n  } else if (darkmode == 'true') {\n    //if the dark mode is activated\n    el.body.classList.add('darkmode');\n    el.toggleIcon.classList.add('fa-moon');\n  } else if (darkmode == 'false') {\n    //if the dark mode exists but is disabled\n    el.toggleIcon.classList.add('fa-sun');\n  }\n}\n\nloadDarkMode();\n\nel.toggleBtn.addEventListener('click', function () {\n  el.body.classList.toggle('darkmode');\n  el.toggleIcon.classList.add('animated');\n\n  //save true or false\n  storeDarkMode(el.body.classList.contains('darkmode'));\n\n  if (el.body.classList.contains('darkmode')) {\n    el.toggleIcon.classList.remove('fa-sun');\n    el.toggleIcon.classList.add('fa-moon');\n  } else {\n    el.toggleIcon.classList.remove('fa-moon');\n    el.toggleIcon.classList.add('fa-sun');\n  }\n\n  setTimeout(function () {\n    el.toggleIcon.classList.remove('animated');\n  }, 500);\n});\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books/';\n\n/**\n * запит на отримання списку доступних категорій книг\n * @returns Array of categories books\n */\n\nasync function fetchBookList() {\n  const resp = await axios.get(`category-list`).then(resp => resp.data);\n  return resp;\n}\nfetchBookList();\n\n/**\n * запит на отримання топ 5 книг у кожній категорії\n * @returns Array of top books\n */\nasync function fetchTopBooks() {\n  const resp = await axios.get(`top-books`).then(resp => resp.data);\n\n  return resp;\n}\nfetchTopBooks();\n\n/**\n * функція приймає назву категорії (формат стрінг), повертає масив книг з повною інформацією\n * @returns Array of books\n */\nasync function fetchBooksOfCategory(category) {\n  const resp = await axios\n    .get(`category?category=${category}`)\n    .then(resp => resp.data);\n\n  return resp;\n}\nfetchBooksOfCategory('Childrens Middle Grade Hardcover');\n\n/**\n * функція приймає ID обраної книги у форматі стрінги і повертає масив інфо\n * @param {string} bookId\n * @returns Array of information about choosed book\n */\nasync function fetchBookById(bookId) {\n  const resp = await axios.get(`${bookId}`).then(resp => resp.data);\n\n  return resp;\n}\nfetchBookById('643282b1e85766588626a0dc');\n\nexport { fetchBookById, fetchBookList, fetchTopBooks, fetchBooksOfCategory };\n","import { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n  deleteUser,\n} from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\nimport { doc, setDoc, getDoc, updateDoc, deleteDoc } from 'firebase/firestore';\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCSIOIvaBcm09OifpCpfKPAwnfy_t377rM',\n  authDomain: 'testfirebase-422a2.firebaseapp.com',\n  databaseURL:\n    'https://testfirebase-422a2-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: 'testfirebase-422a2',\n  storageBucket: 'testfirebase-422a2.appspot.com',\n  messagingSenderId: '589688307018',\n  appId: '1:589688307018:web:e010a81c7decb75d56d5b3',\n};\nimport Swal from 'sweetalert2';\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\n\nconst registrationUser = async (email, password) => {\n  return createUserWithEmailAndPassword(auth, email, password);\n};\n\nconst setUserName = async userName => {\n  const docRef = doc(db, 'users', auth.currentUser.uid);\n  return setDoc(docRef, {\n    name: userName,\n  });\n};\n\nconst loginUser = async (email, password) => {\n  return signInWithEmailAndPassword(auth, email, password);\n};\n\nconst isAuthUser = async () => {\n  await auth._initializationPromise;\n  return auth.currentUser === null ? false : true;\n};\n\nconst removeAccount = async () => {\n  const user = auth.currentUser;\n  return deleteUser(user);\n};\n\n// const removeAccountInfo = async () => {\n//   const user = auth.currentUser;\n//   return deleteDoc(doc(db, 'users', user.uid));\n// };\n\nconst getUserName = async () => {\n  return getDoc(doc(db, 'users', auth.currentUser.uid));\n};\n\nconst getUserEmail = () => {\n  return auth.currentUser.email;\n};\n\nconst returnAuth = () => {\n  return auth;\n};\n// async function checkAuthenticationStatus() {\n//   onAuthStateChanged(auth, user => {\n//     if (user) {\n//       // User is signed in\n//       console.log('User is signed in');\n//       return true;\n//     } else {\n//       // User is signed out\n//       console.log('User is signed out');\n//       return false;\n//     }\n//   });\n// }\n\n// function deleteAccount() {\n//   const user = auth.currentUser;\n\n//   if (user) {\n//     deleteUser(user)\n//       .then(() => {\n//         alert('Аккаунт удален');\n//       })\n//       .catch(error => {\n//         alert(`Ошибка при удалении аккаунта: ${error.message}`);\n//       });\n//   } else {\n//     alert('Пользователь не вошел в систему');\n//   }\n// }\n\nfunction logOutUser() {\n  signOut(auth).then(() => {\n    // alert('Seen later!');\n    Swal.fire({\n      position: 'center',\n      icon: 'success',\n      title: 'Good luck, see later!',\n      showConfirmButton: false,\n      timer: 2000,\n    });\n    setTimeout(() => {\n      window.location.href = 'index.html';\n    }, 2000);\n  });\n}\nexport {\n  // checkAuthenticationStatus,\n  registrationUser,\n  setUserName,\n  loginUser,\n  isAuthUser,\n  removeAccount,\n  // removeAccountInfo,\n  getUserName,\n  getUserEmail,\n  returnAuth,\n  // deleteAccount,\n  logOutUser,\n};\n","import {\n  registrationUser,\n  setUserName,\n  loginUser,\n  removeAccount,\n  getUserName,\n} from './auth-firebase';\n\nimport { updateHeaderUser } from './header';\nimport Swal from 'sweetalert2';\n// import Notiflix from 'notiflix';\n\nconst authModal = document.querySelector('.auth-modal');\nconst authClose = document.querySelector('.auth-close-btn');\n// const authForm = document.querySelector('.auth-container');\nconst authSwitcherSignUp = document.querySelector('.auth-toggler-sign-up');\nconst authSwitcherSignIn = document.querySelector('.auth-toggler-sign-in');\nconst authName = document.querySelector('#auth-name');\nconst authEmail = document.querySelector('#auth-email');\nconst authPassword = document.querySelector('#auth-password');\nconst authSignUp = document.querySelector('.auth-sign-up');\nconst authSignIn = document.querySelector('.auth-sign-in');\n// const authIsLogged = document.querySelector('auth-logged-container');\n\nfunction handlerActionAuth() {\n  //прибирає слухачів після закриття модального вікна\n  function removeListenersAuthModal() {\n    authClose.removeEventListener('click', handlerOnClose);\n    document.removeEventListener('keydown', keydownDocumentAuthForm);\n    authSwitcherSignUp.removeEventListener('click', clickAuthSwitcherSignUp);\n    authSwitcherSignIn.removeEventListener('click', clickAuthSwitcherSignIn);\n    authSignIn.removeEventListener('click', clickAuthLogin);\n    authSignUp.removeEventListener('click', clickAuthRegistration);\n  }\n  //ховає модальне вікно\n  function handlerOnClose() {\n    document.body.classList.remove('modal-open');\n    authModal.classList.add('visually-hidden');\n    removeListenersAuthModal();\n  }\n  authClose.addEventListener('click', handlerOnClose);\n\n  //закриваємо модалку кнопкою\n  const keydownDocumentAuthForm = evt => {\n    if (evt.key == 'Escape') {\n      document.body.classList.remove('modal-open');\n      authModal.classList.add('visually-hidden');\n      removeListenersAuthModal();\n    }\n  };\n  document.addEventListener('keydown', keydownDocumentAuthForm);\n  //змінюємо форму по кліку на тоглері\n  const clickAuthSwitcherSignUp = () => {\n    authSwitcherSignIn.classList.remove('auth-toggler-active');\n    authSwitcherSignUp.classList.add('auth-toggler-active');\n    authName.classList.remove('visually-hidden');\n    authSignUp.classList.remove('visually-hidden');\n    authSignIn.classList.add('visually-hidden');\n  };\n  authSwitcherSignUp.addEventListener('click', clickAuthSwitcherSignUp);\n\n  const clickAuthSwitcherSignIn = () => {\n    authSwitcherSignUp.classList.remove('auth-toggler-active');\n    authSwitcherSignIn.classList.add('auth-toggler-active');\n    authName.classList.add('visually-hidden');\n    authSignUp.classList.add('visually-hidden');\n    authSignIn.classList.remove('visually-hidden');\n  };\n  authSwitcherSignIn.addEventListener('click', clickAuthSwitcherSignIn);\n  //перевіряємо допустимі знаки у пошті\n  function validateEmail(email) {\n    let result =\n      /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n    return result.test(String(email).toLowerCase());\n  }\n  //обробляємо логін\n  const login = async (email, password) => {\n    loginUser(email, password)\n      .then(() => {\n        getUserName()\n          .then(getUserNameRes => {\n            const message = `${getUserNameRes.data().name}!`;\n            Swal.fire({\n              title: message,\n              text: 'welcome back!',\n              icon: 'success',\n              confirmButtonText: 'Ok',\n            });\n            updateHeaderUser(getUserNameRes.data().name);\n            authModal.classList.add('visually-hidden');\n            setTimeout(() => {\n              removeListenersAuthModal();\n              location.reload();\n            }, 2000);\n          })\n          .catch(getUserNameError => {\n            const message = `${getUserNameError.code}`;\n            Swal.fire({\n              title: 'Get user name error:',\n              text: message,\n              icon: 'error',\n              confirmButtonText: 'Ok',\n            });\n          });\n      })\n      .catch(signInAppError => {\n        const message = `${signInAppError.code}`;\n        Swal.fire({\n          title: 'Authorization error:',\n          text: message,\n          icon: 'error',\n          confirmButtonText: 'Ok',\n        });\n      });\n  };\n  //логінімся\n  const clickAuthLogin = () => {\n    const email = authEmail.value.trim();\n    const password = authPassword.value.trim();\n    if (validateEmail(email)) {\n      if (password.length >= 5) {\n        login(email, password);\n      } else {\n        // alert('The password must be at least 5 characters long!');\n        Swal.fire({\n          title: 'Error!',\n          text: 'The password must be at least 5 characters long!',\n          icon: 'error',\n          confirmButtonText: 'Ok',\n        });\n      }\n    } else {\n      // alert('Wrong email!');\n      Swal.fire({\n        title: 'Error!',\n        text: 'Wrong email or not valid!',\n        icon: 'error',\n        confirmButtonText: 'Ok',\n      });\n    }\n  };\n  authSignIn.addEventListener('click', clickAuthLogin);\n\n  //обробка реєстрації\n  const registration = async (email, password, name) => {\n    registrationUser(email, password)\n      .then(() => {\n        setUserName(name)\n          .then(() => {\n            const message = `${name},`;\n            Swal.fire({\n              title: message,\n              text: 'Your account has been created! Welcome!',\n              icon: 'success',\n              confirmButtonText: 'Ok',\n            });\n            updateHeaderUser(name);\n            authModal.classList.add('visually-hidden');\n            setTimeout(() => {\n              removeListenersAuthModal();\n              location.reload();\n            }, 2000);\n          })\n          .catch(setUserNameError => {\n            const message = `${createAccountError.code}`;\n            Swal.fire({\n              title: 'Create account error: ',\n              text: message,\n              icon: 'error',\n              confirmButtonText: 'Ok',\n            });\n            removeAccount()\n              .then(() => {})\n              .catch(removeAccountError => {\n                const message = `${removeAccountError.code}`;\n                Swal.fire({\n                  title: 'Create account error: ',\n                  text: message,\n                  icon: 'error',\n                  confirmButtonText: 'Ok',\n                });\n              });\n          });\n      })\n      .catch(createAccountError => {\n        const message = `${createAccountError.code}`;\n        Swal.fire({\n          title: 'Create account error: ',\n          text: message,\n          icon: 'error',\n          confirmButtonText: 'Ok',\n        });\n      });\n  };\n  //реєструємось\n  const clickAuthRegistration = () => {\n    const email = authEmail.value.trim();\n    const password = authPassword.value.trim();\n    const name = authName.value.trim();\n    const displayName = name.length > 0 ? name : 'Anonim';\n    if (validateEmail(email)) {\n      if (password.length >= 5) {\n        // if (name.length > 0) {\n        registration(email, password, displayName);\n        // }\n      } else {\n        // alert('The password must be at least 5 characters long!');\n        Swal.fire({\n          title: 'Error!',\n          text: 'The password must be at least 5 characters long!',\n          icon: 'error',\n          confirmButtonText: 'Ok',\n        });\n      }\n    } else {\n      // alert('Wrong email!');\n      Swal.fire({\n        title: 'Error!',\n        text: 'Wrong email or not valid!',\n        icon: 'error',\n        confirmButtonText: 'Ok',\n      });\n    }\n  };\n  authSignUp.addEventListener('click', clickAuthRegistration);\n}\n//ініціюємо початковий стан модалки\nfunction initAuthModal() {\n  passwordIconLocked.classList.remove('visually-hidden');\n  passwordIconOpened.classList.add('visually-hidden');\n  authSwitcherSignUp.classList.remove('.auth-toggler-active');\n  authSwitcherSignIn.classList.add('.auth-toggler-active');\n  authName.classList.add('visually-hidden');\n  authSignUp.classList.add('visually-hidden');\n  authSignIn.classList.remove('visually-hidden');\n}\n\nlet passwordInput = document.getElementById('auth-password');\nlet passwordIconLocked = document.querySelector('.locked-pass-icon');\nlet passwordIconOpened = document.querySelector('.opened-pass-icon');\nlet isPasswordVisible = false;\n\n// Змінюємо відображення паролю\nfunction togglePasswordVisibility() {\n  isPasswordVisible = !isPasswordVisible;\n\n  if (isPasswordVisible) {\n    passwordInput.type = 'text';\n    passwordIconLocked.classList.add('visually-hidden');\n    passwordIconOpened.classList.remove('visually-hidden');\n  } else {\n    passwordInput.type = 'password';\n    passwordIconLocked.classList.remove('visually-hidden');\n    passwordIconOpened.classList.add('visually-hidden');\n  }\n}\n\npasswordIconLocked.addEventListener('click', togglePasswordVisibility);\npasswordIconOpened.addEventListener('click', togglePasswordVisibility);\n\nexport { handlerActionAuth, initAuthModal };\n","import { handlerActionAuth, initAuthModal } from './auth-popup';\nimport { isAuthUser, getUserName, logOutUser } from './auth-firebase';\n\n//ініціалізуємо початкові стани хедера\ndocument.addEventListener('DOMContentLoaded', function () {\n  let currentUrl = window.location.href;\n  let menuItems = document.querySelectorAll('.nav-item');\n\n  menuItems.forEach(function (item) {\n    let link = item.querySelector('a');\n    if (link.href === currentUrl) {\n      item.classList.add('active-page');\n    }\n  });\n  getNameForUpdateHeaderUser().then(login => {\n    // console.log(login);\n    let menuAuthIcon = document.querySelector('.menu-auth-icon use');\n    let authLink = document.querySelector('.auth-link');\n    let userSignOut = document.querySelector('.sign-out');\n    let headerUser = document.querySelector('.sign-up');\n    if (login) {\n      menuAuthIcon.setAttribute(\n        'href',\n        '/images/header/header-defs.svg#icon-fi-ss-caret-down-1'\n      );\n      authLink.classList.remove('visually-hidden');\n      userSignOut.classList.remove('visually-hidden');\n      headerUser.classList.add('visually-hidden');\n    } else {\n      menuAuthIcon.setAttribute(\n        'href',\n        '/images/header/header-defs.svg#icon-arrow-narrow-right-1'\n      );\n      authLink.classList.add('visually-hidden');\n      userSignOut.classList.add('visually-hidden');\n      headerUser.classList.remove('visually-hidden');\n    }\n  });\n});\nconst headerUser = document.querySelector('.sign-up');\nconst authModal = document.querySelector('.auth-modal');\nconst headerUserName = document.querySelector('.user-signed');\nconst headerUserLogo = document.querySelector('.menu-auth-logo');\nconst userSignOut = document.querySelector('.sign-out');\nconst logOut = document.querySelector('.js-logout');\nconst authUp = document.querySelector('.auth-up');\nconst authDown = document.querySelector('.auth-down');\nauthUp.classList.add('visually-hidden');\nauthDown.classList.remove('visually-hidden');\n\n//отримуємо ім'я користувача\nasync function getNameForUpdateHeaderUser() {\n  const login = await isAuthUser();\n  // console.log(login);\n  if (login) {\n    getUserName().then(getUserNameRes => {\n      updateHeaderUser(getUserNameRes.data().name);\n    });\n  }\n  return login;\n}\n//запуск модального вікна\nheaderUser.addEventListener('click', () => {\n  document.body.classList.add('modal-open');\n  authModal.classList.remove('visually-hidden');\n  initAuthModal();\n  handlerActionAuth();\n});\n\nuserSignOut.addEventListener('click', () => {\n  logOut.classList.toggle('visually-hidden');\n  authDown.classList.toggle('visually-hidden');\n  authUp.classList.toggle('visually-hidden');\n});\n\nlogOut.addEventListener('click', () => {\n  logOutUser();\n});\n\n//оновлюємо напис на кнопці, показуємо фото\nconst updateHeaderUser = userName => {\n  headerUserName.textContent = userName;\n  headerUserLogo.classList.remove('visually-hidden');\n};\n\nconst mobileMenuButton = document.querySelector('.nav-mobile-menu');\nconst burgerIcon = document.querySelector('.burger');\nconst closeIcon = document.querySelector('.close-burger');\ncloseIcon.classList.add('visually-hidden');\n// Відслідковуємо відкриття мобільного меню\nlet isMobileMenuOpen = false;\n\nmobileMenuButton.addEventListener('click', toggleMobileMenu);\n// Обробка кліку на бургер\nfunction toggleMobileMenu() {\n  isMobileMenuOpen = !isMobileMenuOpen;\n\n  //Змінюємо іконку та відкриваємо/закриваємо меню\n  if (isMobileMenuOpen) {\n    // burgerIcon.setAttribute(\n    //   'href',\n    //   '/images/header/header-defs.svg#icon-close-1'\n    // );\n    closeIcon.classList.remove('visually-hidden');\n    burgerIcon.classList.add('visually-hidden');\n    document.body.classList.add('modal-open');\n    openMobileMenu();\n  } else {\n    // burgerIcon.setAttribute(\n    //   'href',\n    //   '/images/header/header-defs.svg#icon-burger-1'\n    // );\n    closeIcon.classList.add('visually-hidden');\n    burgerIcon.classList.remove('visually-hidden');\n    document.body.classList.remove('modal-open');\n    closeMobileMenu();\n  }\n}\n\nfunction openMobileMenu() {\n  let mobMenu = document.querySelector('.js-mobile-menu');\n  console.log('Мобильное меню открыто');\n  mobMenu.style.display = 'block';\n}\n\nfunction closeMobileMenu() {\n  let mobMenu = document.querySelector('.js-mobile-menu');\n  console.log('Мобильное меню закрыто');\n  mobMenu.style.display = 'none';\n}\n\nexport { updateHeaderUser, getNameForUpdateHeaderUser };\n","import { doc } from 'firebase/firestore';\nimport { logOutUser } from './auth-firebase';\nimport { handlerActionAuth, initAuthModal } from './auth-popup';\nimport { getNameForUpdateHeaderUser } from './header';\n\nconst mobMenu = document.querySelector('.js-mobile-menu');\nconst btnHome = document.querySelector('.button-home');\nconst btnShoppingList = document.querySelector('.button-shopping-list');\nconst btnLogOut = document.querySelector('.button-log-out');\nconst mobUserName = document.querySelector('.mob-user-signed');\nconst btnSignUp = document.querySelector('.mob-sign-up');\n// console.log(btnOpenMenu);\n// console.log(mobMenu);\n// console.log(btnHome);\nbtnHome.addEventListener('click', goHome);\nbtnShoppingList.addEventListener('click', openShoppingList);\nbtnLogOut.addEventListener('click', logOut);\n// btnSignUp.addEventListener('click', handlerBtnSingUp);\n\n// function handlerBtnSingUp(){\n//     initAuthModal();\n//     handlerActionAuth();\n// }\ngetNameForUpdateHeaderUser().then(login => {\n  if (login) {\n    btnSignUp.classList.add('visually-hidden');\n    btnHome.classList.remove('visually-hidden');\n    btnShoppingList.classList.remove('visually-hidden');\n    btnLogOut.classList.remove('visually-hidden');\n    mobUserName.classList.remove('visually-hidden');\n    console.log(mobUserName);\n\n  } else {\n    btnHome.classList.add('visually-hidden');\n    btnShoppingList.classList.add('visually-hidden');\n    btnLogOut.classList.add('visually-hidden');\n    btnSignUp.classList.remove('visually-hidden');\n    mobUserName.classList.add('visually-hidden');\n  }\n});\ngetNameForUpdateHeaderUser()\nconst authModal = document.querySelector('.auth-modal');\nbtnSignUp.addEventListener('click', () => {\n  authModal.classList.remove('visually-hidden');\nmobMenu.style.display = 'none';\n  initAuthModal();\n  handlerActionAuth();\n});\n\nfunction goHome(evt) {\n  window.location.href = '/index.html';\n  mobMenu.style.display = 'none';\n}\n\nfunction openShoppingList(evt) {\n  window.location.href = 'shopping-list.html';\n}\n\nfunction logOut(evt) {\n  logOutUser();\n  // window.location.href = '/index.html';\n}\n\n// const authModal = document.querySelector('.auth-modal');\n// переменнаяКнопки.addEventListener('click', () => {\n//   authModal.classList.remove('visually-hidden');\n//   initAuthModal();\n//   handlerActionAuth();\n// });\n","export default \"__VITE_ASSET__a4647b55__\"","export default \"__VITE_ASSET__614bd757__\"","export default \"__VITE_ASSET__0eb345dc__\"","export default \"__VITE_ASSET__e366421b__\"","// Імпорт функцій\nimport { fetchBookById } from './api';\n\nimport * as basicLightbox from 'basiclightbox';\nimport '../../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport icons from '/images/book-popup/icons.svg';\nimport amazon from '/images/book-popup/amazon.svg';\nimport appleBooks from '/images/book-popup/appleBooks.svg';\nimport notDownloaded1x from '/images/book-popup/not-downloaded@1x.jpg';\nimport notDownloaded2x from '/images/book-popup/not-downloaded@2x.jpg';\n\nimport { getNameForUpdateHeaderUser } from './header';\n\nimport { el } from './refs';\n\nconst STORAGE_KEY = 'booksList';\n\nfunction createBookCard(evt) {\n  // Початок відображення спінеру\n\n  if (evt.target === evt.currentTarget) {\n    return;\n  }\n  const currentBook = evt.target.closest('.js-book-on-click');\n\n  const bookId = currentBook.dataset.id;\n\n  fetchBookById(bookId)\n    .then(book => {\n      const { book_image, title, author, description, buy_links } = book;\n      const amazon_link = buy_links[0].url;\n      const appleBooks_link = buy_links[1].url;\n      const localStorage = getFromLocalStorage();\n      console.log('localStorage ', localStorage);\n\n      let buttonText;\n\n      if (\n        localStorage.length === 0 ||\n        !localStorage.find(book => book._id === bookId)\n      ) {\n        buttonText = 'Add to shopping list';\n      } else {\n        buttonText = 'Remove from the shopping list';\n      }\n\n      const markup = createMarkup(\n        book_image,\n        title,\n        author,\n        description,\n        amazon_link,\n        appleBooks_link,\n        buttonText\n      );\n\n      const instance = basicLightbox.create(\n        `\n    <div class=\"popup-modal\">${markup}</div>    \n`,\n        {\n          onShow: instance => {\n            document.body.style.overflow = 'hidden';\n          },\n          onClose: instance => {\n            document.body.style.overflow = 'visible';\n          },\n        }\n      );\n\n      instance.show();\n\n      // вішаємо на картинку обробник, чи вона завантажилась\n\n      el.bookPopupImage = document.querySelector('.popup-img');\n      el.bookPopupImage.onerror = function () {\n        el.bookPopupImage.src = notDownloaded1x;\n        console.log(el.bookPopupImage);\n      };\n\n      el.buttonAddToList = document.querySelector('.popup-button');\n      el.buttonAddToList.addEventListener(\n        'click',\n        onButtonBookPopupClick.bind(book)\n      );\n\n      document.addEventListener('keydown', handlerPress.bind(instance));\n\n      el.closeModalButton = document.querySelector('.popup-close-button');\n      el.closeModalButton.addEventListener(\n        'click',\n        handlerClose.bind(instance)\n      );\n\n      // Функція схову кнопку для неавторизованих користувачів\n      getNameForUpdateHeaderUser().then(login => {\n        if (login) {\n          el.buttonAddToList.classList.remove('visually-hidden');\n        } else {\n          el.buttonAddToList.classList.add('visually-hidden');\n        }\n      });\n\n      el.textUnderRemoveButton = document.querySelector('.popup-under-button');\n      if (el.buttonAddToList.textContent === 'Add to shopping list') {\n        el.textUnderRemoveButton.classList.add('is-hidden');\n      } else {\n        el.textUnderRemoveButton.classList.remove('is-hidden');\n      }\n    })\n    .catch(error => {\n      alert(`Error: ${error}`);\n    })\n    .finally(() => {\n      // Відключення спінеру\n    });\n}\n\nfunction setToLocalStorage(str) {\n  const localArr = getFromLocalStorage();\n  localArr.push(str);\n  addToLocalStorage(localArr);\n}\n\nfunction getFromLocalStorage() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction addToLocalStorage(arr) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));\n}\n\nfunction createMarkup(\n  bookCover,\n  title,\n  author,\n  descr,\n  amazonLink,\n  appleBooksLink,\n  buttonText\n) {\n  return `\n    <div class=\"popup-info\">\n      <div class=\"popup-cover\">\n        <img class=\"popup-img\" src=\"${bookCover}\" alt=\"${title}\" />\n      </div>\n      <div class=\"popup-about\">\n        <h2 class=\"popup-title\">${title}</h2>\n        <p class=\"popup-author\">${author}</p>\n        <p class=\"popup-descr\">${descr}</p>\n        <ul class=\"popup-store-list\">\n          <li class=\"popup-store popup-store-amazon\">\n            <a href=\"${amazonLink}\"\n            target=\"_blank\"\n              rel=\"noopener noreferrer\">\n            <img class=\"popup-store-icon popup-store-icon-amazon\" src=\"${amazon}\" alt=\"Amazon\" />\n            </a>\n          </li>\n          <li class=\"popup-store popup-store-apple\">\n            <a href=\"${appleBooksLink}\"\n            target=\"_blank\"\n              rel=\"noopener noreferrer\">\n            <img class=\"popup-store-icon popup-store-icon-apple\" src=\"${appleBooks}\" alt=\"AppleBook\" />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"popup-shopping-list\">\n      <button class=\"popup-button\">${buttonText}</button>\n      <p class=\"popup-under-button\">\n         Сongratulations! You have added the book to the shopping list. To delete,\n        press the button “Remove from the shopping list”.\n     </p>\n    </div>\n    <button class=\"popup-close-button\" type=\"button\" data-modal-close>\n      <svg class=\"popup-icon\" width=\"8\" height=\"8\">\n        <use href=\"${icons}#close-btn\"></use>\n      </svg>\n    </button>\n    `;\n}\n\nfunction onButtonBookPopupClick() {\n  const book = this;\n  if (el.buttonAddToList.textContent === 'Add to shopping list') {\n    setToLocalStorage(book);\n    el.buttonAddToList.textContent = 'Remove from the shopping list';\n    el.textUnderRemoveButton.classList.remove('is-hidden');\n  } else {\n    removeFromLocalStorage(book);\n    el.buttonAddToList.textContent = 'Add to shopping list';\n    el.textUnderRemoveButton.classList.add('is-hidden');\n  }\n}\n\nfunction removeFromLocalStorage({ _id: bookId }) {\n  const books = getFromLocalStorage();\n  const newBooks = books.filter(book => String(book._id) !== bookId);\n  addToLocalStorage(newBooks);\n}\n\n//Закриття модального вікна\nfunction handlerPress(event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  this.close();\n  document.removeEventListener('keydown', handlerPress);\n}\n\nfunction handlerClose() {\n  this.close();\n  el.closeModalButton.removeEventListener('click', handlerPress);\n}\n\nexport { createBookCard };\n","function showLoader() {\n  document.querySelector('.loader-overlay').style.display = 'block';\n}\n\nfunction hideLoader() {\n  document.querySelector('.loader-overlay').style.display = 'none';\n}\n\nexport { showLoader, hideLoader };\n","import { fetchBooksOfCategory } from './api.js';\nimport { createBookCard } from './book-popup';\nimport { el } from './refs.js';\nimport { showLoader, hideLoader } from './loader.js';\nimport Swal from 'sweetalert2';\n\n\n\n/**\n * Функція приймає параметром назву категорії у вигляді стрінги, робить запит на бекенд, створює розмітку і рендерить\n * @param {string} category\n */\nasync function createSelectedCategory(category) {\n  try {\n    showLoader();\n    const arrOfBooks = await fetchBooksOfCategory(category);\n    const markUp = createMarkupCategory(arrOfBooks);\n    const styledTitle = styleSectionTitle(category);\n\n    el.list.innerHTML =\n      `<h1 class=\"selected-category-title js-category-title\">${styledTitle}</h1><ul class=\"selected-category-list js-category-box\">` +\n      markUp + '</ul>';\n      \n    el.categoryBox = document.querySelector('.js-category-box');\n    el.categoryBox.addEventListener('click', createBookCard);\n    \n  } catch (error) {\n    console.log(error);\n    Swal.fire({\n         title: 'Error!',\n         text: 'Something went wrong! Try reload the page.',\n         confirmButtonText: 'OK',\n         imageUrl: \"./images/sad.svg\",\n         imageWidth: 40\n})\n    // Swal.fire('Oops...', 'Something went wrong!', 'error')\n  } finally {\n    hideLoader();\n  }\n}\n\n\nfunction styleSectionTitle(title) {\n  const words = title.split(' ');\n  const halfIndex = Math.ceil(words.length / 2);\n  const firstHalf = words.slice(0, halfIndex).join(' ');\n  const secondHalf = words.slice(halfIndex).join(' ');\n\n  return `\n        ${firstHalf} <span class=\"second-half\">${secondHalf}</span>\n    `;\n}\n\n\n\nfunction createMarkupCategory(arr) {\n  return arr\n    .map(({ author, title, book_image, _id }) => {\n      return `<li class=\"card-wrapper  js-book-on-click\" data-id=\"${_id}\">\n                 <div class=\"selected-category-img-box\">\n                   <img class=\"selected-category-img\" src=\"{book_image}\" alt=\"${title}\">\n                   <div class=\"selected-category-overlay\">\n                   <p class=\"selected-category-overlay-text\">quick view</p>\n                   </div>\n                 </div>\n                 <h2 class=\"selected-category-book-title\">${title}</h2>\n                 <p class=\"selected-category-book-author\">${author}</p>\n                </li>\n   `;\n    })\n    .join('');\n}\n\n\n\n\nexport { createSelectedCategory };","import { fetchTopBooks } from './api';\nimport { createBookCard } from './book-popup';\nimport { el } from './refs';\nimport { createSelectedCategory } from './selected-category-sec';\n// import Notiflix from 'notiflix';\nimport { showLoader, hideLoader } from './loader'\nimport Swiper from 'swiper';\nimport Swal from 'sweetalert2';\ncreateTopBooks();\n\nfunction createTopBooks() {\n  showLoader();\n  fetchTopBooks()\n    .then(bookData => {\n      const markup = bookData.map((book) => `\n      <div>\n        <h3 class=\"top-title\">${book.list_name}</h3>\n        <div class=\"swiper\">\n          <ul class=\"list-item swiper-wrapper\">\n            ${book.books.slice(0, 5).map((book) => `\n              <li class=\"li-top js-book-on-click swiper-slide\" data-id=\"${book._id}\">\n               <div class=\"card-container\">\n          <div class=\"card\">\n            <img class=\"img-top\" src=\"${book.book_image || './images/shopping-list-sec/plug_x1.png'}\"\n     srcset=\"${book.book_image || './images/shopping-list-sec/plug_x1.png'} 1x, \n             ${book.book_image || './images/shopping-list-sec/plug_x2.png'} 2x\"  alt=\"Зображення відсутнє\" onerror=\"this.onerror=null; this.src='./images/shopping-list-sec/plug_x1.png';\" />\n\n            <div class=\"overlay\">\n               <p class=\"quick-view\">quick view</p>\n             </div>\n          </div>\n       </div>\n                <p class=\"top-bookTitle\">${book.title}</p>\n                <p class=\"top-bookAuthor\">${book.author}</p>\n              </li>`).join(\"\")}\n          </ul>\n        </div>\n      </div>\n        <div class=\"top-button\">\n          <button class=\"top-bth top-bth-js\" data-category=\"${book.list_name}\" type=\"submit\">see more</button>\n        </div>\n      `).join(\"\");\n        \n      // Додаємо всі розмітки до елемента списку\n      el.list.innerHTML =\n        '<h1 class=\"top-title-boks\">Best Sellers <span class=\"top-title-span\">Books</span></h1><div class=\"list-top\" id=\"list\">' +\n        markup +\n        '</div>';\n\n      el.topOfCatecory = document.querySelectorAll('.list-item');\n      el.topOfCatecory.forEach(oneTopCategory =>\n        oneTopCategory.addEventListener('click', createBookCard)  \n      );\n\n    el.buttonSeeMore = document.querySelectorAll(\".top-bth-js\");\n        el.buttonSeeMore.forEach((button) => {\n      button.addEventListener(\"click\", handleSeeMore);\n    });\n    })\n    .catch(error => {\n  const markupCatch = `\n    <div>\n      <img src=\"./images/shopping-list-sec/empty_page_mobile_1x.png\"\n      srcset=\"./images/shopping-list-sec/empty_page_mobile_1x.png 1x,./images/shopping-list-sec/empty_page_mobile_2x.png 2x\" alt=\"\">\n    </div>`;\n      el.list.innerHTML = markupCatch;\n      Swal.fire({\n         title: 'Error!',\n         text: 'Something went wrong! Try reload the page.',\n         confirmButtonText: 'OK',\n         imageUrl: \"./images/sad.svg\",\n         imageWidth: 40\n})\n  // Далее вы можете использовать markupCatch по вашему усмотрению\n})\n    .finally(() => {\n      hideLoader()\n    });\n}\n\nfunction handleSeeMore(ev) {\n    \n    \n    const categoryTittle = ev.target.dataset.category.trim();\n    \n    createSelectedCategory(categoryTittle);\n}\nexport { createTopBooks };\n\n","import { fetchBookList, fetchTopBooks, fetchBooksOfCategory } from './api';\nimport { createSelectedCategory } from './selected-category-sec';\nimport { createTopBooks } from './top-books-sec';\nimport { showLoader, hideLoader } from './loader';\nimport { el } from './refs';\n\n// \"async\" запрос данных о списке книг с сервера и\n// формируем HTML-разметку для списка категорий, а разметку вставляем в item\n\n(async () => {\n  try {\n    if (document.getElementById('index') === null) {\n      return;\n    }\n\n    // Показываем лоадер перед загрузкой данных\n    showLoader();\n\n    const result = await fetchBookList();\n\n    // Сортировка категорий в алфавитном порядке\n    const sortedCategories = result.map(item => item.list_name).sort();\n\n    const markup = sortedCategories\n      .map(category => `<li class=\"main-categories-list-item\">${category}</li>`)\n      .join('');\n\n    el.mainCategoriesList.innerHTML =\n      '<li class=\"main-categories-list-item main-categories-list-item-active\">All categories</li>' +\n      markup;\n\n    // Скрываем лоадер после загрузки данных\n    hideLoader();\n\n    // Слушатель события для клика по категории:\n\n    el.mainCategoriesList.addEventListener('click', handleCategoryClick);\n  } catch (error) {\n    console.log('An error:', error);\n\n    hideLoader();\n  }\n})();\n\n// Обработчик события для клика по категории:\n\n// проверяется, был ли клик по элементу с классом 'main-categories-list-item'.\n// Если да, то происходит удаление класса 'main-categories-list-item-active' у всех элементов списка и добавление этого класса к элементу, по которому был сделан клик.\n// Затем, в зависимости от выбранной категории, делается запрос на сервер для получения соответствующих данных.\n// Если выбрана категория 'All categories', вызывается функция createTopBooks которая отрисовівает секцию Бествеллері.\n// В противном случае вызывается функция createSelectedCategory, в которую передается название категории. Она отрисовівает секцию вібранной категории.\n// В случае возникновения ошибки при выполнении запроса, выводится сообщение об ошибке в консоль.\n\nasync function handleCategoryClick(event) {\n  if (event.target.classList.contains('main-categories-list-item')) {\n    for (const item of el.mainCategoriesList.children) {\n      item.classList.remove('main-categories-list-item-active');\n    }\n\n    event.target.classList.add('main-categories-list-item-active');\n\n    try {\n      // Показываем лоадер перед загрузкой данных\n      showLoader();\n      if (event.target.textContent.trim() === 'All categories') {\n        createTopBooks();\n      } else {\n        createSelectedCategory(event.target.textContent);\n      }\n      // Скрываем лоадер после загрузки данных\n\n      hideLoader();\n    } catch (error) {\n      console.log('An error occurred:', error);\n    }\n  }\n}\n","export const supportItems = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: null,\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: null,\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: null,\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: null,\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: null,\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: null,\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: null,\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: null,\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: null,\n  },\n];\n","export default \"__VITE_ASSET__11b5dda8__\"","export default \"__VITE_ASSET__6c56cf62__\"","export default \"__VITE_ASSET__ef64c186__\"","export default \"__VITE_ASSET__d138beec__\"","export default \"__VITE_ASSET__75283258__\"","export default \"__VITE_ASSET__84b0c66f__\"","export default \"__VITE_ASSET__3d741b4a__\"","export default \"__VITE_ASSET__9c996135__\"","export default \"__VITE_ASSET__59a6fa5d__\"","export default \"__VITE_ASSET__f2d541d3__\"","export default \"__VITE_ASSET__462033d5__\"","export default \"__VITE_ASSET__876fb18b__\"","export default \"__VITE_ASSET__a1ebf00f__\"","export default \"__VITE_ASSET__0bb6fba4__\"","export default \"__VITE_ASSET__2f345984__\"","export default \"__VITE_ASSET__1e3c5536__\"","export default \"__VITE_ASSET__ea56a382__\"","export default \"__VITE_ASSET__f721e031__\"","import getRefs from './refs';\nconst refs = getRefs();\nimport { supportItems } from './support.js';\n\nimport saveChildren from './../images/support/save-children@1x.png';\nimport saveChildrens from './../images/support/save-children@2x.png';\nimport hopeImage from './../images/support/hope@1x.png';\nimport hopeImages from './../images/support/hope@2x.png';\nimport medicalCorp from './../images/support/medical-corps@1x.png';\nimport medicalCorps from './../images/support/medical-corps@2x.png';\nimport razomImage from './../images/support/razom@1x.png';\nimport razomImages from './../images/support/razom@2x.png';\nimport againstHunger from './../images/support/against-hunger@1x.png';\nimport againstHungers from './../images/support/against-hunger@2x.png';\nimport prytulaImage from './../images/support/prytula@1x.png';\nimport prytulaImages from './../images/support/prytula@2x.png';\nimport sansFrontier from './../images/support/sans-frontiers@1x.png';\nimport sansFrontiers from './../images/support/sans-frontiers@2x.png';\nimport worldVision from './../images/support/world-vision@1x.png';\nimport worldVisions from './../images/support/world-vision@2x.png';\nimport unitedImage from './../images/support/united24@1x.png';\nimport unitedImages from './../images/support/united24@2x.png';\n\nconst arrImg1x = [];\nconst arrImg2x = [];\n\narrImg1x.push(\n  saveChildren,\n  hopeImage,\n  medicalCorp,\n  razomImage,\n  againstHunger,\n  prytulaImage,\n  sansFrontier,\n  worldVision,\n  unitedImage\n);\n\narrImg2x.push(\n  saveChildrens,\n  hopeImages,\n  medicalCorps,\n  razomImages,\n  againstHungers,\n  prytulaImages,\n  sansFrontiers,\n  worldVisions,\n  unitedImages\n);\n\nconst aaa = getImages(arrImg1x, arrImg2x, supportItems);\n\nfunction getImages(arrImg1x, arrImg2x, supportItems) {\n  for (let i = 0; i < arrImg1x.length; i += 1) {\n    supportItems[i].id = i + 1;\n    supportItems[i].img = arrImg1x[i];\n    supportItems[i].img1x = arrImg1x[i];\n    supportItems[i].img2x = arrImg2x[i];\n  }\n\n  return supportItems;\n}\n\nfunction insertCategoryBlocks(category) {\n  return refs.bookCollectionWrapper.insertAdjacentHTML(\n    'beforeend',\n    markupCategoryBlock(category)\n  );\n}\n\n// Support Ukraine\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({ id, img, img1x, img2x, title, url }) => `\n        <li class=\"support-items\">\n            <a class=\"support-link\" href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <span>0${id}</span>\n                <img class=\"support-img\" src=\"${img}\" alt=\"${title}\" srcset=\"${img1x} 1x, ${img2x} 2x\" height=\"32\">\n            </a>\n        </li>                \n        `\n    )\n    .join('');\n}\n\nexport default { insertCategoryBlocks };\n","import { supportItems } from './support.js';\nimport { createMarkup } from './markup.js';\n\nconst supportList = document.querySelector('.js-suport-list');\nconst arrowDown = document.querySelector('.support-arrow-down');\nconst arrowUp = document.querySelector('.support-arrow-up');\n\narrowDown.addEventListener('click', handlerDown);\narrowUp.addEventListener('click', handlerUp);\n\nlet i = 0;\nsupportItems.forEach(element => {\n  element.id = i + 1;\n  i += 1;\n});\n\nsupportList.insertAdjacentHTML('afterbegin', createMarkup(supportItems));\n\nfunction handlerDown() {\n  arrowDown.classList.toggle('visually-hidden');\n  arrowUp.classList.toggle('visually-hidden');\n\n  for (let i = 0; i < 3; i += 1) {\n    supportList.children[i].classList.add('visually-hidden');\n  }\n\n  for (let i = 7; i < 9; i += 1) {\n    supportList.children[i].classList.remove('visually-hidden');\n  }\n}\n\nfunction handlerUp() {\n  arrowDown.classList.toggle('visually-hidden');\n  arrowUp.classList.toggle('visually-hidden');\n\n  for (let i = 0; i < 3; i += 1) {\n    supportList.children[i].classList.remove('visually-hidden');\n  }\n\n  for (let i = 7; i < 9; i += 1) {\n    supportList.children[i].classList.toggle('visually-hidden');\n  }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOgAAAFKCAMAAAAg1OMbAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAB1UExURUdwTP///////////////////////////////////////////////08u6GVI6+nl/L2w9tPL+Vo76vTy/pyJ8t7Y+3BV7GVI6si++Hti7qeW872x9qeX86eX9KeW9JF88YZv75F88Hti7Vo76bKk9b2x93BV7RH3XXgAAAAMdFJOUwDPkI/vn2DfIBAwoEAiyPgAAANgSURBVHja7dpRc6IwFIbhoIhgQ2IIWkXbuu3u/v+fuChWK4ru1XaT836XHmbk4ZxgZoxSpxTZJEl1NEmTSVao6+TjiJCnTPIesxjrSDO+6Go+1dFm+qWps4idrXQmoZ9fe1pE7myl3Tod6+gzPgyuFpD98E4kQEftCpXg1GmhMhFQncmY3HYvqBIZ0ESlMqCp0kICFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgX6P8Q6GVBr5iKg1pQioK1TBHTvlAD1y1IEtHMKgO5KGdC3Uga0LqOB2oVzzg4UX8oYoN7VO/MJqdaNu+MMF+rduir72c2HnEeoCw3qX6+Vh5ja3nQeoca82pCgQ8xDPim/yhvQfT0c6Et5N6ZrejkALZtgoObS8Nzvb/c2HoR+BAM93f17Pbf+0L7Fql7+LbQMDPr+0/d+UTcmRqgZHmqgQIECBQoUKFCgQNushEAbLQPaaBnQRsuANloGtNEyoBstA7rRIqCV0yKg1UKLgPadsUKN1SKg1844oTecUUK91TKgWgMNEur3ZzWc80OQR/UQoN7V53MM1bp2PcijeiDQj7er//er40eHi9yDejDQO2kvmf++X48EOjePHkQc0PXjjocIfW5zj3VdDw+6rFfH/c/FYY1H9WCg3WhW294mz/64WJqD9WUw0EV7w2bjb1Q250OQ26F6ZYOBartyfqC07Zzbofpq7nU40LsPoW3acvHPv/Y7TmDXtdcioN8SoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKVCg0leFMVSIDmqgnGdCJymRAM1XIWKSFUiMZk6tULgGat1AJLR3tnaqYxu6cqi555NJpfoSqWdTS6UydEnNPz/08rNNo30ijQl0mj3EvmI5ydZ0ie0oi2ialyST70s0/K7wJ8xAxTMcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAClCAMAAAC6JimfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAABpUExURUdwTP///////////////////////////////////////08u6GVI6+nl/Fo76vTy/tPL+ZyJ8oZv797Y+5F88b2x9r2w9rKj9XBV7KeW86eW9Mi++LKk9aeX83ti7nti7b2x96eX9Fo76TlS1NEAAAAKdFJOUwAgn6CPQN/PEJCpRugbAAABZElEQVR42u3cuXLCMBSFYZl41eqNPQkk7/+QQQYG4xpdUvyn8mn0zR0XkhopdUmRl1ok1SpT19S5FkxeT2alRVNFNdfCyZXKtHgKtZJHG1XJo6XSbwgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKChoevTs5NHByKODl0edN+KosyY5Omy6cdxvhyczKeo6b26xo3uYET24NOiPecqodbiaEbXmkASNy/u+2++70zTxZVAzQ00i9Le9f6+9GGofxYKCvhq1QR61ToujkymMXk1ZdBe0OHo3JdFT0OJoWPRkaHAuzJFlfz267aed1H9vpq0tLHqiTXyecPBPPSXq75Rf9CToZfHdVxt/YPt5Oxz5WbdJ0GPfPso6MvPeHwUO26HrAvdTUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0H+ClvJmpRp5dKUKeTRT8qM273ofSdWiszb17QGq7ENo2rIpovcHAh3vUzxHm2MAAAAASUVORK5CYII=\"","export default \"__VITE_ASSET__d6297da0__\"","export default \"__VITE_ASSET__46678785__\"","export default \"__VITE_ASSET__0a8bf942__\"","import { el } from './refs';\nimport plugx2 from './../images/shopping-list-sec/plug_x2.png';\nimport plugx1 from './../images/shopping-list-sec/plug_x1.png';\nimport trash from '/images/shopping-list-sec/sprite.svg';\nimport amazon from '/images/shopping-list-sec/amazon.svg';\nimport appleBooks from '/images/shopping-list-sec/appleBooks.svg';\n\nconst tempBookList = getFromLocalStorage();\nlet perPageLimit = getPerPageLimit();\nlet visibleButtons;\nlet pageAmount = Math.ceil(tempBookList.length / perPageLimit);\n\nlet currentPage;\n\nwindow.addEventListener('load', () => {\n  if (document.getElementById('shopping') === null) {\n    return;\n  }\n\n  setCurrentPage(1);\n\n  el.prevButton.addEventListener('click', () => {\n    setCurrentPage(currentPage - 1);\n  });\n  el.nextButton.addEventListener('click', () => {\n    setCurrentPage(currentPage + 1);\n  });\n  el.toEnd.addEventListener('click', () => {\n    setCurrentPage(pageAmount);\n  });\n  el.toStart.addEventListener('click', () => {\n    setCurrentPage(1);\n  });\n\n  document\n    .getElementById('pagination-numbers')\n    .addEventListener('click', switchPage);\n});\n\nfunction switchPage(e) {\n  const button = e.target;\n  if (button.classList.contains('pagination-page-number')) {\n    const pageIndex = Number(button.getAttribute('page-index'));\n    setCurrentPage(pageIndex);\n  }\n}\n\nfunction loadFallbackImage(e) {\n  e.target.classList.add('hidden');\n  let img = document.createElement('img');\n  img.srcset = `${plugx2} 2x, ${plugx1} 1x`;\n  img.src = `${plugx1}`;\n  img.alt = 'plug';\n  document.querySelector('.image-thumb').appendChild(img);\n}\n\nfunction getFromLocalStorage() {\n  const tempBookList = JSON.parse(localStorage.getItem('booksList'));\n  if (tempBookList) {\n    return tempBookList;\n  } else {\n    return [];\n  }\n}\n\nfunction getPerPageLimit() {\n  if (window.innerWidth <= 767) {\n    return 4;\n  } else {\n    return 3;\n  }\n}\n\nfunction getVisibleButtons() {\n  if (window.innerWidth <= 767) {\n    return 2;\n  } else {\n    return 3;\n  }\n}\n\nfunction getItemsInBatch(startIndex, batchSize) {\n  if (tempBookList) {\n    return tempBookList.slice(startIndex, batchSize);\n  } else {\n    return [];\n  }\n}\n\nfunction appendPageNumber(index) {\n  const pageNumber = document.createElement('button');\n  pageNumber.classList.add('pagination-page-number');\n  pageNumber.classList.add('pagination-number');\n  pageNumber.innerHTML = index;\n  pageNumber.setAttribute('page-index', index);\n  pageNumber.setAttribute('aria-label', 'Page ' + index);\n\n  el.paginationNumbers.appendChild(pageNumber);\n}\n\nfunction getPaginationNumbers(startNum, endNum) {\n  for (let i = startNum; i <= endNum; i++) {\n    appendPageNumber(i);\n  }\n}\n\nfunction handlePageButtonsStatus() {\n  if (currentPage === 1) {\n    disableButton(el.prevButton);\n    disableButton(el.toStart);\n  } else {\n    enableButton(el.prevButton);\n    enableButton(el.toStart);\n  }\n  if (pageAmount === currentPage) {\n    disableButton(el.nextButton);\n    disableButton(el.toEnd);\n  } else {\n    enableButton(el.nextButton);\n    enableButton(el.toEnd);\n  }\n}\n\nfunction disableButton(button) {\n  button.classList.add('disabled');\n  button.setAttribute('disabled', true);\n}\n\nfunction enableButton(button) {\n  button.classList.remove('disabled');\n  button.removeAttribute('disabled');\n}\n\nwindow.addEventListener('resize', () => {\n  perPageLimit = getPerPageLimit();\n  visibleButtons = getVisibleButtons();\n  setCurrentPage(currentPage);\n});\n\nfunction setCurrentPage(pageNum) {\n  if (document.getElementById('shopping') === null) {\n    return;\n  }\n\n  currentPage = pageNum;\n\n  handleActivePageNumber();\n  handlePageButtonsStatus();\n\n  const startIndex = (pageNum - 1) * perPageLimit;\n  const currRange = pageNum * perPageLimit;\n\n  const listBatch = getItemsInBatch(startIndex, currRange);\n\n  if (listBatch.length != 0) {\n    el.shoppingList.innerHTML = '';\n    el.shoppingList.insertAdjacentHTML(\n      'afterbegin',\n      createBookTemplate(listBatch)\n    );\n    el.shoppingList.addEventListener('click', deleteFromCart);\n  }\n  if (pageAmount === 1) {\n    el.paginationContainer.style.display = 'none';\n  }\n  if (tempBookList.length === 0) {\n    el.paginationContainer.classList.add('hidden');\n    el.emptyPage.classList.remove('hidden');\n  } else {\n    el.paginationContainer.classList.remove('hidden');\n  }\n  renderPagination();\n  document\n    .querySelectorAll('.shopping-book-cover')\n    .forEach(bookCover =>\n      bookCover.addEventListener('error', loadFallbackImage)\n    );\n}\n\nfunction handleActivePageNumber() {\n  document.querySelectorAll('.pagination-number').forEach(button => {\n    button.classList.remove('active');\n\n    const pageIndex = Number(button.getAttribute('page-index'));\n    if (pageIndex == currentPage) {\n      button.classList.add('active');\n    }\n  });\n}\n\nfunction renderPagination() {\n  const maxVisibleButtons = getVisibleButtons();\n  el.paginationNumbers.innerHTML = '';\n  pageAmount = Math.ceil(tempBookList.length / perPageLimit);\n\n  if (currentPage > pageAmount) {\n    setCurrentPage(pageAmount);\n  }\n\n  if (pageAmount <= maxVisibleButtons) {\n    getPaginationNumbers(1, pageAmount);\n  } else {\n    const startPage = Math.max(\n      currentPage - Math.floor(maxVisibleButtons / 2),\n      1\n    );\n    const endPage = Math.min(startPage + maxVisibleButtons - 1, pageAmount);\n\n    if (startPage > 1) {\n      const ellipsisButton = document.createElement('button');\n\n      ellipsisButton.className = 'pagination-number';\n      ellipsisButton.textContent = '...';\n\n      ellipsisButton.addEventListener('click', () => {\n        setCurrentPage(startPage - 1);\n      });\n\n      el.paginationNumbers.appendChild(ellipsisButton);\n    }\n\n    getPaginationNumbers(startPage, endPage);\n\n    if (endPage < pageAmount) {\n      const ellipsisButton = document.createElement('button');\n\n      ellipsisButton.className = 'pagination-number';\n      ellipsisButton.textContent = '...';\n\n      ellipsisButton.addEventListener('click', () => {\n        setCurrentPage(currentPage + 1);\n      });\n\n      el.paginationNumbers.appendChild(ellipsisButton);\n    }\n  }\n  handleActivePageNumber();\n}\n\nfunction createBookTemplate(bookList) {\n  const template = bookList.map(\n    book => `\n            <li class=\"shopping-book-card\" data-book-id=\"${book._id}\">\n                <div class=\"image-thumb\">\n                  <img class=\"shopping-book-cover\" src=\"${book.book_image}\" alt=\"${book.title}\"/>\n                </div>\n                <div class=\"card-info\">\n                    <h3 class=\"shopping-book-title\">${book.title}</h3>\n                    <p class=\"shopping-book-category\">${book.list_name}</p>\n                    <p class=\"shopping-book-description\">${book.description}</p>\n                    <p class=\"shopping-book-author\">${book.author}</p>\n                </div>\n                <button type=\"button\" class=\"delete-btn js-delete-book\">\n                    <svg class=\"delete-svg\" width=\"16\" height=\"16\">\n                        <use href=\"${trash}#trash\"></use>\n                    </svg>\n                </button>\n                <div class=\"trade-fairs\">\n                  <a href=\"${book.buy_links[0].url}\" target=\"_blank\">\n                    <img class=\"amazon-img\" src=\"${amazon}\" width=\"32\" height=\"11\"/>\n                  </a>\n                  <a href=\"${book.buy_links[1].url}\" target=\"_blank\">\n                    <img class=\"apple-books-img\" src=\"${appleBooks}\" width=\"16\" height=\"16\"/>\n                  </a>\n                </div>\n            </li>\n`\n  );\n  return template.join('');\n}\n\nfunction deleteFromCart(e) {\n  const button = e.target.closest('.js-delete-book');\n\n  if (!button) {\n    return;\n  }\n\n  const card = button.closest('.shopping-book-card');\n  const bookId = card.dataset['bookId'];\n  const bookIndex = tempBookList.findIndex(item => item._id === bookId);\n\n  if (bookIndex != -1) {\n    tempBookList.splice(bookIndex, 1);\n    localStorage.setItem('booksList', JSON.stringify(tempBookList));\n\n    card.remove();\n\n    const cardsOnCurrentPage =\n      perPageLimit - (tempBookList.length % perPageLimit);\n\n    if (cardsOnCurrentPage === perPageLimit && currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n\n    setCurrentPage(currentPage);\n    renderPagination();\n  }\n}\n","const scrollToTopBtn = document.querySelector('#scrollToTopButton');\n// Додаємо обробник події при прокручуванні сторінки\nwindow.addEventListener('scroll', () => {\n    // Показуємо або приховуємо кнопку залежно від положення сторінки\n  if (window.pageYOffset > 500) {\n    scrollToTopBtn.classList.add('show');\n  } else {\n    scrollToTopBtn.classList.remove('show');\n  }\n});\nscrollToTopBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});"],"names":["el","getRefs","storeDarkMode","value","loadDarkMode","darkmode","axios","fetchBookList","resp","fetchTopBooks","fetchBooksOfCategory","category","fetchBookById","bookId","firebaseConfig","app","initializeApp","db","getFirestore","auth","getAuth","registrationUser","email","password","createUserWithEmailAndPassword","setUserName","userName","docRef","doc","setDoc","loginUser","signInWithEmailAndPassword","isAuthUser","removeAccount","user","deleteUser","getUserName","getDoc","logOutUser","signOut","Swal","authModal","authClose","authSwitcherSignUp","authSwitcherSignIn","authName","authEmail","authPassword","authSignUp","authSignIn","handlerActionAuth","removeListenersAuthModal","handlerOnClose","keydownDocumentAuthForm","clickAuthSwitcherSignUp","clickAuthSwitcherSignIn","clickAuthLogin","clickAuthRegistration","evt","validateEmail","login","getUserNameRes","message","updateHeaderUser","getUserNameError","signInAppError","registration","name","setUserNameError","removeAccountError","createAccountError","displayName","initAuthModal","passwordIconLocked","passwordIconOpened","passwordInput","isPasswordVisible","togglePasswordVisibility","currentUrl","item","getNameForUpdateHeaderUser","menuAuthIcon","authLink","userSignOut","headerUser","headerUserName","headerUserLogo","logOut","authUp","authDown","mobileMenuButton","burgerIcon","closeIcon","isMobileMenuOpen","toggleMobileMenu","openMobileMenu","closeMobileMenu","mobMenu","btnHome","btnShoppingList","btnLogOut","mobUserName","btnSignUp","goHome","openShoppingList","icons","amazon$1","appleBooks$1","notDownloaded1x","STORAGE_KEY","createBookCard","book","book_image","title","author","description","buy_links","amazon_link","appleBooks_link","localStorage","getFromLocalStorage","buttonText","markup","createMarkup","instance","basicLightbox.create","onButtonBookPopupClick","handlerPress","handlerClose","error","setToLocalStorage","str","localArr","addToLocalStorage","data","arr","bookCover","descr","amazonLink","appleBooksLink","amazon","appleBooks","removeFromLocalStorage","newBooks","event","showLoader","hideLoader","createSelectedCategory","arrOfBooks","markUp","createMarkupCategory","styledTitle","styleSectionTitle","words","halfIndex","firstHalf","secondHalf","_id","createTopBooks","bookData","oneTopCategory","button","handleSeeMore","markupCatch","ev","categoryTittle","handleCategoryClick","supportItems","saveChildren","saveChildrens","hopeImage","hopeImages","medicalCorp","medicalCorps","razomImage","razomImages","againstHunger","againstHungers","prytulaImage","prytulaImages","sansFrontier","sansFrontiers","worldVision","worldVisions","unitedImage","unitedImages","arrImg1x","arrImg2x","getImages","i","id","img","img1x","img2x","url","supportList","arrowDown","arrowUp","handlerDown","handlerUp","element","plugx2","plugx1","trash","tempBookList","perPageLimit","getPerPageLimit","pageAmount","currentPage","setCurrentPage","switchPage","pageIndex","loadFallbackImage","getVisibleButtons","getItemsInBatch","startIndex","batchSize","appendPageNumber","index","pageNumber","getPaginationNumbers","startNum","endNum","handlePageButtonsStatus","disableButton","enableButton","pageNum","handleActivePageNumber","currRange","listBatch","createBookTemplate","deleteFromCart","renderPagination","maxVisibleButtons","startPage","endPage","ellipsisButton","bookList","card","bookIndex","scrollToTopBtn"],"mappings":"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"}