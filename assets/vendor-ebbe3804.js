function Td(t,e){return function(){return t.apply(e,arguments)}}const{toString:Tw}=Object.prototype,{getPrototypeOf:ka}=Object,Ts=(t=>e=>{const n=Tw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ht=t=>(t=t.toLowerCase(),e=>Ts(e)===t),Is=t=>e=>typeof e===t,{isArray:Gn}=Array,Ar=Is("undefined");function Iw(t){return t!==null&&!Ar(t)&&t.constructor!==null&&!Ar(t.constructor)&&We(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Id=ht("ArrayBuffer");function bw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Id(t.buffer),e}const Aw=Is("string"),We=Is("function"),bd=Is("number"),bs=t=>t!==null&&typeof t=="object",Sw=t=>t===!0||t===!1,Bi=t=>{if(Ts(t)!=="object")return!1;const e=ka(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pw=ht("Date"),Cw=ht("File"),Rw=ht("Blob"),kw=ht("FileList"),xw=t=>bs(t)&&We(t.pipe),Ow=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||We(t.append)&&((e=Ts(t))==="formdata"||e==="object"&&We(t.toString)&&t.toString()==="[object FormData]"))},Dw=ht("URLSearchParams"),Nw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Gn(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Ad(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Sd=t=>!Ar(t)&&t!=={};function $o(){const{caseless:t}=Sd(this)&&this||{},e={},n=(r,i)=>{const s=t&&Ad(e,i)||i;Bi(e[s])&&Bi(r)?e[s]=$o(e[s],r):Bi(r)?e[s]=$o({},r):Gn(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Gr(arguments[r],n);return e}const Vw=(t,e,n,{allOwnKeys:r}={})=>(Gr(e,(i,s)=>{n&&We(i)?t[s]=Td(i,n):t[s]=i},{allOwnKeys:r}),t),Mw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Lw=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Fw=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ka(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Bw=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Uw=t=>{if(!t)return null;if(Gn(t))return t;let e=t.length;if(!bd(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ka(Uint8Array)),zw=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Hw=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},qw=ht("HTMLFormElement"),$w=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Bc=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Gw=ht("RegExp"),Pd=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Gr(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Ww=t=>{Pd(t,(e,n)=>{if(We(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(We(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Kw=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Gn(t)?r(t):r(String(t).split(e)),n},Qw=()=>{},Yw=(t,e)=>(t=+t,Number.isFinite(t)?t:e),go="abcdefghijklmnopqrstuvwxyz",Uc="0123456789",Cd={DIGIT:Uc,ALPHA:go,ALPHA_DIGIT:go+go.toUpperCase()+Uc},Xw=(t=16,e=Cd.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Jw(t){return!!(t&&We(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Zw=t=>{const e=new Array(10),n=(r,i)=>{if(bs(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Gn(r)?[]:{};return Gr(r,(o,a)=>{const c=n(o,i+1);!Ar(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return n(t,0)},ey=ht("AsyncFunction"),ty=t=>t&&(bs(t)||We(t))&&We(t.then)&&We(t.catch),E={isArray:Gn,isArrayBuffer:Id,isBuffer:Iw,isFormData:Ow,isArrayBufferView:bw,isString:Aw,isNumber:bd,isBoolean:Sw,isObject:bs,isPlainObject:Bi,isUndefined:Ar,isDate:Pw,isFile:Cw,isBlob:Rw,isRegExp:Gw,isFunction:We,isStream:xw,isURLSearchParams:Dw,isTypedArray:jw,isFileList:kw,forEach:Gr,merge:$o,extend:Vw,trim:Nw,stripBOM:Mw,inherits:Lw,toFlatObject:Fw,kindOf:Ts,kindOfTest:ht,endsWith:Bw,toArray:Uw,forEachEntry:zw,matchAll:Hw,isHTMLForm:qw,hasOwnProperty:Bc,hasOwnProp:Bc,reduceDescriptors:Pd,freezeMethods:Ww,toObjectSet:Kw,toCamelCase:$w,noop:Qw,toFiniteNumber:Yw,findKey:Ad,global:{},isContextDefined:Sd,ALPHABET:Cd,generateString:Xw,isSpecCompliantForm:Jw,toJSONObject:Zw,isAsyncFn:ey,isThenable:ty};function Q(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}E.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Rd=Q.prototype,kd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kd[t]={value:t}});Object.defineProperties(Q,kd);Object.defineProperty(Rd,"isAxiosError",{value:!0});Q.from=(t,e,n,r,i,s)=>{const o=Object.create(Rd);return E.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Q.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const ny=null;function Go(t){return E.isPlainObject(t)||E.isArray(t)}function xd(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function jc(t,e,n){return t?t.concat(e).map(function(i,s){return i=xd(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function ry(t){return E.isArray(t)&&!t.some(Go)}const iy=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function As(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,T){return!E.isUndefined(T[m])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(i))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(E.isDate(_))return _.toISOString();if(!c&&E.isBlob(_))throw new Q("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(_)||E.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,m,T){let I=_;if(_&&!T&&typeof _=="object"){if(E.endsWith(m,"{}"))m=r?m:m.slice(0,-2),_=JSON.stringify(_);else if(E.isArray(_)&&ry(_)||(E.isFileList(_)||E.endsWith(m,"[]"))&&(I=E.toArray(_)))return m=xd(m),I.forEach(function(P,A){!(E.isUndefined(P)||P===null)&&e.append(o===!0?jc([m],A,s):o===null?m:m+"[]",d(P))}),!1}return Go(_)?!0:(e.append(jc(T,m,s),d(_)),!1)}const p=[],y=Object.assign(iy,{defaultVisitor:h,convertValue:d,isVisitable:Go});function w(_,m){if(!E.isUndefined(_)){if(p.indexOf(_)!==-1)throw Error("Circular reference detected in "+m.join("."));p.push(_),E.forEach(_,function(I,C){(!(E.isUndefined(I)||I===null)&&i.call(e,I,E.isString(C)?C.trim():C,m,y))===!0&&w(I,m?m.concat(C):[C])}),p.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return w(t),e}function zc(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function xa(t,e){this._pairs=[],t&&As(t,this,e)}const Od=xa.prototype;Od.append=function(e,n){this._pairs.push([e,n])};Od.toString=function(e){const n=e?function(r){return e.call(this,r,zc)}:zc;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sy(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dd(t,e,n){if(!e)return t;const r=n&&n.encode||sy,i=n&&n.serialize;let s;if(i?s=i(e,n):s=E.isURLSearchParams(e)?e.toString():new xa(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class oy{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Hc=oy,Nd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ay=typeof URLSearchParams<"u"?URLSearchParams:xa,ly=typeof FormData<"u"?FormData:null,cy=typeof Blob<"u"?Blob:null,uy={isBrowser:!0,classes:{URLSearchParams:ay,FormData:ly,Blob:cy},protocols:["http","https","file","blob","url","data"]},Vd=typeof window<"u"&&typeof document<"u",dy=(t=>Vd&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),hy=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vd,hasStandardBrowserWebWorkerEnv:hy,hasStandardBrowserEnv:dy},Symbol.toStringTag,{value:"Module"})),rt={...fy,...uy};function py(t,e){return As(t,new rt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return rt.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function my(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gy(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Md(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&E.isArray(i)?i.length:o,c?(E.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!E.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&E.isArray(i[o])&&(i[o]=gy(i[o])),!a)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(r,i)=>{e(my(r),i,n,0)}),n}return null}function wy(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Oa={transitional:Nd,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=E.isObject(e);if(s&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return i&&i?JSON.stringify(Md(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return py(e,this.formSerializer).toString();if((a=E.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return As(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),wy(e)):e}],transformResponse:[function(e){const n=this.transitional||Oa.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&E.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Q.from(a,Q.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{Oa.headers[t]={}});const Da=Oa,yy=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_y=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&yy[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},qc=Symbol("internals");function cr(t){return t&&String(t).trim().toLowerCase()}function Ui(t){return t===!1||t==null?t:E.isArray(t)?t.map(Ui):String(t)}function vy(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Ey=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wo(t,e,n,r,i){if(E.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!E.isString(e)){if(E.isString(r))return e.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(e)}}function Ty(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Iy(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ss{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,c,d){const h=cr(c);if(!h)throw new Error("header name must be a non-empty string");const p=E.findKey(i,h);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=Ui(a))}const o=(a,c)=>E.forEach(a,(d,h)=>s(d,h,c));return E.isPlainObject(e)||e instanceof this.constructor?o(e,n):E.isString(e)&&(e=e.trim())&&!Ey(e)?o(_y(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=cr(e),e){const r=E.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return vy(i);if(E.isFunction(n))return n.call(this,i,r);if(E.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=cr(e),e){const r=E.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wo(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=cr(o),o){const a=E.findKey(r,o);a&&(!n||wo(r,r[a],a,n))&&(delete r[a],i=!0)}}return E.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wo(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return E.forEach(this,(i,s)=>{const o=E.findKey(r,s);if(o){n[o]=Ui(i),delete n[s];return}const a=e?Ty(s):String(s).trim();a!==s&&delete n[s],n[a]=Ui(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[qc]=this[qc]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=cr(o);r[a]||(Iy(i,o),r[a]=!0)}return E.isArray(e)?e.forEach(s):s(e),this}}Ss.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Ss.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});E.freezeMethods(Ss);const yt=Ss;function yo(t,e){const n=this||Da,r=e||n,i=yt.from(r.headers);let s=r.data;return E.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Ld(t){return!!(t&&t.__CANCEL__)}function Wr(t,e,n){Q.call(this,t??"canceled",Q.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(Wr,Q,{__CANCEL__:!0});function by(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Q("Request failed with status code "+n.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ay=rt.hasStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const c=[];c.push(n+"="+encodeURIComponent(r)),E.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),E.isString(s)&&c.push("path="+s),E.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Sy(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Py(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Fd(t,e){return t&&!Sy(e)?Py(t,e):e}const Cy=rt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=E.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Ry(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ky(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[s];o||(o=d),n[i]=c,r[i]=d;let p=s,y=0;for(;p!==i;)y+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const w=h&&d-h;return w?Math.round(y*1e3/w):void 0}}function $c(t,e){let n=0;const r=ky(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,c=r(a),d=s<=o;n=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&d?(o-s)/c:void 0,event:i};h[e?"download":"upload"]=!0,t(h)}}const xy=typeof XMLHttpRequest<"u",Oy=xy&&function(t){return new Promise(function(n,r){let i=t.data;const s=yt.from(t.headers).normalize(),o=t.responseType;let a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let d;if(E.isFormData(i)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[_,...m]=d?d.split(";").map(T=>T.trim()).filter(Boolean):[];s.setContentType([_||"multipart/form-data",...m].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const _=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(_+":"+m))}const p=Fd(t.baseURL,t.url);h.open(t.method.toUpperCase(),Dd(p,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function y(){if(!h)return;const _=yt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:_,config:t,request:h};by(function(C){n(C),c()},function(C){r(C),c()},T),h=null}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(r(new Q("Request aborted",Q.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new Q("Network Error",Q.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const T=t.transitional||Nd;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Q(m,T.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,t,h)),h=null},rt.hasStandardBrowserEnv){const _=Cy(p)&&t.xsrfCookieName&&Ay.read(t.xsrfCookieName);_&&s.set(t.xsrfHeaderName,_)}i===void 0&&s.setContentType(null),"setRequestHeader"in h&&E.forEach(s.toJSON(),function(m,T){h.setRequestHeader(T,m)}),E.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",$c(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",$c(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=_=>{h&&(r(!_||_.type?new Wr(null,t,h):_),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const w=Ry(p);if(w&&rt.protocols.indexOf(w)===-1){r(new Q("Unsupported protocol "+w+":",Q.ERR_BAD_REQUEST,t));return}h.send(i||null)})},Wo={http:ny,xhr:Oy};E.forEach(Wo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Gc=t=>`- ${t}`,Dy=t=>E.isFunction(t)||t===null||t===!1,Bd={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Dy(n)&&(r=Wo[(o=String(n)).toLowerCase()],r===void 0))throw new Q(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Gc).join(`
`):" "+Gc(s[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Wo};function _o(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wr(null,t)}function Wc(t){return _o(t),t.headers=yt.from(t.headers),t.data=yo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Bd.getAdapter(t.adapter||Da.adapter)(t).then(function(r){return _o(t),r.data=yo.call(t,t.transformResponse,r),r.headers=yt.from(r.headers),r},function(r){return Ld(r)||(_o(t),r&&r.response&&(r.response.data=yo.call(t,t.transformResponse,r.response),r.response.headers=yt.from(r.response.headers))),Promise.reject(r)})}const Kc=t=>t instanceof yt?t.toJSON():t;function Mn(t,e){e=e||{};const n={};function r(d,h,p){return E.isPlainObject(d)&&E.isPlainObject(h)?E.merge.call({caseless:p},d,h):E.isPlainObject(h)?E.merge({},h):E.isArray(h)?h.slice():h}function i(d,h,p){if(E.isUndefined(h)){if(!E.isUndefined(d))return r(void 0,d,p)}else return r(d,h,p)}function s(d,h){if(!E.isUndefined(h))return r(void 0,h)}function o(d,h){if(E.isUndefined(h)){if(!E.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function a(d,h,p){if(p in e)return r(d,h);if(p in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,h)=>i(Kc(d),Kc(h),!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(h){const p=c[h]||i,y=p(t[h],e[h],h);E.isUndefined(y)&&p!==a||(n[h]=y)}),n}const Ud="1.6.1",Na={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Na[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Qc={};Na.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Ud+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Q(i(o," has been removed"+(n?" in "+n:"")),Q.ERR_DEPRECATED);return n&&!Qc[o]&&(Qc[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Ny(t,e,n){if(typeof t!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new Q("option "+s+" must be "+c,Q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Q("Unknown option "+s,Q.ERR_BAD_OPTION)}}const Ko={assertOptions:Ny,validators:Na},Pt=Ko.validators;class Yi{constructor(e){this.defaults=e,this.interceptors={request:new Hc,response:new Hc}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mn(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ko.assertOptions(r,{silentJSONParsing:Pt.transitional(Pt.boolean),forcedJSONParsing:Pt.transitional(Pt.boolean),clarifyTimeoutError:Pt.transitional(Pt.boolean)},!1),i!=null&&(E.isFunction(i)?n.paramsSerializer={serialize:i}:Ko.assertOptions(i,{encode:Pt.function,serialize:Pt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&E.merge(s.common,s[n.method]);s&&E.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=yt.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const d=[];this.interceptors.response.forEach(function(m){d.push(m.fulfilled,m.rejected)});let h,p=0,y;if(!c){const _=[Wc.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,d),y=_.length,h=Promise.resolve(n);p<y;)h=h.then(_[p++],_[p++]);return h}y=a.length;let w=n;for(p=0;p<y;){const _=a[p++],m=a[p++];try{w=_(w)}catch(T){m.call(this,T);break}}try{h=Wc.call(this,w)}catch(_){return Promise.reject(_)}for(p=0,y=d.length;p<y;)h=h.then(d[p++],d[p++]);return h}getUri(e){e=Mn(this.defaults,e);const n=Fd(e.baseURL,e.url);return Dd(n,e.params,e.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(e){Yi.prototype[e]=function(n,r){return this.request(Mn(r||{},{method:e,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Mn(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Yi.prototype[e]=n(),Yi.prototype[e+"Form"]=n(!0)});const ji=Yi;class Va{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Wr(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Va(function(i){e=i}),cancel:e}}}const Vy=Va;function My(t){return function(n){return t.apply(null,n)}}function Ly(t){return E.isObject(t)&&t.isAxiosError===!0}const Qo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qo).forEach(([t,e])=>{Qo[e]=t});const Fy=Qo;function jd(t){const e=new ji(t),n=Td(ji.prototype.request,e);return E.extend(n,ji.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return jd(Mn(t,i))},n}const me=jd(Da);me.Axios=ji;me.CanceledError=Wr;me.CancelToken=Vy;me.isCancel=Ld;me.VERSION=Ud;me.toFormData=As;me.AxiosError=Q;me.Cancel=me.CanceledError;me.all=function(e){return Promise.all(e)};me.spread=My;me.isAxiosError=Ly;me.mergeConfig=Mn;me.AxiosHeaders=yt;me.formToJSON=t=>Md(E.isHTMLForm(t)?new FormData(t):t);me.getAdapter=Bd.getAdapter;me.HttpStatusCode=Fy;me.default=me;const oP=me;const zd=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},By=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let y=(a&15)<<2|d>>6,w=d&63;c||(w=64,o||(y=64)),r.push(n[h],n[p],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):By(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||p==null)throw new Uy;const y=s<<2|a>>4;if(r.push(y),d!==64){const w=a<<4&240|d>>2;if(r.push(w),p!==64){const _=d<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jy=function(t){const e=zd(t);return Hd.encodeByteArray(e,!0)},Xi=function(t){return jy(t).replace(/\./g,"")},qd=function(t){try{return Hd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hy=()=>zy().__FIREBASE_DEFAULTS__,qy=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$y=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qd(t[1]);return e&&JSON.parse(e)},Ma=()=>{try{return Hy()||qy()||$y()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$d=t=>{var e,n;return(n=(e=Ma())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Gy=t=>{const e=$d(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gd=()=>{var t;return(t=Ma())===null||t===void 0?void 0:t.config},Wd=t=>{var e;return(e=Ma())===null||e===void 0?void 0:e[`_${t}`]};class Wy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ky(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Xi(JSON.stringify(n)),Xi(JSON.stringify(o)),a].join(".")}function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function Yy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jy(){const t=Ne();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zy(){try{return typeof indexedDB=="object"}catch{return!1}}function e_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}const t_="FirebaseError";class bt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t_,Object.setPrototypeOf(this,bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}}class Kr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?n_(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new bt(i,a,r)}}function n_(t,e){return t.replace(r_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const r_=/\{\$([^}]+)}/g;function i_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Yc(s)&&Yc(o)){if(!Ji(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yc(t){return t!==null&&typeof t=="object"}function Qr(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function s_(t,e){const n=new o_(t,e);return n.subscribe.bind(n)}class o_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");a_(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vo),i.error===void 0&&(i.error=vo),i.complete===void 0&&(i.complete=vo);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vo(){}function je(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xt="[DEFAULT]";class l_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u_(e))try{this.getOrInitializeService({instanceIdentifier:Xt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xt){return this.instances.has(e)}getOptions(e=Xt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xt){return this.component?this.component.multipleInstances?e:Xt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c_(t){return t===Xt?void 0:t}function u_(t){return t.instantiationMode==="EAGER"}class d_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var G;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(G||(G={}));const h_={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},f_=G.INFO,p_={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},m_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=p_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class La{constructor(e){this.name=e,this._logLevel=f_,this._logHandler=m_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}const g_=(t,e)=>e.some(n=>t instanceof n);let Xc,Jc;function w_(){return Xc||(Xc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y_(){return Jc||(Jc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kd=new WeakMap,Yo=new WeakMap,Qd=new WeakMap,Eo=new WeakMap,Fa=new WeakMap;function __(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Kd.set(n,t)}).catch(()=>{}),Fa.set(e,t),e}function v_(t){if(Yo.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yo.set(t,e)}let Xo={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yo.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E_(t){Xo=t(Xo)}function T_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(To(this),e,...n);return Qd.set(r,e.sort?e.sort():[e]),Mt(r)}:y_().includes(t)?function(...e){return t.apply(To(this),e),Mt(Kd.get(this))}:function(...e){return Mt(t.apply(To(this),e))}}function I_(t){return typeof t=="function"?T_(t):(t instanceof IDBTransaction&&v_(t),g_(t,w_())?new Proxy(t,Xo):t)}function Mt(t){if(t instanceof IDBRequest)return __(t);if(Eo.has(t))return Eo.get(t);const e=I_(t);return e!==t&&(Eo.set(t,e),Fa.set(e,t)),e}const To=t=>Fa.get(t);function b_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Mt(o.result),c.oldVersion,c.newVersion,Mt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const A_=["get","getKey","getAll","getAllKeys","count"],S_=["put","add","delete","clear"],Io=new Map;function Zc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Io.get(e))return Io.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A_.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&c.done]))[0]};return Io.set(e,s),s}E_(t=>({...t,get:(e,n,r)=>Zc(e,n)||t.get(e,n,r),has:(e,n)=>!!Zc(e,n)||t.has(e,n)}));class P_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jo="@firebase/app",eu="0.9.22";const sn=new La("@firebase/app"),R_="@firebase/app-compat",k_="@firebase/analytics-compat",x_="@firebase/analytics",O_="@firebase/app-check-compat",D_="@firebase/app-check",N_="@firebase/auth",V_="@firebase/auth-compat",M_="@firebase/database",L_="@firebase/database-compat",F_="@firebase/functions",B_="@firebase/functions-compat",U_="@firebase/installations",j_="@firebase/installations-compat",z_="@firebase/messaging",H_="@firebase/messaging-compat",q_="@firebase/performance",$_="@firebase/performance-compat",G_="@firebase/remote-config",W_="@firebase/remote-config-compat",K_="@firebase/storage",Q_="@firebase/storage-compat",Y_="@firebase/firestore",X_="@firebase/firestore-compat",J_="firebase",Z_="10.5.2";const Zo="[DEFAULT]",ev={[Jo]:"fire-core",[R_]:"fire-core-compat",[x_]:"fire-analytics",[k_]:"fire-analytics-compat",[D_]:"fire-app-check",[O_]:"fire-app-check-compat",[N_]:"fire-auth",[V_]:"fire-auth-compat",[M_]:"fire-rtdb",[L_]:"fire-rtdb-compat",[F_]:"fire-fn",[B_]:"fire-fn-compat",[U_]:"fire-iid",[j_]:"fire-iid-compat",[z_]:"fire-fcm",[H_]:"fire-fcm-compat",[q_]:"fire-perf",[$_]:"fire-perf-compat",[G_]:"fire-rc",[W_]:"fire-rc-compat",[K_]:"fire-gcs",[Q_]:"fire-gcs-compat",[Y_]:"fire-fst",[X_]:"fire-fst-compat","fire-js":"fire-js",[J_]:"fire-js-all"};const Zi=new Map,ea=new Map;function tv(t,e){try{t.container.addComponent(e)}catch(n){sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ln(t){const e=t.name;if(ea.has(e))return sn.debug(`There were multiple attempts to register component ${e}.`),!1;ea.set(e,t);for(const n of Zi.values())tv(n,t);return!0}function Ba(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const nv={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lt=new Kr("app","Firebase",nv);class rv{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const Wn=Z_;function iv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Lt.create("bad-app-name",{appName:String(i)});if(n||(n=Gd()),!n)throw Lt.create("no-options");const s=Zi.get(i);if(s){if(Ji(n,s.options)&&Ji(r,s.config))return s;throw Lt.create("duplicate-app",{appName:i})}const o=new d_(i);for(const c of ea.values())o.addComponent(c);const a=new rv(n,r,o);return Zi.set(i,a),a}function Yd(t=Zo){const e=Zi.get(t);if(!e&&t===Zo&&Gd())return iv();if(!e)throw Lt.create("no-app",{appName:t});return e}function Ft(t,e,n){var r;let i=(r=ev[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sn.warn(a.join(" "));return}Ln(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const sv="firebase-heartbeat-database",ov=1,Sr="firebase-heartbeat-store";let bo=null;function Xd(){return bo||(bo=b_(sv,ov,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sr)}}}).catch(t=>{throw Lt.create("idb-open",{originalErrorMessage:t.message})})),bo}async function av(t){try{return await(await Xd()).transaction(Sr).objectStore(Sr).get(Jd(t))}catch(e){if(e instanceof bt)sn.warn(e.message);else{const n=Lt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sn.warn(n.message)}}}async function tu(t,e){try{const r=(await Xd()).transaction(Sr,"readwrite");await r.objectStore(Sr).put(e,Jd(t)),await r.done}catch(n){if(n instanceof bt)sn.warn(n.message);else{const r=Lt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sn.warn(r.message)}}}function Jd(t){return`${t.name}!${t.options.appId}`}const lv=1024,cv=30*24*60*60*1e3;class uv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nu();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=cv}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nu(),{heartbeatsToSend:n,unsentEntries:r}=dv(this._heartbeatsCache.heartbeats),i=Xi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function nu(){return new Date().toISOString().substring(0,10)}function dv(t,e=lv){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ru(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ru(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zy()?e_().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await av(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ru(t){return Xi(JSON.stringify({version:2,heartbeats:t})).length}function fv(t){Ln(new rn("platform-logger",e=>new P_(e),"PRIVATE")),Ln(new rn("heartbeat",e=>new uv(e),"PRIVATE")),Ft(Jo,eu,t),Ft(Jo,eu,"esm2017"),Ft("fire-js","")}fv("");var pv="firebase",mv="10.5.2";Ft(pv,mv,"app");function Ua(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Zd(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gv=Zd,eh=new Kr("auth","Firebase",Zd());const es=new La("@firebase/auth");function wv(t,...e){es.logLevel<=G.WARN&&es.warn(`Auth (${Wn}): ${t}`,...e)}function zi(t,...e){es.logLevel<=G.ERROR&&es.error(`Auth (${Wn}): ${t}`,...e)}function Xe(t,...e){throw ja(t,...e)}function ot(t,...e){return ja(t,...e)}function yv(t,e,n){const r=Object.assign(Object.assign({},gv()),{[e]:n});return new Kr("auth","Firebase",r).create(e,{appName:t.name})}function ja(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eh.create(t,...e)}function L(t,e,...n){if(!t)throw ja(e,...n)}function pt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zi(e),new Error(e)}function vt(t,e){t||pt(e)}function ta(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _v(){return iu()==="http:"||iu()==="https:"}function iu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function vv(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_v()||Yy()||"connection"in navigator)?navigator.onLine:!0}function Ev(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Yr{constructor(e,n){this.shortDelay=e,this.longDelay=n,vt(n>e,"Short delay should be less than long delay!"),this.isMobile=Qy()||Xy()}get(){return vv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function za(t,e){vt(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class th{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Iv=new Yr(3e4,6e4);function dn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hn(t,e,n,r,i={}){return nh(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Qr(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),th.fetch()(rh(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function nh(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tv),e);try{const i=new Av(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pi(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pi(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Pi(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Pi(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yv(t,h,d);Xe(t,h)}}catch(i){if(i instanceof bt)throw i;Xe(t,"network-request-failed",{message:String(i)})}}async function Xr(t,e,n,r,i={}){const s=await hn(t,e,n,r,i);return"mfaPendingCredential"in s&&Xe(t,"multi-factor-auth-required",{_serverResponse:s}),s}function rh(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?za(t.config,i):`${t.config.apiScheme}://${i}`}function bv(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Av{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ot(this.auth,"network-request-failed")),Iv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pi(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ot(t,e,r);return i.customData._tokenResponse=n,i}function su(t){return t!==void 0&&t.enterprise!==void 0}class Sv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bv(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Pv(t,e){return hn(t,"GET","/v2/recaptchaConfig",dn(t,e))}async function Cv(t,e){return hn(t,"POST","/v1/accounts:delete",e)}async function Rv(t,e){return hn(t,"POST","/v1/accounts:lookup",e)}function _r(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kv(t,e=!1){const n=je(t),r=await n.getIdToken(e),i=Ha(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_r(Ao(i.auth_time)),issuedAtTime:_r(Ao(i.iat)),expirationTime:_r(Ao(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ao(t){return Number(t)*1e3}function Ha(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zi("JWT malformed, contained fewer than 3 sections"),null;try{const i=qd(n);return i?JSON.parse(i):(zi("Failed to decode base64 JWT payload"),null)}catch(i){return zi("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xv(t){const e=Ha(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pr(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bt&&Ov(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ov({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Dv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ih{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ts(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pr(t,Rv(n,{idToken:r}));L(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Mv(s.providerUserInfo):[],a=Vv(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ih(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Nv(t){const e=je(t);await ts(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vv(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mv(t){return t.map(e=>{var{providerId:n}=e,r=Ua(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Lv(t,e){const n=await nh(t,{},async()=>{const r=Qr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rh(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",th.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}class Cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return L(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Lv(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cr;return r&&(L(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(L(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cr,this.toJSON())}_performRefresh(){return pt("not implemented")}}function Ct(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ua(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ih(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Pr(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kv(this,e)}reload(){return Nv(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ts(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Pr(this,Cv(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,d,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(d=n.createdAt)!==null&&d!==void 0?d:void 0,C=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:A,isAnonymous:F,providerData:W,stsTokenManager:Me}=n;L(P&&Me,e,"internal-error");const te=Cr.fromJSON(this.name,Me);L(typeof P=="string",e,"internal-error"),Ct(p,e.name),Ct(y,e.name),L(typeof A=="boolean",e,"internal-error"),L(typeof F=="boolean",e,"internal-error"),Ct(w,e.name),Ct(_,e.name),Ct(m,e.name),Ct(T,e.name),Ct(I,e.name),Ct(C,e.name);const Ee=new tn({uid:P,auth:e,email:y,emailVerified:A,displayName:p,isAnonymous:F,photoURL:_,phoneNumber:w,tenantId:m,stsTokenManager:te,createdAt:I,lastLoginAt:C});return W&&Array.isArray(W)&&(Ee.providerData=W.map(k=>Object.assign({},k))),T&&(Ee._redirectEventId=T),Ee}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cr;i.updateFromServerResponse(n);const s=new tn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ts(s),s}}const ou=new Map;function mt(t){vt(t instanceof Function,"Expected a class definition");let e=ou.get(t);return e?(vt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ou.set(t,e),e)}class sh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sh.type="NONE";const au=sh;function Hi(t,e,n){return`firebase:${t}:${e}:${n}`}class xn{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hi(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hi("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xn(mt(au),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||mt(au);const o=Hi(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){const p=tn._fromJSON(e,h);d!==s&&(a=p),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new xn(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new xn(s,e,r))}}function lu(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lh(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uh(e))return"Blackberry";if(dh(e))return"Webos";if(qa(e))return"Safari";if((e.includes("chrome/")||ah(e))&&!e.includes("edge/"))return"Chrome";if(ch(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oh(t=Ne()){return/firefox\//i.test(t)}function qa(t=Ne()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ah(t=Ne()){return/crios\//i.test(t)}function lh(t=Ne()){return/iemobile/i.test(t)}function ch(t=Ne()){return/android/i.test(t)}function uh(t=Ne()){return/blackberry/i.test(t)}function dh(t=Ne()){return/webos/i.test(t)}function Ps(t=Ne()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fv(t=Ne()){var e;return Ps(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bv(){return Jy()&&document.documentMode===10}function hh(t=Ne()){return Ps(t)||ch(t)||dh(t)||uh(t)||/windows phone/i.test(t)||lh(t)}function Uv(){try{return!!(window&&window!==window.top)}catch{return!1}}function fh(t,e=[]){let n;switch(t){case"Browser":n=lu(Ne());break;case"Worker":n=`${lu(Ne())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wn}/${r}`}class jv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}async function zv(t,e={}){return hn(t,"GET","/v2/passwordPolicy",dn(t,e))}const Hv=6;class qv{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Hv,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class $v{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cu(this),this.idTokenSubscription=new cu(this),this.beforeStateQueue=new jv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mt(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xn.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ts(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ev()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?je(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zv(this),n=new qv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mt(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=await xn.create(this,[mt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wv(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fn(t){return je(t)}class cu{constructor(e){this.auth=e,this.observer=null,this.addObserver=s_(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gv(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ph(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ot("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Gv().appendChild(r)})}function Wv(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Kv="https://www.google.com/recaptcha/enterprise.js?render=",Qv="recaptcha-enterprise",Yv="NO_RECAPTCHA";class Xv{constructor(e){this.type=Qv,this.auth=fn(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Pv(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new Sv(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;su(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(Yv)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&su(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}ph(Kv+a).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function uu(t,e,n,r=!1){const i=new Xv(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uu(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uu(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function Jv(t,e){const n=Ba(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ji(s,e??{}))return i;Xe(i,"already-initialized")}return n.initialize({options:e})}function Zv(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mt);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eE(t,e,n){const r=fn(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=gh(e),{host:o,port:a}=tE(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nE()}function gh(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tE(t){const e=gh(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:du(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:du(o)}}}function du(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nE(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class $a{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pt("not implemented")}_getIdTokenResponse(e){return pt("not implemented")}_linkToIdToken(e,n){return pt("not implemented")}_getReauthenticationResolver(e){return pt("not implemented")}}async function rE(t,e){return hn(t,"POST","/v1/accounts:update",e)}async function iE(t,e){return Xr(t,"POST","/v1/accounts:signInWithPassword",dn(t,e))}async function sE(t,e){return Xr(t,"POST","/v1/accounts:signInWithEmailLink",dn(t,e))}async function oE(t,e){return Xr(t,"POST","/v1/accounts:signInWithEmailLink",dn(t,e))}class Rr extends $a{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rr(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rr(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,n,"signInWithPassword",iE);case"emailLink":return sE(e,{email:this._email,oobCode:this._password});default:Xe(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return rE(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oE(e,{idToken:n,email:this._email,oobCode:this._password});default:Xe(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function On(t,e){return Xr(t,"POST","/v1/accounts:signInWithIdp",dn(t,e))}const aE="http://localhost";class on extends $a{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new on(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xe("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ua(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new on(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return On(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,On(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,On(e,n)}buildRequest(){const e={requestUri:aE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qr(n)}return e}}function lE(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cE(t){const e=fr(pr(t)).link,n=e?fr(pr(e)).deep_link_id:null,r=fr(pr(t)).deep_link_id;return(r?fr(pr(r)).link:null)||r||n||e||t}class Ga{constructor(e){var n,r,i,s,o,a;const c=fr(pr(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=lE((i=c.mode)!==null&&i!==void 0?i:null);L(d&&h&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=cE(e);try{return new Ga(n)}catch{return null}}}class Kn{constructor(){this.providerId=Kn.PROVIDER_ID}static credential(e,n){return Rr._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ga.parseLink(n);return L(r,"argument-error"),Rr._fromEmailAndCode(e,r.code,r.tenantId)}}Kn.PROVIDER_ID="password";Kn.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jr extends wh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kt extends Jr{constructor(){super("facebook.com")}static credential(e){return on._fromParams({providerId:kt.PROVIDER_ID,signInMethod:kt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kt.credentialFromTaggedObject(e)}static credentialFromError(e){return kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kt.credential(e.oauthAccessToken)}catch{return null}}}kt.FACEBOOK_SIGN_IN_METHOD="facebook.com";kt.PROVIDER_ID="facebook.com";class xt extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return on._fromParams({providerId:xt.PROVIDER_ID,signInMethod:xt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xt.credentialFromTaggedObject(e)}static credentialFromError(e){return xt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xt.credential(n,r)}catch{return null}}}xt.GOOGLE_SIGN_IN_METHOD="google.com";xt.PROVIDER_ID="google.com";class Ot extends Jr{constructor(){super("github.com")}static credential(e){return on._fromParams({providerId:Ot.PROVIDER_ID,signInMethod:Ot.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ot.credentialFromTaggedObject(e)}static credentialFromError(e){return Ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ot.credential(e.oauthAccessToken)}catch{return null}}}Ot.GITHUB_SIGN_IN_METHOD="github.com";Ot.PROVIDER_ID="github.com";class Dt extends Jr{constructor(){super("twitter.com")}static credential(e,n){return on._fromParams({providerId:Dt.PROVIDER_ID,signInMethod:Dt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dt.credentialFromTaggedObject(e)}static credentialFromError(e){return Dt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dt.credential(n,r)}catch{return null}}}Dt.TWITTER_SIGN_IN_METHOD="twitter.com";Dt.PROVIDER_ID="twitter.com";async function uE(t,e){return Xr(t,"POST","/v1/accounts:signUp",dn(t,e))}class an{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await tn._fromIdTokenResponse(e,r,i),o=hu(r);return new an({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hu(r);return new an({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ns extends bt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ns.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ns(e,n,r,i)}}function yh(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ns._fromErrorAndOperation(t,s,e,r):s})}async function dE(t,e,n=!1){const r=await Pr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return an._forOperation(t,"link",r)}async function hE(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Pr(t,yh(r,i,e,t),n);L(s.idToken,r,"internal-error");const o=Ha(s.idToken);L(o,r,"internal-error");const{sub:a}=o;return L(t.uid===a,r,"user-mismatch"),an._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xe(r,"user-mismatch"),s}}async function _h(t,e,n=!1){const r="signIn",i=await yh(t,r,e),s=await an._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function fE(t,e){return _h(fn(t),e)}async function vh(t){const e=fn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aP(t,e,n){const r=fn(t),o=await mh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uE).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&vh(t),c}),a=await an._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function lP(t,e,n){return fE(je(t),Kn.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vh(t),r})}function pE(t,e,n,r){return je(t).onIdTokenChanged(e,n,r)}function mE(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function cP(t){return je(t).signOut()}async function uP(t){return je(t).delete()}const rs="__sak";class Eh{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function gE(){const t=Ne();return qa(t)||Ps(t)}const wE=1e3,yE=10;class Th extends Eh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gE()&&Uv(),this.fallbackToPolling=hh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Bv()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yE):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Th.type="LOCAL";const _E=Th;class Ih extends Eh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ih.type="SESSION";const bh=Ih;function vE(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Cs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cs(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async d=>d(n.origin,s)),c=await vE(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cs.receivers=[];function Wa(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class EE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const d=Wa("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function at(){return window}function TE(t){at().location.href=t}function Ah(){return typeof at().WorkerGlobalScope<"u"&&typeof at().importScripts=="function"}async function IE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bE(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AE(){return Ah()?self:null}const Sh="firebaseLocalStorageDb",SE=1,is="firebaseLocalStorage",Ph="fbase_key";class Zr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rs(t,e){return t.transaction([is],e?"readwrite":"readonly").objectStore(is)}function PE(){const t=indexedDB.deleteDatabase(Sh);return new Zr(t).toPromise()}function na(){const t=indexedDB.open(Sh,SE);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(is,{keyPath:Ph})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(is)?e(r):(r.close(),await PE(),e(await na()))})})}async function fu(t,e,n){const r=Rs(t,!0).put({[Ph]:e,value:n});return new Zr(r).toPromise()}async function CE(t,e){const n=Rs(t,!1).get(e),r=await new Zr(n).toPromise();return r===void 0?null:r.value}function pu(t,e){const n=Rs(t,!0).delete(e);return new Zr(n).toPromise()}const RE=800,kE=3;class Ch{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await na(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kE)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ah()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cs._getInstance(AE()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IE(),!this.activeServiceWorker)return;this.sender=new EE(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await na();return await fu(e,rs,"1"),await pu(e,rs),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fu(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CE(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pu(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rs(i,!1).getAll();return new Zr(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ch.type="LOCAL";const xE=Ch;new Yr(3e4,6e4);function OE(t,e){return e?mt(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ka extends $a{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return On(e,this._buildIdpRequest())}_linkToIdToken(e,n){return On(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return On(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DE(t){return _h(t.auth,new Ka(t),t.bypassAuthState)}function NE(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),hE(n,new Ka(t),t.bypassAuthState)}async function VE(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),dE(n,new Ka(t),t.bypassAuthState)}class Rh{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DE;case"linkViaPopup":case"linkViaRedirect":return VE;case"reauthViaPopup":case"reauthViaRedirect":return NE;default:Xe(this.auth,"internal-error")}}resolve(e){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ME=new Yr(2e3,1e4);class Rn extends Rh{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rn.currentPopupAction&&Rn.currentPopupAction.cancel(),Rn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return L(e,this.auth,"internal-error"),e}async onExecution(){vt(this.filter.length===1,"Popup operations only handle one event");const e=Wa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ot(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ot(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ME.get())};e()}}Rn.currentPopupAction=null;const LE="pendingRedirect",qi=new Map;class FE extends Rh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qi.get(this.auth._key());if(!e){try{const r=await BE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qi.set(this.auth._key(),e)}return this.bypassAuthState||qi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BE(t,e){const n=zE(e),r=jE(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UE(t,e){qi.set(t._key(),e)}function jE(t){return mt(t._redirectPersistence)}function zE(t){return Hi(LE,t.config.apiKey,t.name)}async function HE(t,e,n=!1){const r=fn(t),i=OE(r,e),o=await new FE(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const qE=10*60*1e3;class $E{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GE(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kh(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ot(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qE&&this.cachedEventUids.clear(),this.cachedEventUids.has(mu(e))}saveEventToCache(e){this.cachedEventUids.add(mu(e)),this.lastProcessedEventTime=Date.now()}}function mu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kh({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GE(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kh(t);default:return!1}}async function WE(t,e={}){return hn(t,"GET","/v1/projects",e)}const KE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QE=/^https?/;async function YE(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WE(t);for(const n of e)try{if(XE(n))return}catch{}Xe(t,"unauthorized-domain")}function XE(t){const e=ta(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!QE.test(n))return!1;if(KE.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const JE=new Yr(3e4,6e4);function gu(){const t=at().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZE(t){return new Promise((e,n)=>{var r,i,s;function o(){gu(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gu(),n(ot(t,"network-request-failed"))},timeout:JE.get()})}if(!((i=(r=at().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=at().gapi)===null||s===void 0)&&s.load)o();else{const a=Wv("iframefcb");return at()[a]=()=>{gapi.load?o():n(ot(t,"network-request-failed"))},ph(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw $i=null,e})}let $i=null;function eT(t){return $i=$i||ZE(t),$i}const tT=new Yr(5e3,15e3),nT="__/auth/iframe",rT="emulator/auth/iframe",iT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oT(t){const e=t.config;L(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?za(e,rT):`https://${t.config.authDomain}/${nT}`,r={apiKey:e.apiKey,appName:t.name,v:Wn},i=sT.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qr(r).slice(1)}`}async function aT(t){const e=await eT(t),n=at().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:oT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iT,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ot(t,"network-request-failed"),a=at().setTimeout(()=>{s(o)},tT.get());function c(){at().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}const lT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cT=500,uT=600,dT="_blank",hT="http://localhost";class wu{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fT(t,e,n,r=cT,i=uT){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},lT),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Ne().toLowerCase();n&&(a=ah(d)?dT:n),oh(d)&&(e=e||hT,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[w,_])=>`${y}${w}=${_},`,"");if(Fv(d)&&a!=="_self")return pT(e||"",a),new wu(null);const p=window.open(e||"",a,h);L(p,t,"popup-blocked");try{p.focus()}catch{}return new wu(p)}function pT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const mT="__/auth/handler",gT="emulator/auth/handler",wT=encodeURIComponent("fac");async function yu(t,e,n,r,i,s){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wn,eventId:i};if(e instanceof wh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",i_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Jr){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${wT}=${encodeURIComponent(c)}`:"";return`${yT(t)}?${Qr(a).slice(1)}${d}`}function yT({config:t}){return t.emulator?za(t,gT):`https://${t.authDomain}/${mT}`}const So="webStorageSupport";class _T{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bh,this._completeRedirectFn=HE,this._overrideRedirectResult=UE}async _openPopup(e,n,r,i){var s;vt((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yu(e,n,r,ta(),i);return fT(e,o,Wa())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yu(e,n,r,ta(),i);return TE(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vt(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aT(e),r=new $E(e);return n.register("authEvent",i=>(L(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(So,{type:So},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[So];o!==void 0&&n(!!o),Xe(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YE(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hh()||qa()||Ps()}}const vT=_T;var _u="@firebase/auth",vu="1.3.2";class ET{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function IT(t){Ln(new rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;L(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fh(t)},d=new $v(r,i,s,c);return Zv(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ln(new rn("auth-internal",e=>{const n=fn(e.getProvider("auth").getImmediate());return(r=>new ET(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ft(_u,vu,TT(t)),Ft(_u,vu,"esm2017")}const bT=5*60,AT=Wd("authIdTokenMaxAge")||bT;let Eu=null;const ST=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AT)return;const i=n==null?void 0:n.token;Eu!==i&&(Eu=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dP(t=Yd()){const e=Ba(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jv(t,{popupRedirectResolver:vT,persistence:[xE,_E,bh]}),r=Wd("authTokenSyncURL");if(r){const s=ST(r);mE(n,s,()=>s(n.currentUser)),pE(n,o=>s(o))}const i=$d("auth");return i&&eE(n,`http://${i}`),n}IT("Browser");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R,Qa=Qa||{},B=PT||self;function ks(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ei(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function CT(t){return Object.prototype.hasOwnProperty.call(t,Po)&&t[Po]||(t[Po]=++RT)}var Po="closure_uid_"+(1e9*Math.random()>>>0),RT=0;function kT(t,e,n){return t.call.apply(t.bind,arguments)}function xT(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Oe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Oe=kT:Oe=xT,Oe.apply(null,arguments)}function Ci(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ve(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ht(){this.s=this.s,this.o=this.o}var OT=0;Ht.prototype.s=!1;Ht.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),OT!=0)&&CT(this)};Ht.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ya(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tu(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ks(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function De(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var DT=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{B.addEventListener("test",()=>{},e),B.removeEventListener("test",()=>{},e)}catch{}return t}();function kr(t){return/^[\s\xa0]*$/.test(t)}function xs(){var t=B.navigator;return t&&(t=t.userAgent)?t:""}function nt(t){return xs().indexOf(t)!=-1}function Xa(t){return Xa[" "](t),t}Xa[" "]=function(){};function NT(t,e){var n=S0;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var VT=nt("Opera"),Fn=nt("Trident")||nt("MSIE"),Oh=nt("Edge"),ra=Oh||Fn,Dh=nt("Gecko")&&!(xs().toLowerCase().indexOf("webkit")!=-1&&!nt("Edge"))&&!(nt("Trident")||nt("MSIE"))&&!nt("Edge"),MT=xs().toLowerCase().indexOf("webkit")!=-1&&!nt("Edge");function Nh(){var t=B.document;return t?t.documentMode:void 0}var ia;e:{var Co="",Ro=function(){var t=xs();if(Dh)return/rv:([^\);]+)(\)|;)/.exec(t);if(Oh)return/Edge\/([\d\.]+)/.exec(t);if(Fn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(MT)return/WebKit\/(\S+)/.exec(t);if(VT)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ro&&(Co=Ro?Ro[1]:""),Fn){var ko=Nh();if(ko!=null&&ko>parseFloat(Co)){ia=String(ko);break e}}ia=Co}var sa;if(B.document&&Fn){var Iu=Nh();sa=Iu||parseInt(ia,10)||void 0}else sa=void 0;var LT=sa;function xr(t,e){if(De.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Dh){e:{try{Xa(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:FT[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xr.$.h.call(this)}}ve(xr,De);var FT={2:"touch",3:"pen",4:"mouse"};xr.prototype.h=function(){xr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ti="closure_listenable_"+(1e6*Math.random()|0),BT=0;function UT(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++BT,this.fa=this.ia=!1}function Os(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ja(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function jT(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Vh(t){const e={};for(const n in t)e[n]=t[n];return e}const bu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mh(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<bu.length;s++)n=bu[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ds(t){this.src=t,this.g={},this.h=0}Ds.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=aa(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new UT(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function oa(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=xh(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Os(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function aa(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Za="closure_lm_"+(1e6*Math.random()|0),xo={};function Lh(t,e,n,r,i){if(r&&r.once)return Bh(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Lh(t,e[s],n,r,i);return null}return n=nl(n),t&&t[ti]?t.O(e,n,ei(r)?!!r.capture:!!r,i):Fh(t,e,n,!1,r,i)}function Fh(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ei(i)?!!i.capture:!!i,a=tl(t);if(a||(t[Za]=a=new Ds(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=zT(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)DT||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jh(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zT(){function t(n){return e.call(t.src,t.listener,n)}const e=HT;return t}function Bh(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Bh(t,e[s],n,r,i);return null}return n=nl(n),t&&t[ti]?t.P(e,n,ei(r)?!!r.capture:!!r,i):Fh(t,e,n,!0,r,i)}function Uh(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Uh(t,e[s],n,r,i);else r=ei(r)?!!r.capture:!!r,n=nl(n),t&&t[ti]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=aa(s,n,r,i),-1<n&&(Os(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tl(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aa(e,n,r,i)),(n=-1<t?e[t]:null)&&el(n))}function el(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ti])oa(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jh(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tl(e))?(oa(n,t),n.h==0&&(n.src=null,e[Za]=null)):Os(t)}}}function jh(t){return t in xo?xo[t]:xo[t]="on"+t}function HT(t,e){if(t.fa)t=!0;else{e=new xr(e,this);var n=t.listener,r=t.la||t.src;t.ia&&el(t),t=n.call(r,e)}return t}function tl(t){return t=t[Za],t instanceof Ds?t:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function nl(t){return typeof t=="function"?t:(t[Oo]||(t[Oo]=function(e){return t.handleEvent(e)}),t[Oo])}function _e(){Ht.call(this),this.i=new Ds(this),this.S=this,this.J=null}ve(_e,Ht);_e.prototype[ti]=!0;_e.prototype.removeEventListener=function(t,e,n,r){Uh(this,t,e,n,r)};function Se(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new De(e,t);else if(e instanceof De)e.target=e.target||t;else{var i=e;e=new De(r,t),Mh(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ri(o,r,!0,e)&&i}if(o=e.g=t,i=Ri(o,r,!0,e)&&i,i=Ri(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ri(o,r,!1,e)&&i}_e.prototype.N=function(){if(_e.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Os(n[r]);delete t.g[e],t.h--}}this.J=null};_e.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_e.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ri(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&oa(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var rl=B.JSON.stringify;class qT{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function $T(){var t=il;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class GT{constructor(){this.h=this.g=null}add(e,n){const r=zh.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zh=new qT(()=>new WT,t=>t.reset());class WT{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function KT(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function QT(t){B.setTimeout(()=>{throw t},0)}let Or,Dr=!1,il=new GT,Hh=()=>{const t=B.Promise.resolve(void 0);Or=()=>{t.then(YT)}};var YT=()=>{for(var t;t=$T();){try{t.h.call(t.g)}catch(n){QT(n)}var e=zh;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dr=!1};function Ns(t,e){_e.call(this),this.h=t||1,this.g=e||B,this.j=Oe(this.qb,this),this.l=Date.now()}ve(Ns,_e);R=Ns.prototype;R.ga=!1;R.T=null;R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Se(this,"tick"),this.ga&&(sl(this),this.start()))}};R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sl(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}R.N=function(){Ns.$.N.call(this),sl(this),delete this.g};function ol(t,e,n){if(typeof t=="function")n&&(t=Oe(t,n));else if(t&&typeof t.handleEvent=="function")t=Oe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:B.setTimeout(t,e||0)}function qh(t){t.g=ol(()=>{t.g=null,t.i&&(t.i=!1,qh(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class XT extends Ht{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qh(this)}N(){super.N(),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(t){Ht.call(this),this.h=t,this.g={}}ve(Nr,Ht);var Au=[];function $h(t,e,n,r){Array.isArray(n)||(n&&(Au[0]=n.toString()),n=Au);for(var i=0;i<n.length;i++){var s=Lh(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Gh(t){Ja(t.g,function(e,n){this.g.hasOwnProperty(n)&&el(e)},t),t.g={}}Nr.prototype.N=function(){Nr.$.N.call(this),Gh(this)};Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Vs(){this.g=!0}Vs.prototype.Ea=function(){this.g=!1};function JT(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");if(1<d.length){var h=d[0];d=d[1];var p=h.split("_");o=2<=p.length&&p[1]=="type"?o+(h+"="+d+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function ZT(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function kn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+t0(t,n)+(r?" "+r:"")})}function e0(t,e){t.info(function(){return"TIMEOUT: "+e})}Vs.prototype.info=function(){};function t0(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rl(n)}catch{return e}}var pn={},Su=null;function Ms(){return Su=Su||new _e}pn.Ta="serverreachability";function Wh(t){De.call(this,pn.Ta,t)}ve(Wh,De);function Vr(t){const e=Ms();Se(e,new Wh(e))}pn.STAT_EVENT="statevent";function Kh(t,e){De.call(this,pn.STAT_EVENT,t),this.stat=e}ve(Kh,De);function Le(t){const e=Ms();Se(e,new Kh(e,t))}pn.Ua="timingevent";function Qh(t,e){De.call(this,pn.Ua,t),this.size=e}ve(Qh,De);function ni(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){t()},e)}var Ls={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function al(){}al.prototype.h=null;function Pu(t){return t.h||(t.h=t.i())}function Xh(){}var ri={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ll(){De.call(this,"d")}ve(ll,De);function cl(){De.call(this,"c")}ve(cl,De);var la;function Fs(){}ve(Fs,al);Fs.prototype.g=function(){return new XMLHttpRequest};Fs.prototype.i=function(){return{}};la=new Fs;function ii(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Nr(this),this.P=n0,t=ra?125:void 0,this.V=new Ns(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jh}function Jh(){this.i=null,this.g="",this.h=!1}var n0=45e3,ca={},ss={};R=ii.prototype;R.setTimeout=function(t){this.P=t};function ua(t,e,n){t.L=1,t.v=Us(Et(e)),t.s=n,t.S=!0,Zh(t,null)}function Zh(t,e){t.G=Date.now(),si(t),t.A=Et(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),lf(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Jh,t.g=Rf(t.l,n?e:null,!t.s),0<t.O&&(t.M=new XT(Oe(t.Pa,t,t.g),t.O)),$h(t.U,t.g,"readystatechange",t.nb),e=t.I?Vh(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vr(),JT(t.j,t.u,t.A,t.m,t.W,t.s)}R.nb=function(t){t=t.target;const e=this.M;e&&it(t)==3?e.l():this.Pa(t)};R.Pa=function(t){try{if(t==this.g)e:{const h=it(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>h)&&(h!=3||ra||this.g&&(this.h.h||this.g.ja()||xu(this.g)))){this.J||h!=4||e==7||(e==8||0>=p?Vr(3):Vr(2)),Bs(this);var n=this.g.da();this.ca=n;t:if(ef(this)){var r=xu(this.g);t="";var i=r.length,s=it(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),vr(this);var o="";break t}this.h.i=new B.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,ZT(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kr(a)){var d=a;break t}}d=null}if(n=d)kn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,da(this,n);else{this.i=!1,this.o=3,Le(12),Jt(this),vr(this);break e}}this.S?(tf(this,h,o),ra&&this.i&&h==3&&($h(this.U,this.V,"tick",this.mb),this.V.start())):(kn(this.j,this.m,o,null),da(this,o)),h==4&&Jt(this),this.i&&!this.J&&(h==4?Af(this.l,this):(this.i=!1,si(this)))}else I0(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Le(12)):(this.o=0,Le(13)),Jt(this),vr(this)}}}catch{}finally{}};function ef(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function tf(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=r0(t,n),i==ss){e==4&&(t.o=4,Le(14),r=!1),kn(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ca){t.o=4,Le(15),kn(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else kn(t.j,t.m,i,null),da(t,i);ef(t)&&i!=ss&&i!=ca&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Le(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ml(e),e.M=!0,Le(11))):(kn(t.j,t.m,n,"[Invalid Chunked Response]"),Jt(t),vr(t))}R.mb=function(){if(this.g){var t=it(this.g),e=this.g.ja();this.C<e.length&&(Bs(this),tf(this,t,e),this.i&&t!=4&&si(this))}};function r0(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ss:(n=Number(e.substring(n,r)),isNaN(n)?ca:(r+=1,r+n>e.length?ss:(e=e.slice(r,r+n),t.C=r+n,e)))}R.cancel=function(){this.J=!0,Jt(this)};function si(t){t.Y=Date.now()+t.P,nf(t,t.P)}function nf(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ni(Oe(t.lb,t),e)}function Bs(t){t.B&&(B.clearTimeout(t.B),t.B=null)}R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(e0(this.j,this.A),this.L!=2&&(Vr(),Le(17)),Jt(this),this.o=2,vr(this)):nf(this,this.Y-t)};function vr(t){t.l.H==0||t.J||Af(t.l,t)}function Jt(t){Bs(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sl(t.V),Gh(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function da(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ha(n.i,t))){if(!t.K&&ha(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ls(n),Hs(n);else break e;pl(n),Le(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ni(Oe(n.ib,n),6e3));if(1>=df(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zt(n,11)}else if((t.K||n.g==t)&&ls(n),!kr(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const h=d[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const p=d[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const y=d[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const _=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ul(s,s.h),s.h=null))}if(r.F){const m=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ie(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Cf(r,r.J?r.pa:null,r.Y),o.K){hf(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Bs(a),si(a)),r.g=o}else If(r);0<n.j.length&&qs(n)}else d[0]!="stop"&&d[0]!="close"||Zt(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Zt(n,7):fl(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}Vr(4)}catch{}}function i0(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ks(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function s0(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ks(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function rf(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ks(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=s0(t),r=i0(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var sf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o0(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function nn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof nn){this.h=t.h,os(this,t.j),this.s=t.s,this.g=t.g,as(this,t.m),this.l=t.l;var e=t.i,n=new Mr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Cu(this,n),this.o=t.o}else t&&(e=String(t).match(sf))?(this.h=!1,os(this,e[1]||"",!0),this.s=mr(e[2]||""),this.g=mr(e[3]||"",!0),as(this,e[4]),this.l=mr(e[5]||"",!0),Cu(this,e[6]||"",!0),this.o=mr(e[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}nn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gr(e,Ru,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gr(e,Ru,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gr(n,n.charAt(0)=="/"?c0:l0,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gr(n,d0)),t.join("")};function Et(t){return new nn(t)}function os(t,e,n){t.j=n?mr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function as(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Cu(t,e,n){e instanceof Mr?(t.i=e,h0(t.i,t.h)):(n||(e=gr(e,u0)),t.i=new Mr(e,t.h))}function ie(t,e,n){t.i.set(e,n)}function Us(t){return ie(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function mr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,a0),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function a0(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ru=/[#\/\?@]/g,l0=/[#\?:]/g,c0=/[#\?]/g,u0=/[#\?@]/g,d0=/#/g;function Mr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qt(t){t.g||(t.g=new Map,t.h=0,t.i&&o0(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}R=Mr.prototype;R.add=function(t,e){qt(this),this.i=null,t=Qn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function of(t,e){qt(t),e=Qn(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function af(t,e){return qt(t),e=Qn(t,e),t.g.has(e)}R.forEach=function(t,e){qt(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};R.ta=function(){qt(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};R.Z=function(t){qt(this);let e=[];if(typeof t=="string")af(this,t)&&(e=e.concat(this.g.get(Qn(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};R.set=function(t,e){return qt(this),this.i=null,t=Qn(this,t),af(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};R.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function lf(t,e,n){of(t,e),0<n.length&&(t.i=null,t.g.set(Qn(t,e),Ya(n)),t.h+=n.length)}R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Qn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function h0(t,e){e&&!t.j&&(qt(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(of(this,r),lf(this,i,n))},t)),t.j=e}var f0=class{constructor(t,e){this.g=t,this.map=e}};function cf(t){this.l=t||p0,B.PerformanceNavigationTiming?(t=B.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(B.g&&B.g.Ka&&B.g.Ka()&&B.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var p0=10;function uf(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function df(t){return t.h?1:t.g?t.g.size:0}function ha(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ul(t,e){t.g?t.g.add(e):t.h=e}function hf(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cf.prototype.cancel=function(){if(this.i=ff(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ff(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ya(t.i)}var m0=class{stringify(t){return B.JSON.stringify(t,void 0)}parse(t){return B.JSON.parse(t,void 0)}};function g0(){this.g=new m0}function w0(t,e,n){const r=n||"";try{rf(t,function(i,s){let o=i;ei(i)&&(o=rl(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function y0(t,e){const n=new Vs;if(B.Image){const r=new Image;r.onload=Ci(ki,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ci(ki,n,r,"TestLoadImage: error",!1,e),r.onabort=Ci(ki,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ci(ki,n,r,"TestLoadImage: timeout",!1,e),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ki(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function oi(t){this.l=t.ec||null,this.j=t.ob||!1}ve(oi,al);oi.prototype.g=function(){return new js(this.l,this.j)};oi.prototype.i=function(t){return function(){return t}}({});function js(t,e){_e.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=dl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ve(js,_e);var dl=0;R=js.prototype;R.open=function(t,e){if(this.readyState!=dl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Lr(this)};R.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||B).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=dl};R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof B.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pf(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pf(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ai(this):Lr(this),this.readyState==3&&pf(this)}};R.Za=function(t){this.g&&(this.response=this.responseText=t,ai(this))};R.Ya=function(t){this.g&&(this.response=t,ai(this))};R.ka=function(){this.g&&ai(this)};function ai(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Lr(t)}R.setRequestHeader=function(t,e){this.v.append(t,e)};R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Lr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _0=B.JSON.parse;function ue(t){_e.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mf,this.L=this.M=!1}ve(ue,_e);var mf="",v0=/^https?$/i,E0=["POST","PUT"];R=ue.prototype;R.Oa=function(t){this.M=t};R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():la.g(),this.C=this.u?Pu(this.u):Pu(la),this.g.onreadystatechange=Oe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ku(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=B.FormData&&t instanceof B.FormData,!(0<=xh(E0,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yf(this),0<this.B&&((this.L=T0(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oe(this.ua,this)):this.A=ol(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ku(this,s)}};function T0(t){return Fn&&typeof t.timeout=="number"&&t.ontimeout!==void 0}R.ua=function(){typeof Qa<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Se(this,"timeout"),this.abort(8))};function ku(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gf(t),zs(t)}function gf(t){t.F||(t.F=!0,Se(t,"complete"),Se(t,"error"))}R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Se(this,"complete"),Se(this,"abort"),zs(this))};R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zs(this,!0)),ue.$.N.call(this)};R.La=function(){this.s||(this.G||this.v||this.l?wf(this):this.kb())};R.kb=function(){wf(this)};function wf(t){if(t.h&&typeof Qa<"u"&&(!t.C[1]||it(t)!=4||t.da()!=2)){if(t.v&&it(t)==4)ol(t.La,0,t);else if(Se(t,"readystatechange"),it(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(sf)[1]||null;!i&&B.self&&B.self.location&&(i=B.self.location.protocol.slice(0,-1)),r=!v0.test(i?i.toLowerCase():"")}n=r}if(n)Se(t,"complete"),Se(t,"success");else{t.m=6;try{var s=2<it(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",gf(t)}}finally{zs(t)}}}}function zs(t,e){if(t.g){yf(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Se(t,"ready");try{n.onreadystatechange=r}catch{}}}function yf(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(B.clearTimeout(t.A),t.A=null)}R.isActive=function(){return!!this.g};function it(t){return t.g?t.g.readyState:0}R.da=function(){try{return 2<it(this)?this.g.status:-1}catch{return-1}};R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_0(e)}};function xu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mf:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function I0(t){const e={};t=(t.g&&2<=it(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(kr(t[r]))continue;var n=KT(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}jT(e,function(r){return r.join(", ")})}R.Ia=function(){return this.m};R.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _f(t){let e="";return Ja(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hl(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_f(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ie(t,e,n))}function ur(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vf(t){this.Ga=0,this.j=[],this.l=new Vs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ur("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ur("baseRetryDelayMs",5e3,t),this.hb=ur("retryDelaySeedMs",1e4,t),this.eb=ur("forwardChannelMaxRetries",2,t),this.xa=ur("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cf(t&&t.concurrentRequestLimit),this.Ja=new g0,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}R=vf.prototype;R.ra=8;R.H=1;function fl(t){if(Ef(t),t.H==3){var e=t.W++,n=Et(t.I);if(ie(n,"SID",t.K),ie(n,"RID",e),ie(n,"TYPE","terminate"),li(t,n),e=new ii(t,t.l,e),e.L=2,e.v=Us(Et(n)),n=!1,B.navigator&&B.navigator.sendBeacon)try{n=B.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&B.Image&&(new Image().src=e.v,n=!0),n||(e.g=Rf(e.l,null),e.g.ha(e.v)),e.G=Date.now(),si(e)}Pf(t)}function Hs(t){t.g&&(ml(t),t.g.cancel(),t.g=null)}function Ef(t){Hs(t),t.u&&(B.clearTimeout(t.u),t.u=null),ls(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&B.clearTimeout(t.m),t.m=null)}function qs(t){if(!uf(t.i)&&!t.m){t.m=!0;var e=t.Na;Or||Hh(),Dr||(Or(),Dr=!0),il.add(e,t),t.C=0}}function b0(t,e){return df(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ni(Oe(t.Na,t,e),Sf(t,t.C)),t.C++,!0)}R.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ii(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Vh(s),Mh(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Tf(this,i,e),n=Et(this.I),ie(n,"RID",t),ie(n,"CVER",22),this.F&&ie(n,"X-HTTP-Session-Id",this.F),li(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(_f(s)))+"&"+e:this.o&&hl(n,this.o,s)),ul(this.i,i),this.bb&&ie(n,"TYPE","init"),this.P?(ie(n,"$req",e),ie(n,"SID","null"),i.aa=!0,ua(i,n,null)):ua(i,n,e),this.H=2}}else this.H==3&&(t?Ou(this,t):this.j.length==0||uf(this.i)||Ou(this))};function Ou(t,e){var n;e?n=e.m:n=t.W++;const r=Et(t.I);ie(r,"SID",t.K),ie(r,"RID",n),ie(r,"AID",t.V),li(t,r),t.o&&t.s&&hl(r,t.o,t.s),n=new ii(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Tf(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ul(t.i,n),ua(n,r,e)}function li(t,e){t.na&&Ja(t.na,function(n,r){ie(e,r,n)}),t.h&&rf({},function(n,r){ie(e,r,n)})}function Tf(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Oe(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let d=i[c].g;const h=i[c].map;if(d-=s,0>d)s=Math.max(0,i[c].g-100),a=!1;else try{w0(h,o,"req"+d+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function If(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Or||Hh(),Dr||(Or(),Dr=!0),il.add(e,t),t.A=0}}function pl(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ni(Oe(t.Ma,t),Sf(t,t.A)),t.A++,!0)}R.Ma=function(){if(this.u=null,bf(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ni(Oe(this.jb,this),t)}};R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Le(10),Hs(this),bf(this))};function ml(t){t.B!=null&&(B.clearTimeout(t.B),t.B=null)}function bf(t){t.g=new ii(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Et(t.wa);ie(e,"RID","rpc"),ie(e,"SID",t.K),ie(e,"AID",t.V),ie(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ie(e,"TO",t.qa),ie(e,"TYPE","xmlhttp"),li(t,e),t.o&&t.s&&hl(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Us(Et(e)),n.s=null,n.S=!0,Zh(n,t)}R.ib=function(){this.v!=null&&(this.v=null,Hs(this),pl(this),Le(19))};function ls(t){t.v!=null&&(B.clearTimeout(t.v),t.v=null)}function Af(t,e){var n=null;if(t.g==e){ls(t),ml(t),t.g=null;var r=2}else if(ha(t.i,e))n=e.F,hf(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Ms(),Se(r,new Qh(r,n)),qs(t)}else If(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&b0(t,e)||r==2&&pl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zt(t,5);break;case 4:Zt(t,10);break;case 3:Zt(t,6);break;default:Zt(t,2)}}}function Sf(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zt(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Oe(t.pb,t);n||(n=new nn("//www.google.com/images/cleardot.gif"),B.location&&B.location.protocol=="http"||os(n,"https"),Us(n)),y0(n.toString(),r)}else Le(2);t.H=0,t.h&&t.h.za(e),Pf(t),Ef(t)}R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Le(2)):(this.l.info("Failed to ping google.com"),Le(1))};function Pf(t){if(t.H=0,t.ma=[],t.h){const e=ff(t.i);(e.length!=0||t.j.length!=0)&&(Tu(t.ma,e),Tu(t.ma,t.j),t.i.i.length=0,Ya(t.j),t.j.length=0),t.h.ya()}}function Cf(t,e,n){var r=n instanceof nn?Et(n):new nn(n);if(r.g!="")e&&(r.g=e+"."+r.g),as(r,r.m);else{var i=B.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new nn(null);r&&os(s,r),e&&(s.g=e),i&&as(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ie(r,n,e),ie(r,"VER",t.ra),li(t,r),r}function Rf(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ue(new oi({ob:!0})):new ue(t.va),e.Oa(t.J),e}R.isActive=function(){return!!this.h&&this.h.isActive(this)};function kf(){}R=kf.prototype;R.Ba=function(){};R.Aa=function(){};R.za=function(){};R.ya=function(){};R.isActive=function(){return!0};R.Va=function(){};function cs(){if(Fn&&!(10<=Number(LT)))throw Error("Environmental error: no available transport.")}cs.prototype.g=function(t,e){return new ze(t,e)};function ze(t,e){_e.call(this),this.g=new vf(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!kr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kr(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Yn(this)}ve(ze,_e);ze.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Le(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Cf(t,null,t.Y),qs(t)};ze.prototype.close=function(){fl(this.g)};ze.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rl(t),t=n);e.j.push(new f0(e.fb++,t)),e.H==3&&qs(e)};ze.prototype.N=function(){this.g.h=null,delete this.j,fl(this.g),delete this.g,ze.$.N.call(this)};function xf(t){ll.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ve(xf,ll);function Of(){cl.call(this),this.status=1}ve(Of,cl);function Yn(t){this.g=t}ve(Yn,kf);Yn.prototype.Ba=function(){Se(this.g,"a")};Yn.prototype.Aa=function(t){Se(this.g,new xf(t))};Yn.prototype.za=function(t){Se(this.g,new Of)};Yn.prototype.ya=function(){Se(this.g,"b")};function A0(){this.blockSize=-1}function Je(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ve(Je,A0);Je.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Do(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Je.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Do(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Do(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Do(this,r),i=0;break}}this.h=i,this.i+=e};Je.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Z(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var S0={};function gl(t){return-128<=t&&128>t?NT(t,function(e){return new Z([e|0],0>e?-1:0)}):new Z([t|0],0>t?-1:0)}function st(t){if(isNaN(t)||!isFinite(t))return Dn;if(0>t)return be(st(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=fa;return new Z(e,0)}function Df(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return be(Df(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=st(Math.pow(e,8)),r=Dn,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=st(Math.pow(e,s)),r=r.R(s).add(st(o))):(r=r.R(n),r=r.add(st(o)))}return r}var fa=4294967296,Dn=gl(0),pa=gl(1),Du=gl(16777216);R=Z.prototype;R.ea=function(){if($e(this))return-be(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:fa+r)*e,e*=fa}return t};R.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gt(this))return"0";if($e(this))return"-"+be(this).toString(t);for(var e=st(Math.pow(t,6)),n=this,r="";;){var i=ds(n,e).g;n=us(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,gt(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function $e(t){return t.h==-1}R.X=function(t){return t=us(this,t),$e(t)?-1:gt(t)?0:1};function be(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Z(n,~t.h).add(pa)}R.abs=function(){return $e(this)?be(this):this};R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Z(n,n[n.length-1]&-2147483648?-1:0)};function us(t,e){return t.add(be(e))}R.R=function(t){if(gt(this)||gt(t))return Dn;if($e(this))return $e(t)?be(this).R(be(t)):be(be(this).R(t));if($e(t))return be(this.R(be(t)));if(0>this.X(Du)&&0>t.X(Du))return st(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,xi(n,2*r+2*i),n[2*r+2*i+1]+=s*c,xi(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xi(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xi(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Z(n,0)};function xi(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dr(t,e){this.g=t,this.h=e}function ds(t,e){if(gt(e))throw Error("division by zero");if(gt(t))return new dr(Dn,Dn);if($e(t))return e=ds(be(t),e),new dr(be(e.g),be(e.h));if($e(e))return e=ds(t,be(e)),new dr(be(e.g),e.h);if(30<t.g.length){if($e(t)||$e(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pa,r=e;0>=r.X(t);)n=Nu(n),r=Nu(r);var i=An(n,1),s=An(r,1);for(r=An(r,2),n=An(n,2);!gt(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=An(r,1),n=An(n,1)}return e=us(t,i.R(e)),new dr(i,e)}for(i=Dn;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=st(n),o=s.R(e);$e(o)||0<o.X(t);)n-=r,s=st(n),o=s.R(e);gt(s)&&(s=pa),i=i.add(s),t=us(t,o)}return new dr(i,t)}R.gb=function(t){return ds(this,t).h};R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Z(n,this.h&t.h)};R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Z(n,this.h|t.h)};R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Z(n,this.h^t.h)};function Nu(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Z(n,t.h)}function An(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Z(i,t.h)}cs.prototype.createWebChannel=cs.prototype.g;ze.prototype.send=ze.prototype.u;ze.prototype.open=ze.prototype.m;ze.prototype.close=ze.prototype.close;Ls.NO_ERROR=0;Ls.TIMEOUT=8;Ls.HTTP_ERROR=6;Yh.COMPLETE="complete";Xh.EventType=ri;ri.OPEN="a";ri.CLOSE="b";ri.ERROR="c";ri.MESSAGE="d";_e.prototype.listen=_e.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;Je.prototype.digest=Je.prototype.l;Je.prototype.reset=Je.prototype.reset;Je.prototype.update=Je.prototype.j;Z.prototype.add=Z.prototype.add;Z.prototype.multiply=Z.prototype.R;Z.prototype.modulo=Z.prototype.gb;Z.prototype.compare=Z.prototype.X;Z.prototype.toNumber=Z.prototype.ea;Z.prototype.toString=Z.prototype.toString;Z.prototype.getBits=Z.prototype.D;Z.fromNumber=st;Z.fromString=Df;var P0=function(){return new cs},C0=function(){return Ms()},No=Ls,R0=Yh,k0=pn,Vu={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},x0=oi,Oi=Xh,O0=ue,D0=Je,Nn=Z;const Mu="@firebase/firestore";class ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");let Xn="10.5.2";const ln=new La("@firebase/firestore");function hr(){return ln.logLevel}function x(t,...e){if(ln.logLevel<=G.DEBUG){const n=e.map(wl);ln.debug(`Firestore (${Xn}): ${t}`,...n)}}function Tt(t,...e){if(ln.logLevel<=G.ERROR){const n=e.map(wl);ln.error(`Firestore (${Xn}): ${t}`,...n)}}function Bn(t,...e){if(ln.logLevel<=G.WARN){const n=e.map(wl);ln.warn(`Firestore (${Xn}): ${t}`,...n)}}function wl(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t="Unexpected state"){const e=`FIRESTORE (${Xn}) INTERNAL ASSERTION FAILED: `+t;throw Tt(e),new Error(e)}function se(t,e){t||U()}function z(t,e){return t}const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Nf{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ke.UNAUTHENTICATED))}shutdown(){}}class V0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M0{constructor(e){this.t=e,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new Nf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new ke(e)}}class L0{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class F0{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new L0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string"),this.R=n.token,new B0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function j0(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Vf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=j0(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function Un(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class we{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new we(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new we(0,0))}static max(){return new j(new we(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fr{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ce extends Fr{construct(e,n,r){return new ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const z0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends Fr{construct(e,n,r){return new Ae(e,n,r)}static isValidIdentifier(e){return z0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ae(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new V(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ae(n)}static emptyPath(){return new Ae([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(ce.fromString(e))}static fromName(e){return new N(ce.fromString(e).popFirst(5))}static empty(){return new N(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new ce(e.slice()))}}function H0(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(r===1e9?new we(n+1,0):new we(n,r));return new Ut(i,N.empty(),e)}function q0(t){return new Ut(t.readTime,t.key,-1)}class Ut{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ut(j.min(),N.empty(),-1)}static max(){return new Ut(j.max(),N.empty(),-1)}}function $0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=N.comparator(t.documentKey,e.documentKey),n!==0?n:J(t.largestBatchId,e.largestBatchId))}const G0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ci(t){if(t.code!==S.FAILED_PRECONDITION||t.message!==G0)throw t;x("LocalStore","Unexpectedly lost primary lease")}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ui(t){return t.name==="IndexedDbTransactionError"}class yl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}yl._e=-1;function $s(t){return t==null}function hs(t){return t===0&&1/t==-1/0}function K0(t){return typeof t=="number"&&Number.isInteger(t)&&!hs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Lu(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class le{constructor(e,n){this.comparator=e,this.root=n||Ie.EMPTY}insert(e,n){return new le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ie.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ie.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Di(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Di(this.root,e,this.comparator,!1)}getReverseIterator(){return new Di(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Di(this.root,e,this.comparator,!0)}}class Di{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ie{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ie.RED,this.left=i??Ie.EMPTY,this.right=s??Ie.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ie(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ie.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ie.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Ie.EMPTY=null,Ie.RED=!0,Ie.BLACK=!1;Ie.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ie(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fu(this.data.getIterator())}getIteratorFrom(e){return new Fu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class Fu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ye{constructor(e){this.fields=e,e.sort(Ae.comparator)}static empty(){return new Ye([])}unionWith(e){let n=new Pe(Ae.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ye(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Un(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Lf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ve{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Lf("Invalid base64 string: "+s):s}}(e);return new Ve(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ve(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ve.EMPTY_BYTE_STRING=new Ve("");const Q0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jt(t){if(se(!!t),typeof t=="string"){let e=0;const n=Q0.exec(t);if(se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pe(t.seconds),nanos:pe(t.nanos)}}function pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cn(t){return typeof t=="string"?Ve.fromBase64String(t):Ve.fromUint8Array(t)}function _l(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vl(t){const e=t.mapValue.fields.__previous_value__;return _l(e)?vl(e):e}function Br(t){const e=jt(t.mapValue.fields.__local_write_time__.timestampValue);return new we(e.seconds,e.nanos)}class Y0{constructor(e,n,r,i,s,o,a,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class Ur{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ur("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ur&&e.projectId===this.projectId&&e.database===this.database}}const Ni={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function un(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_l(t)?4:X0(t)?9007199254740991:10:U()}function ut(t,e){if(t===e)return!0;const n=un(t);if(n!==un(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Br(t).isEqual(Br(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=jt(i.timestampValue),a=jt(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return cn(i.bytesValue).isEqual(cn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pe(i.geoPointValue.latitude)===pe(s.geoPointValue.latitude)&&pe(i.geoPointValue.longitude)===pe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pe(i.integerValue)===pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pe(i.doubleValue),a=pe(s.doubleValue);return o===a?hs(o)===hs(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Un(t.arrayValue.values||[],e.arrayValue.values||[],ut);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Lu(o)!==Lu(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ut(o[c],a[c])))return!1;return!0}(t,e);default:return U()}}function jr(t,e){return(t.values||[]).find(n=>ut(n,e))!==void 0}function jn(t,e){if(t===e)return 0;const n=un(t),r=un(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=pe(s.integerValue||s.doubleValue),c=pe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Bu(t.timestampValue,e.timestampValue);case 4:return Bu(Br(t),Br(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(s,o){const a=cn(s),c=cn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=J(a[d],c[d]);if(h!==0)return h}return J(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=J(pe(s.latitude),pe(o.latitude));return a!==0?a:J(pe(s.longitude),pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=jn(a[d],c[d]);if(h)return h}return J(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ni.mapValue&&o===Ni.mapValue)return 0;if(s===Ni.mapValue)return 1;if(o===Ni.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const y=J(c[p],h[p]);if(y!==0)return y;const w=jn(a[c[p]],d[h[p]]);if(w!==0)return w}return J(c.length,h.length)}(t.mapValue,e.mapValue);default:throw U()}}function Bu(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return J(t,e);const n=jt(t),r=jt(e),i=J(n.seconds,r.seconds);return i!==0?i:J(n.nanos,r.nanos)}function zn(t){return ma(t)}function ma(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jt(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return N.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ma(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ma(n.fields[o])}`;return i+"}"}(t.mapValue):U()}function ga(t){return!!t&&"integerValue"in t}function El(t){return!!t&&"arrayValue"in t}function Uu(t){return!!t&&"nullValue"in t}function ju(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gi(t){return!!t&&"mapValue"in t}function Er(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jn(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Er(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Er(t.arrayValue.values[n]);return e}return Object.assign({},t)}function X0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Ge{constructor(e){this.value=e}static empty(){return new Ge({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gi(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Er(n)}setAll(e){let n=Ae.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Er(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gi(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ut(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gi(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jn(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ge(Er(this.value))}}function Ff(t){const e=[];return Jn(t.fields,(n,r)=>{const i=new Ae([n]);if(Gi(r)){const s=Ff(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ye(e)}class xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xe(e,0,j.min(),j.min(),j.min(),Ge.empty(),0)}static newFoundDocument(e,n,r,i){return new xe(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new xe(e,2,n,j.min(),j.min(),Ge.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,j.min(),j.min(),Ge.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ge.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ge.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fs{constructor(e,n){this.position=e,this.inclusive=n}}function zu(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=N.comparator(N.fromName(o.referenceValue),n.key):r=jn(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hu(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ut(t.position[n],e.position[n]))return!1;return!0}class ps{constructor(e,n="asc"){this.field=e,this.dir=n}}function J0(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Bf{}class ge extends Bf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eI(e,n,r):n==="array-contains"?new rI(e,r):n==="in"?new iI(e,r):n==="not-in"?new sI(e,r):n==="array-contains-any"?new oI(e,r):new ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tI(e,r):new nI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jn(n,this.value)):n!==null&&un(this.value)===un(n)&&this.matchesComparison(jn(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dt extends Bf{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new dt(e,n)}matches(e){return Uf(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Uf(t){return t.op==="and"}function jf(t){return Z0(t)&&Uf(t)}function Z0(t){for(const e of t.filters)if(e instanceof dt)return!1;return!0}function wa(t){if(t instanceof ge)return t.field.canonicalString()+t.op.toString()+zn(t.value);if(jf(t))return t.filters.map(e=>wa(e)).join(",");{const e=t.filters.map(n=>wa(n)).join(",");return`${t.op}(${e})`}}function zf(t,e){return t instanceof ge?function(r,i){return i instanceof ge&&r.op===i.op&&r.field.isEqual(i.field)&&ut(r.value,i.value)}(t,e):t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zf(o,i.filters[a]),!0):!1}(t,e):void U()}function Hf(t){return t instanceof ge?function(n){return`${n.field.canonicalString()} ${n.op} ${zn(n.value)}`}(t):t instanceof dt?function(n){return n.op.toString()+" {"+n.getFilters().map(Hf).join(" ,")+"}"}(t):"Filter"}class eI extends ge{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){const n=N.comparator(e.key,this.key);return this.matchesComparison(n)}}class tI extends ge{constructor(e,n){super(e,"in",n),this.keys=qf("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nI extends ge{constructor(e,n){super(e,"not-in",n),this.keys=qf("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qf(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}class rI extends ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return El(n)&&jr(n.arrayValue,this.value)}}class iI extends ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jr(this.value.arrayValue,n)}}class sI extends ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(jr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jr(this.value.arrayValue,n)}}class oI extends ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!El(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jr(this.value.arrayValue,r))}}class aI{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function qu(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aI(t,e,n,r,i,s,o)}function Tl(t){const e=z(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wa(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$s(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zn(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zn(r)).join(",")),e.ce=n}return e.ce}function Il(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J0(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zf(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hu(t.startAt,e.startAt)&&Hu(t.endAt,e.endAt)}function ya(t){return N.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Gs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function lI(t,e,n,r,i,s,o,a){return new Gs(t,e,n,r,i,s,o,a)}function bl(t){return new Gs(t)}function $u(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cI(t){return t.collectionGroup!==null}function Tr(t){const e=z(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pe(Ae.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ps(s,r))}),n.has(Ae.keyField().canonicalString())||e.le.push(new ps(Ae.keyField(),r))}return e.le}function lt(t){const e=z(t);return e.he||(e.he=uI(e,Tr(t))),e.he}function uI(t,e){if(t.limitType==="F")return qu(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ps(i.field,s)});const n=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return qu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _a(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ws(t,e){return Il(lt(t),lt(e))&&t.limitType===e.limitType}function $f(t){return`${Tl(lt(t))}|lt:${t.limitType}`}function Sn(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Hf(i)).join(", ")}]`),$s(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zn(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zn(i)).join(",")),`Target(${r})`}(lt(t))}; limitType=${t.limitType})`}function Ks(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):N.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Tr(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const d=zu(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Tr(r),i)||r.endAt&&!function(o,a,c){const d=zu(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Tr(r),i))}(t,e)}function dI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gf(t){return(e,n)=>{let r=!1;for(const i of Tr(t)){const s=hI(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hI(t,e,n){const r=t.field.isKeyField()?N.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?jn(c,d):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}class Zn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jn(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Mf(this.inner)}size(){return this.innerSize}}const fI=new le(N.comparator);function It(){return fI}const Wf=new le(N.comparator);function wr(...t){let e=Wf;for(const n of t)e=e.insert(n.key,n);return e}function Kf(t){let e=Wf;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function en(){return Ir()}function Qf(){return Ir()}function Ir(){return new Zn(t=>t.toString(),(t,e)=>t.isEqual(e))}const pI=new le(N.comparator),mI=new Pe(N.comparator);function $(...t){let e=mI;for(const n of t)e=e.add(n);return e}const gI=new Pe(J);function wI(){return gI}function Yf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hs(e)?"-0":e}}function Xf(t){return{integerValue:""+t}}function yI(t,e){return K0(e)?Xf(e):Yf(t,e)}class Qs{constructor(){this._=void 0}}function _I(t,e,n){return t instanceof ms?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_l(s)&&(s=vl(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof zr?Zf(t,e):t instanceof Hr?ep(t,e):function(i,s){const o=Jf(i,s),a=Gu(o)+Gu(i.Ie);return ga(o)&&ga(i.Ie)?Xf(a):Yf(i.serializer,a)}(t,e)}function vI(t,e,n){return t instanceof zr?Zf(t,e):t instanceof Hr?ep(t,e):n}function Jf(t,e){return t instanceof gs?function(r){return ga(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ms extends Qs{}class zr extends Qs{constructor(e){super(),this.elements=e}}function Zf(t,e){const n=tp(e);for(const r of t.elements)n.some(i=>ut(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hr extends Qs{constructor(e){super(),this.elements=e}}function ep(t,e){let n=tp(e);for(const r of t.elements)n=n.filter(i=>!ut(i,r));return{arrayValue:{values:n}}}class gs extends Qs{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Gu(t){return pe(t.integerValue||t.doubleValue)}function tp(t){return El(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EI(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zr&&i instanceof zr||r instanceof Hr&&i instanceof Hr?Un(r.elements,i.elements,ut):r instanceof gs&&i instanceof gs?ut(r.Ie,i.Ie):r instanceof ms&&i instanceof ms}(t.transform,e.transform)}class TI{constructor(e,n){this.version=e,this.transformResults=n}}class _t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _t}static exists(e){return new _t(void 0,e)}static updateTime(e){return new _t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ys{}function np(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ip(t.key,_t.none()):new di(t.key,t.data,_t.none());{const n=t.data,r=Ge.empty();let i=new Pe(Ae.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new mn(t.key,r,new Ye(i.toArray()),_t.none())}}function II(t,e,n){t instanceof di?function(i,s,o){const a=i.value.clone(),c=Ku(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mn?function(i,s,o){if(!Wi(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ku(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(rp(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function br(t,e,n,r){return t instanceof di?function(s,o,a,c){if(!Wi(s.precondition,o))return a;const d=s.value.clone(),h=Qu(s.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof mn?function(s,o,a,c){if(!Wi(s.precondition,o))return a;const d=Qu(s.fieldTransforms,c,o),h=o.data;return h.setAll(rp(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Wi(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function bI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Jf(r.transform,i||null);s!=null&&(n===null&&(n=Ge.empty()),n.set(r.field,s))}return n||null}function Wu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Un(r,i,(s,o)=>EI(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class di extends Ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mn extends Ys{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rp(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ku(t,e,n){const r=new Map;se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vI(o,a,n[i]))}return r}function Qu(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_I(s,o,e))}return r}class ip extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&II(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=br(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=br(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qf();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=np(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$())}isEqual(e){return this.batchId===e.batchId&&Un(this.mutations,e.mutations,(n,r)=>Wu(n,r))&&Un(this.baseMutations,e.baseMutations,(n,r)=>Wu(n,r))}}class Al{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){se(e.mutations.length===r.length);let i=function(){return pI}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Al(e,n,r,i)}}class PI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CI{constructor(e,n){this.count=e,this.unchangedNames=n}}var fe,K;function RI(t){switch(t){default:return U();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function sp(t){if(t===void 0)return Tt("GRPC error has no .code"),S.UNKNOWN;switch(t){case fe.OK:return S.OK;case fe.CANCELLED:return S.CANCELLED;case fe.UNKNOWN:return S.UNKNOWN;case fe.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case fe.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case fe.INTERNAL:return S.INTERNAL;case fe.UNAVAILABLE:return S.UNAVAILABLE;case fe.UNAUTHENTICATED:return S.UNAUTHENTICATED;case fe.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case fe.NOT_FOUND:return S.NOT_FOUND;case fe.ALREADY_EXISTS:return S.ALREADY_EXISTS;case fe.PERMISSION_DENIED:return S.PERMISSION_DENIED;case fe.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case fe.ABORTED:return S.ABORTED;case fe.OUT_OF_RANGE:return S.OUT_OF_RANGE;case fe.UNIMPLEMENTED:return S.UNIMPLEMENTED;case fe.DATA_LOSS:return S.DATA_LOSS;default:return U()}}(K=fe||(fe={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";function kI(){return new TextEncoder}const xI=new Nn([4294967295,4294967295],0);function Yu(t){const e=kI().encode(t),n=new D0;return n.update(e),new Uint8Array(n.digest())}function Xu(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nn([n,r],0),new Nn([i,s],0)]}class Sl{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yr(`Invalid padding: ${n}`);if(r<0)throw new yr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nn.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Nn.fromNumber(r)));return i.compare(xI)===1&&(i=new Nn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Yu(e),[r,i]=Xu(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Sl(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Yu(e),[r,i]=Xu(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xs{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xs(j.min(),i,new le(J),It(),$())}}class hi{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hi(r,n,$(),$(),$())}}class Ki{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class op{constructor(e,n){this.targetId=e,this.fe=n}}class ap{constructor(e,n,r=Ve.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ju{constructor(){this.ge=0,this.pe=ed(),this.ye=Ve.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=$(),n=$(),r=$();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new hi(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ed()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class OI{constructor(e){this.Le=e,this.ke=new Map,this.qe=It(),this.Qe=Zu(),this.Ke=new le(J)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ya(s))if(r===0){const o=new N(s.path);this.We(n,o,xe.newNoDocument(o,j.min()))}else se(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=cn(r).toUint8Array()}catch(c){if(c instanceof Lf)return Bn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Sl(o,i,s)}catch(c){return Bn(c instanceof yr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ya(a.target)){const c=new N(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,xe.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=$();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.Ye(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Xs(e,n,this.Ke,this.qe,r);return this.qe=It(),this.Qe=Zu(),this.Ke=new le(J),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ju,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pe(J),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||x("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ju),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new le(N.comparator)}function ed(){return new le(N.comparator)}const DI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),NI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),VI=(()=>({and:"AND",or:"OR"}))();class MI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function va(t,e){return t.useProto3Json||$s(e)?e:{value:e}}function ws(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lp(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LI(t,e){return ws(t,e.toTimestamp())}function ct(t){return se(!!t),j.fromTimestamp(function(n){const r=jt(n);return new we(r.seconds,r.nanos)}(t))}function Pl(t,e){return function(r){return new ce(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function cp(t){const e=ce.fromString(t);return se(fp(e)),e}function Ea(t,e){return Pl(t.databaseId,e.path)}function Vo(t,e){const n=cp(e);if(n.get(1)!==t.databaseId.projectId)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(up(n))}function Ta(t,e){return Pl(t.databaseId,e)}function FI(t){const e=cp(t);return e.length===4?ce.emptyPath():up(e)}function Ia(t){return new ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function up(t){return se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function td(t,e,n){return{name:Ea(t,e),fields:n.value.mapValue.fields}}function BI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,h){return d.useProto3Json?(se(h===void 0||typeof h=="string"),Ve.fromBase64String(h||"")):(se(h===void 0||h instanceof Uint8Array),Ve.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?S.UNKNOWN:sp(d.code);return new V(h,d.message||"")}(o);n=new ap(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vo(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):j.min(),a=new Ge({mapValue:{fields:r.document.fields}}),c=xe.newFoundDocument(i,s,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ki(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vo(t,r.document),s=r.readTime?ct(r.readTime):j.min(),o=xe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ki([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vo(t,r.document),s=r.removedTargetIds||[];n=new Ki([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new CI(i,s),a=r.targetId;n=new op(a,o)}}return n}function UI(t,e){let n;if(e instanceof di)n={update:td(t,e.key,e.value)};else if(e instanceof ip)n={delete:Ea(t,e.key)};else if(e instanceof mn)n={update:td(t,e.key,e.data),updateMask:QI(e.fieldMask)};else{if(!(e instanceof AI))return U();n={verify:Ea(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ms)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LI(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:U()}(t,e.precondition)),n}function jI(t,e){return t&&t.length>0?(se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ct(i.updateTime):ct(s);return o.isEqual(j.min())&&(o=ct(s)),new TI(o,i.transformResults||[])}(n,e))):[]}function zI(t,e){return{documents:[Ta(t,e.path)]}}function HI(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ta(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ta(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return hp(dt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Pn(p.field),direction:GI(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=va(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function qI(t){let e=FI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){se(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const y=dp(p);return y instanceof dt&&jf(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(_){return new ps(Cn(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,$s(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){const y=!!p.before,w=p.values||[];return new fs(w,y)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const y=!p.before,w=p.values||[];return new fs(w,y)}(n.endAt)),lI(e,i,o,s,a,"F",c,d)}function $I(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dp(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cn(n.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cn(n.unaryFilter.field);return ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cn(n.unaryFilter.field);return ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cn(n.unaryFilter.field);return ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return ge.create(Cn(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dt.create(n.compositeFilter.filters.map(r=>dp(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function GI(t){return DI[t]}function WI(t){return NI[t]}function KI(t){return VI[t]}function Pn(t){return{fieldPath:t.canonicalString()}}function Cn(t){return Ae.fromServerFormat(t.fieldPath)}function hp(t){return t instanceof ge?function(n){if(n.op==="=="){if(ju(n.value))return{unaryFilter:{field:Pn(n.field),op:"IS_NAN"}};if(Uu(n.value))return{unaryFilter:{field:Pn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ju(n.value))return{unaryFilter:{field:Pn(n.field),op:"IS_NOT_NAN"}};if(Uu(n.value))return{unaryFilter:{field:Pn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pn(n.field),op:WI(n.op),value:n.value}}}(t):t instanceof dt?function(n){const r=n.getFilters().map(i=>hp(i));return r.length===1?r[0]:{compositeFilter:{op:KI(n.op),filters:r}}}(t):U()}function QI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fp(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Nt{constructor(e,n,r,i,s=j.min(),o=j.min(),a=Ve.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Nt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nt(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YI{constructor(e){this.ut=e}}function XI(t){const e=qI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_a(e,e.limit,"L"):e}class JI{constructor(){this.on=new ZI}addToCollectionParentIndex(e,n){return this.on.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Ut.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Ut.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class ZI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(ce.comparator)).toArray()}}class Hn{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Hn(0)}static Nn(){return new Hn(-1)}}class eb{constructor(){this.changes=new Zn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nb{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&br(r.mutation,i,Ye.empty(),we.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$()){const i=en();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wr();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=en();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=It();const o=Ir(),a=function(){return Ir()}();return n.forEach((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof mn)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),br(h.mutation,d,h.mutation.getFieldMask(),we.now())):o.set(d.key,Ye.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return a.set(d,new tb(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ir();let i=new le((o,a)=>o-a),s=$();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Ye.empty();h=a.applyToLocalView(d,h),r.set(c,h);const p=(i.get(a.batchId)||$()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=Qf();h.forEach(y=>{if(!s.has(y)){const w=np(n.get(y),r.get(y));w!==null&&p.set(y,w),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return N.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(en());let a=-1,c=s;return o.next(d=>b.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?b.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,$())).next(h=>({batchId:a,changes:Kf(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=wr();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wr();return this.indexManager.getCollectionParents(e,s).next(a=>b.forEach(a,c=>{const d=function(p,y){return new Gs(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,xe.newInvalidDocument(h)))});let a=wr();return o.forEach((c,d)=>{const h=s.get(c);h!==void 0&&br(h.mutation,d,Ye.empty(),we.now()),Ks(n,d)&&(a=a.insert(c,d))}),a})}}class rb{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return b.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ct(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:XI(i.bundledQuery),readTime:ct(i.readTime)}}(n)),b.resolve()}}class ib{constructor(){this.overlays=new le(N.comparator),this.lr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=en();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=en(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new le((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=en(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=en(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return b.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PI(n,r));let s=this.lr.get(n);s===void 0&&(s=$(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class Cl{constructor(){this.hr=new Pe(ye.Pr),this.Ir=new Pe(ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ye(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ye(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new N(new ce([])),r=new ye(n,e),i=new ye(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new N(new ce([])),r=new ye(n,e),i=new ye(n,e+1);let s=$();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ye(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ye{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return N.comparator(e.key,n.key)||J(e.gr,n.gr)}static Tr(e,n){return J(e.gr,n.gr)||N.comparator(e.key,n.key)}}class sb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Pe(ye.Pr)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SI(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ye(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ye(n,0),i=new ye(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(J);return n.forEach(i=>{const s=new ye(i,0),o=new ye(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),b.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new ye(new N(s),0);let a=new Pe(J);return this.yr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.gr)),!0)},o),b.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){se(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return b.forEach(n.mutations,i=>{const s=new ye(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ye(n,0),i=this.yr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ob{constructor(e){this.Cr=e,this.docs=function(){return new le(N.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=It();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=It();const o=n.path,a=new N(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||$0(q0(h),r)<=0||(i.has(h.key)||Ks(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}vr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ab(this)}getSize(e){return b.resolve(this.size)}}class ab extends eb{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class lb{constructor(e){this.persistence=e,this.Fr=new Zn(n=>Tl(n),Il),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Cl,this.targetCount=0,this.Nr=Hn.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),b.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Hn(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.kn(n),b.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Or.containsKey(n))}}class cb{constructor(e,n){this.Br={},this.overlays={},this.Lr=new yl(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lb(this),this.indexManager=new JI,this.remoteDocumentCache=function(i){return new ob(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new YI(n),this.Kr=new rb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ib,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new sb(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new ub(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return b.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class ub extends W0{constructor(e){super(),this.currentSequenceNumber=e}}class Rl{constructor(e){this.persistence=e,this.Gr=new Cl,this.zr=null}static jr(e){return new Rl(e)}get Hr(){if(this.zr)return this.zr;throw U()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),b.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Hr,r=>{const i=N.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return b.or([()=>b.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class kl{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=$(),i=$();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kl(e,n.fromCache,r,i)}}class db{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hb{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new db;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(hr()<=G.DEBUG&&x("QueryEngine","SDK will not create cache indexes for query:",Sn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),b.resolve()):(hr()<=G.DEBUG&&x("QueryEngine","Query:",Sn(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(hr()<=G.DEBUG&&x("QueryEngine","The SDK decides to create cache indexes for query:",Sn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lt(n))):b.resolve())}zi(e,n){if($u(n))return b.resolve(null);let r=lt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_a(n,null,"F"),r=lt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=$(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Yi(n,a);return this.Zi(n,d,o,c.readTime)?this.zi(e,_a(n,null,"F")):this.Xi(e,d,n,c)}))})))}ji(e,n,r,i){return $u(n)||i.isEqual(j.min())?b.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?b.resolve(null):(hr()<=G.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sn(n)),this.Xi(e,o,n,H0(i,-1)).next(a=>a))})}Yi(e,n){let r=new Pe(Gf(e));return n.forEach((i,s)=>{Ks(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return hr()<=G.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",Sn(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ut.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class fb{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new le(J),this.ns=new Zn(s=>Tl(s),Il),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nb(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function pb(t,e,n,r){return new fb(t,e,n,r)}async function pp(t,e){const n=z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=$();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({_s:d,removedBatchIds:o,addedBatchIds:a}))})})}function mb(t,e){const n=z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,y=p.keys();let w=b.resolve();return y.forEach(_=>{w=w.next(()=>h.getEntry(c,_)).next(m=>{const T=d.docVersions.get(_);se(T!==null),m.version.compareTo(T)<0&&(p.applyToRemoteDocument(m,d),m.isValidDocument()&&(m.setReadTime(d.commitVersion),h.addEntry(m)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=$();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mp(t){const e=z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function gb(t,e){const n=z(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,p)=>{const y=i.get(p);if(!y)return;a.push(n.qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,p)));let w=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Ve.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(p,w),function(m,T,I){return m.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,w,h)&&a.push(n.qr.updateTargetData(s,w))});let c=It(),d=$();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(wb(s,o,e.documentUpdates).next(h=>{c=h.us,d=h.cs})),!r.isEqual(j.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(p=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.ts=i,s))}function wb(t,e,n){let r=$(),i=$();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=It();return n.forEach((a,c)=>{const d=s.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(j.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{us:o,cs:i}})}function yb(t,e){const n=z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _b(t,e){const n=z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Nt(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function ba(t,e,n){const r=z(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ui(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function nd(t,e,n){const r=z(t);let i=j.min(),s=$();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const p=z(c),y=p.ns.get(h);return y!==void 0?b.resolve(p.ts.get(y)):p.qr.getTargetData(d,h)}(r,o,lt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:$())).next(a=>(vb(r,dI(e),a),{documents:a,ls:s})))}function vb(t,e,n){let r=t.rs.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class rd{constructor(){this.activeTargetIds=wI()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eb{constructor(){this.eo=new rd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new rd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tb{ro(e){}shutdown(){}}class id{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vi=null;function Mo(){return Vi===null?Vi=function(){return 268435456+Math.round(2147483648*Math.random())}():Vi++,"0x"+Vi.toString(16)}const Ib={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bb{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Re="WebChannelConnection";class Ab extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Mo(),c=this.So(n,r);x("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,s,o),this.Do(n,c,d,i).then(h=>(x("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Bn("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xn}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=Ib[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Mo();return new Promise((o,a)=>{const c=new O0;c.setWithCredentials(!0),c.listenOnce(R0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case No.NO_ERROR:const h=c.getResponseJson();x(Re,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case No.TIMEOUT:x(Re,`RPC '${e}' ${s} timed out`),a(new V(S.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const p=c.getStatus();if(x(Re,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const _=function(T){const I=T.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(I)>=0?I:S.UNKNOWN}(w.status);a(new V(_,w.message))}else a(new V(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(S.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{x(Re,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);x(Re,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}vo(e,n,r){const i=Mo(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=P0(),a=C0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new x0({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");x(Re,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);let y=!1,w=!1;const _=new bb({co:T=>{w?x(Re,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(y||(x(Re,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),x(Re,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},lo:()=>p.close()}),m=(T,I,C)=>{T.listen(I,P=>{try{C(P)}catch(A){setTimeout(()=>{throw A},0)}})};return m(p,Oi.EventType.OPEN,()=>{w||x(Re,`RPC '${e}' stream ${i} transport opened.`)}),m(p,Oi.EventType.CLOSE,()=>{w||(w=!0,x(Re,`RPC '${e}' stream ${i} transport closed`),_.Ro())}),m(p,Oi.EventType.ERROR,T=>{w||(w=!0,Bn(Re,`RPC '${e}' stream ${i} transport errored:`,T),_.Ro(new V(S.UNAVAILABLE,"The operation could not be completed")))}),m(p,Oi.EventType.MESSAGE,T=>{var I;if(!w){const C=T.data[0];se(!!C);const P=C,A=P.error||((I=P[0])===null||I===void 0?void 0:I.error);if(A){x(Re,`RPC '${e}' stream ${i} received error:`,A);const F=A.status;let W=function(Ee){const k=fe[Ee];if(k!==void 0)return sp(k)}(F),Me=A.message;W===void 0&&(W=S.INTERNAL,Me="Unknown error status: "+F+" with message "+A.message),w=!0,_.Ro(new V(W,Me)),p.close()}else x(Re,`RPC '${e}' stream ${i} received:`,C),_.Vo(C)}}),m(a,k0.STAT_EVENT,T=>{T.stat===Vu.PROXY?x(Re,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Vu.NOPROXY&&x(Re,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function Lo(){return typeof document<"u"?document:null}function Js(t){return new MI(t,!0)}class gp{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class wp{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gp(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Tt(n.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new V(S.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sb extends wp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=BI(this.serializer,e),r=function(s){if(!("targetChange"in s))return j.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?ct(o.readTime):j.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ia(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=ya(c)?{documents:zI(s,c)}:{query:HI(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lp(s,o.resumeToken);const d=va(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(j.min())>0){a.readTime=ws(s,o.snapshotVersion.toTimestamp());const d=va(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=$I(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ia(this.serializer),n.removeTarget=e,this.e_(n)}}class Pb extends wp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=jI(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.I_(r,n)}return se(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ia(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UI(this.serializer,r))};this.e_(n)}}class Cb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(S.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(S.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Rb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Tt(n),this.f_=!1):x("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}class kb{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{gn(this)&&(x("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=z(c);d.C_.add(4),await fi(d),d.M_.set("Unknown"),d.C_.delete(4),await Zs(d)}(this))})}),this.M_=new Rb(r,i)}}async function Zs(t){if(gn(t))for(const e of t.v_)await e(!0)}async function fi(t){for(const e of t.v_)await e(!1)}function yp(t,e){const n=z(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Dl(n)?Ol(n):er(n).Ho()&&xl(n,e))}function _p(t,e){const n=z(t),r=er(n);n.D_.delete(e),r.Ho()&&vp(n,e),n.D_.size===0&&(r.Ho()?r.Zo():gn(n)&&n.M_.set("Unknown"))}function xl(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}er(t).u_(e)}function vp(t,e){t.x_.Oe(e),er(t).c_(e)}function Ol(t){t.x_=new OI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),er(t).start(),t.M_.g_()}function Dl(t){return gn(t)&&!er(t).jo()&&t.D_.size>0}function gn(t){return z(t).C_.size===0}function Ep(t){t.x_=void 0}async function xb(t){t.D_.forEach((e,n)=>{xl(t,e)})}async function Ob(t,e){Ep(t),Dl(t)?(t.M_.w_(e),Ol(t)):t.M_.set("Unknown")}async function Db(t,e,n){if(t.M_.set("Online"),e instanceof ap&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ys(t,r)}else if(e instanceof Ki?t.x_.$e(e):e instanceof op?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(j.min()))try{const r=await mp(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.D_.get(d);h&&s.D_.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=s.D_.get(c);if(!h)return;s.D_.set(c,h.withResumeToken(Ve.EMPTY_BYTE_STRING,h.snapshotVersion)),vp(s,c);const p=new Nt(h.target,c,d,h.sequenceNumber);xl(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){x("RemoteStore","Failed to raise snapshot:",r),await ys(t,r)}}async function ys(t,e,n){if(!ui(e))throw e;t.C_.add(1),await fi(t),t.M_.set("Offline"),n||(n=()=>mp(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{x("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Zs(t)})}function Tp(t,e){return e().catch(n=>ys(t,n,e))}async function eo(t){const e=z(t),n=zt(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Nb(e);)try{const i=await yb(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Vb(e,i)}catch(i){await ys(e,i)}Ip(e)&&bp(e)}function Nb(t){return gn(t)&&t.b_.length<10}function Vb(t,e){t.b_.push(e);const n=zt(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Ip(t){return gn(t)&&!zt(t).jo()&&t.b_.length>0}function bp(t){zt(t).start()}async function Mb(t){zt(t).E_()}async function Lb(t){const e=zt(t);for(const n of t.b_)e.P_(n.mutations)}async function Fb(t,e,n){const r=t.b_.shift(),i=Al.from(r,e,n);await Tp(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await eo(t)}async function Bb(t,e){e&&zt(t).h_&&await async function(r,i){if(function(o){return RI(o)&&o!==S.ABORTED}(i.code)){const s=r.b_.shift();zt(r).Yo(),await Tp(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await eo(r)}}(t,e),Ip(t)&&bp(t)}async function sd(t,e){const n=z(t);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=gn(n);n.C_.add(3),await fi(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Zs(n)}async function Ub(t,e){const n=z(t);e?(n.C_.delete(2),await Zs(n)):e||(n.C_.add(2),await fi(n),n.M_.set("Unknown"))}function er(t){return t.O_||(t.O_=function(n,r,i){const s=z(n);return s.A_(),new Sb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:xb.bind(null,t),Io:Ob.bind(null,t),a_:Db.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Dl(t)?Ol(t):t.M_.set("Unknown")):(await t.O_.stop(),Ep(t))})),t.O_}function zt(t){return t.N_||(t.N_=function(n,r,i){const s=z(n);return s.A_(),new Pb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Mb.bind(null,t),Io:Bb.bind(null,t),T_:Lb.bind(null,t),I_:Fb.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await eo(t)):(await t.N_.stop(),t.b_.length>0&&(x("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}class Nl{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Nl(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vl(t,e){if(Tt("AsyncQueue",`${e}: ${t}`),ui(t))return new V(S.UNAVAILABLE,`${e}: ${t}`);throw t}class Vn{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=wr(),this.sortedSet=new le(this.comparator)}static emptySet(e){return new Vn(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vn;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class od{constructor(){this.B_=new le(N.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):U():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qn{constructor(e,n,r,i,s,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qn(e,n,Vn.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ws(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class jb{constructor(){this.k_=void 0,this.listeners=[]}}class zb{constructor(){this.queries=new Zn(e=>$f(e),Ws),this.onlineState="Unknown",this.q_=new Set}}async function Hb(t,e){const n=z(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new jb),i)try{s.k_=await n.onListen(r)}catch(o){const a=Vl(o,`Initialization of query '${Sn(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Ml(n)}async function qb(t,e){const n=z(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function $b(t,e){const n=z(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Ml(n)}function Gb(t,e,n){const r=z(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Ml(t){t.q_.forEach(e=>{e.next()})}class Wb{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qn(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=qn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ap{constructor(e){this.key=e}}class Sp{constructor(e){this.key=e}}class Kb{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=$(),this.mutatedKeys=$(),this._a=Gf(e),this.aa=new Vn(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new od,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const y=i.get(h),w=Ks(this.query,p)?p:null,_=!!y&&this.mutatedKeys.has(y.key),m=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;y&&w?y.data.isEqual(w.data)?_!==m&&(r.track({type:3,doc:w}),T=!0):this.ha(y,w)||(r.track({type:2,doc:w}),T=!0,(c&&this._a(w,c)>0||d&&this._a(w,d)<0)&&(a=!0)):!y&&w?(r.track({type:0,doc:w}),T=!0):y&&!w&&(r.track({type:1,doc:y}),T=!0,(c||d)&&(a=!0)),T&&(w?(o=o.add(w),s=m?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((d,h)=>function(y,w){const _=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return _(y)-_(w)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,c=a!==this.sa;return this.sa=a,s.length!==0||c?{snapshot:new qn(this.query,e.aa,i,s,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new od,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=$(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Sp(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Ap(r))}),n}da(e){this.ia=e.ls,this.oa=$();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return qn.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Qb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Yb{constructor(e){this.key=e,this.Ra=!1}}class Xb{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Zn(a=>$f(a),Ws),this.fa=new Map,this.ga=new Set,this.pa=new le(N.comparator),this.ya=new Map,this.wa=new Cl,this.Sa={},this.ba=new Map,this.Da=Hn.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Jb(t,e){const n=lA(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await _b(n.localStore,lt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Zb(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&yp(n.remoteStore,o)}return i}async function Zb(t,e,n,r,i){t.va=(p,y,w)=>async function(m,T,I,C){let P=T.view.ca(I);P.Zi&&(P=await nd(m.localStore,T.query,!1).then(({documents:W})=>T.view.ca(W,P)));const A=C&&C.targetChanges.get(T.targetId),F=T.view.applyChanges(P,m.isPrimaryClient,A);return ld(m,T.targetId,F.Ta),F.snapshot}(t,p,y,w);const s=await nd(t.localStore,e,!0),o=new Kb(e,s.ls),a=o.ca(s.documents),c=hi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,c);ld(t,n,d.Ta);const h=new Qb(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),d.snapshot}async function eA(t,e){const n=z(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ws(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ba(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_p(n.remoteStore,r.targetId),Aa(n,r.targetId)}).catch(ci)):(Aa(n,r.targetId),await ba(n.localStore,r.targetId,!0))}async function tA(t,e,n){const r=cA(t);try{const i=await function(o,a){const c=z(o),d=we.now(),h=a.reduce((w,_)=>w.add(_.key),$());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=It(),m=$();return c.ss.getEntries(w,h).next(T=>{_=T,_.forEach((I,C)=>{C.isValidDocument()||(m=m.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,_)).next(T=>{p=T;const I=[];for(const C of a){const P=bI(C,p.get(C.key).overlayedDocument);P!=null&&I.push(new mn(C.key,P,Ff(P.value.mapValue),_t.exists(!0)))}return c.mutationQueue.addMutationBatch(w,d,I,a)}).next(T=>{y=T;const I=T.applyToLocalDocumentSet(p,m);return c.documentOverlayCache.saveOverlays(w,T.batchId,I)})}).then(()=>({batchId:y.batchId,changes:Kf(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let d=o.Sa[o.currentUser.toKey()];d||(d=new le(J)),d=d.insert(a,c),o.Sa[o.currentUser.toKey()]=d}(r,i.batchId,n),await pi(r,i.changes),await eo(r.remoteStore)}catch(i){const s=Vl(i,"Failed to persist write");n.reject(s)}}async function Pp(t,e){const n=z(t);try{const r=await gb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?se(o.Ra):i.removedDocuments.size>0&&(se(o.Ra),o.Ra=!1))}),await pi(n,r,e)}catch(r){await ci(r)}}function ad(t,e,n){const r=z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=z(o);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const y of p.listeners)y.Q_(a)&&(d=!0)}),d&&Ml(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nA(t,e,n){const r=z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new le(N.comparator);o=o.insert(s,xe.newNoDocument(s,j.min()));const a=$().add(s),c=new Xs(j.min(),new Map,new le(J),o,a);await Pp(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),Ll(r)}else await ba(r.localStore,e,!1).then(()=>Aa(r,e,n)).catch(ci)}async function rA(t,e){const n=z(t),r=e.batch.batchId;try{const i=await mb(n.localStore,e);Rp(n,r,null),Cp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pi(n,i)}catch(i){await ci(i)}}async function iA(t,e,n){const r=z(t);try{const i=await function(o,a){const c=z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(se(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);Rp(r,e,n),Cp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pi(r,i)}catch(i){await ci(i)}}function Cp(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Rp(t,e,n){const r=z(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Aa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||kp(t,r)})}function kp(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(_p(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Ll(t))}function ld(t,e,n){for(const r of n)r instanceof Ap?(t.wa.addReference(r.key,e),sA(t,r)):r instanceof Sp?(x("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||kp(t,r.key)):U()}function sA(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(x("SyncEngine","New document in limbo: "+n),t.ga.add(r),Ll(t))}function Ll(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new N(ce.fromString(e)),r=t.Da.next();t.ya.set(r,new Yb(n)),t.pa=t.pa.insert(n,r),yp(t.remoteStore,new Nt(lt(bl(n.path)),r,"TargetPurposeLimboResolution",yl._e))}}async function pi(t,e,n){const r=z(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const h=kl.Qi(c.targetId,d);s.push(h)}}))}),await Promise.all(o),r.Va.a_(i),await async function(c,d){const h=z(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>b.forEach(d,y=>b.forEach(y.ki,w=>h.persistence.referenceDelegate.addReference(p,y.targetId,w)).next(()=>b.forEach(y.qi,w=>h.persistence.referenceDelegate.removeReference(p,y.targetId,w)))))}catch(p){if(!ui(p))throw p;x("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const w=h.ts.get(y),_=w.snapshotVersion,m=w.withLastLimboFreeSnapshotVersion(_);h.ts=h.ts.insert(y,m)}}}(r.localStore,s))}async function oA(t,e){const n=z(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=await pp(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new V(S.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pi(n,r._s)}}function aA(t,e){const n=z(t),r=n.ya.get(e);if(r&&r.Ra)return $().add(r.key);{let i=$();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function lA(t){const e=z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nA.bind(null,e),e.Va.a_=$b.bind(null,e.eventManager),e.Va.Fa=Gb.bind(null,e.eventManager),e}function cA(t){const e=z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iA.bind(null,e),e}class cd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Js(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pb(this.persistence,new hb,e.initialUser,this.serializer)}createPersistence(e){return new cb(Rl.jr,this.serializer)}createSharedClientState(e){return new Eb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ad(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oA.bind(null,this.syncEngine),await Ub(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zb}()}createDatastore(e){const n=Js(e.databaseInfo.databaseId),r=function(s){return new Ab(s)}(e.databaseInfo);return function(s,o,a,c){return new Cb(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kb(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ad(this.syncEngine,n,0),function(){return id.D()?new id:new Tb}())}createSyncEngine(e,n){return function(i,s,o,a,c,d,h){const p=new Xb(i,s,o,a,c,d);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=z(n);x("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await fi(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}class dA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class hA{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ke.UNAUTHENTICATED,this.clientId=Vf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{x("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(x("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fo(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pp(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ud(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pA(t);x("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>sd(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>sd(e.remoteStore,s)),t._onlineComponents=e}function fA(t){return t.name==="FirebaseError"?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function pA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fo(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!fA(n))throw n;Bn("Error using user provided cache. Falling back to memory cache: "+n),await Fo(t,new cd)}}else x("FirestoreClient","Using default OfflineComponentProvider"),await Fo(t,new cd);return t._offlineComponents}async function xp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),await ud(t,t._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),await ud(t,new uA))),t._onlineComponents}function mA(t){return xp(t).then(e=>e.syncEngine)}async function gA(t){const e=await xp(t),n=e.eventManager;return n.onListen=Jb.bind(null,e.syncEngine),n.onUnlisten=eA.bind(null,e.syncEngine),n}function wA(t,e,n={}){const r=new Bt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,d){const h=new dA({next:y=>{o.enqueueAndForget(()=>qb(s,p));const w=y.docs.has(a);!w&&y.fromCache?d.reject(new V(S.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&c&&c.source==="server"?d.reject(new V(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new Wb(bl(a.path),h,{includeMetadataChanges:!0,J_:!0});return Hb(s,p)}(await gA(t),t.asyncQueue,e,n,r)),r.promise}function Op(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const dd=new Map;function yA(t,e,n){if(!n)throw new V(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _A(t,e,n,r){if(e===!0&&r===!0)throw new V(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hd(t){if(!N.isDocumentKey(t))throw new V(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fl(t);throw new V(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class fd{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Op((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new N0;switch(r.type){case"firstParty":return new F0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dd.get(n);r&&(x("ComponentProvider","Removing Datastore"),dd.delete(n),r.terminate())}(this),Promise.resolve()}}function vA(t,e,n,r={}){var i;const s=(t=qr(t,Bl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=ke.MOCK_USER;else{a=Ky(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new V(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ke(d)}t._authCredentials=new V0(new Nf(a,c))}}class Ul{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ul(this.firestore,e,this._query)}}class Ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}}class $r extends Ul{constructor(e,n,r){super(e,n,bl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new N(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function mP(t,e,...n){if(t=je(t),arguments.length===1&&(e=Vf.newId()),yA("doc","path",e),t instanceof Bl){const r=ce.fromString(e,...n);return hd(r),new Ke(t,null,new N(r))}{if(!(t instanceof Ke||t instanceof $r))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return hd(r),new Ke(t.firestore,t instanceof $r?t.converter:null,new N(r))}}class EA{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gp(this,"async_queue_retry"),this.iu=()=>{const n=Lo();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Lo();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Lo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Bt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ui(e))throw e;x("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Nl.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&U()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class jl extends Bl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new EA}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Np(this),this._firestoreClient.terminate()}}function gP(t,e){const n=typeof t=="object"?t:Yd(),r=typeof t=="string"?t:e||"(default)",i=Ba(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Gy("firestore");s&&vA(i,...s)}return i}function Dp(t){return t._firestoreClient||Np(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Np(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,d,h){return new Y0(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Op(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hA(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Ve.fromBase64String(e))}catch(n){throw new V(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(Ve.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vp{constructor(e){this._methodName=e}}class Hl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const TA=/^__.*__$/;class IA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new di(e,this.data,n,this.fieldTransforms)}}function Mp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class ql{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ql(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return _s(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Mp(this.Iu)&&TA.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class bA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Js(e)}pu(e,n,r,i=!1){return new ql({Iu:e,methodName:n,gu:r,path:Ae.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AA(t){const e=t._freezeSettings(),n=Js(t._databaseId);return new bA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SA(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Up("Data must be an object, but it was:",o,r);const a=Fp(r,o);let c,d;if(s.merge)c=new Ye(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const y=PA(e,p,n);if(!o.contains(y))throw new V(S.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);RA(h,y)||h.push(y)}c=new Ye(h),d=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=o.fieldTransforms;return new IA(new Ge(a),c,d)}function Lp(t,e){if(Bp(t=je(t)))return Up("Unsupported field value:",e,t),Fp(t,e);if(t instanceof Vp)return function(r,i){if(!Mp(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Lp(a,i.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=we.fromDate(r);return{timestampValue:ws(i.serializer,s)}}if(r instanceof we){const s=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ws(i.serializer,s)}}if(r instanceof Hl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:lp(i.serializer,r._byteString)};if(r instanceof Ke){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pl(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Fl(r)}`)}(t,e)}function Fp(t,e){const n={};return Mf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jn(t,(r,i)=>{const s=Lp(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Bp(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof Hl||t instanceof $n||t instanceof Ke||t instanceof Vp)}function Up(t,e,n){if(!Bp(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fl(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function PA(t,e,n){if((e=je(e))instanceof zl)return e._internalPath;if(typeof e=="string")return jp(t,e);throw _s("Field path arguments must be of type string or ",t,!1,void 0,n)}const CA=new RegExp("[~\\*/\\[\\]]");function jp(t,e,n){if(e.search(CA)>=0)throw _s(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zl(...e.split("."))._internalPath}catch{throw _s(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _s(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new V(S.INVALID_ARGUMENT,a+t+c)}function RA(t,e){return t.some(n=>n.isEqual(e))}class zp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kA extends zp{data(){return super.data()}}function Hp(t,e){return typeof e=="string"?jp(t,e):e instanceof zl?e._internalPath:e._delegate._internalPath}class xA{convertValue(e,n="none"){switch(un(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jn(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hl(pe(e.latitude),pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Br(e));default:return null}}convertTimestamp(e){const n=jt(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ce.fromString(e);se(fp(r));const i=new Ur(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||Tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function OA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class DA{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qp extends zp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new NA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class NA extends qp{data(e={}){return super.data(e)}}function wP(t){t=qr(t,Ke);const e=qr(t.firestore,jl);return wA(Dp(e),t._key).then(n=>LA(e,t,n))}class VA extends xA{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function yP(t,e,n){t=qr(t,Ke);const r=qr(t.firestore,jl),i=OA(t.converter,e,n);return MA(r,[SA(AA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_t.none())])}function MA(t,e){return function(r,i){const s=new Bt;return r.asyncQueue.enqueueAndForget(async()=>tA(await mA(r),i,s)),s.promise}(Dp(t),e)}function LA(t,e,n){const r=n.docs.get(e._key),i=new VA(t);return new qp(t,i,e._key,r,new DA(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Xn=i})(Wn),Ln(new rn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new jl(new M0(r.getProvider("auth-internal")),new U0(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new V(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ur(d.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ft(Mu,"4.3.2",e),Ft(Mu,"4.3.2","esm2017")})();var Rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sa={},FA={get exports(){return Sa},set exports(t){Sa=t}};(function(t,e){(function(n,r){t.exports=r()})(Rt,function(){function n(l,u){var f=i(l,u,"get");return s(l,f)}function r(l,u,f){var g=i(l,u,"set");return o(l,g,f),f}function i(l,u,f){if(!u.has(l))throw new TypeError("attempted to "+f+" private field on non-instance");return u.get(l)}function s(l,u){return u.get?u.get.call(l):u.value}function o(l,u,f){if(u.set)u.set.call(l,f);else{if(!u.writable)throw new TypeError("attempted to set read only private field");u.value=f}}function a(l,u){if(u.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(l,u,f){a(l,u),u.set(l,f)}const d=100,h={},p=()=>{h.previousActiveElement instanceof HTMLElement?(h.previousActiveElement.focus(),h.previousActiveElement=null):document.body&&document.body.focus()},y=l=>new Promise(u=>{if(!l)return u();const f=window.scrollX,g=window.scrollY;h.restoreFocusTimeout=setTimeout(()=>{p(),u()},d),window.scrollTo(f,g)}),w="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,u)=>(l[u]=w+u,l),{}),I=["success","warning","info","question","error"].reduce((l,u)=>(l[u]=w+u,l),{}),C="SweetAlert2:",P=l=>l.charAt(0).toUpperCase()+l.slice(1),A=l=>{console.warn("".concat(C," ").concat(typeof l=="object"?l.join(" "):l))},F=l=>{console.error("".concat(C," ").concat(l))},W=[],Me=l=>{W.includes(l)||(W.push(l),A(l))},te=(l,u)=>{Me('"'.concat(l,'" is deprecated and will be removed in the next major release. Please use "').concat(u,'" instead.'))},Ee=l=>typeof l=="function"?l():l,k=l=>l&&typeof l.toPromise=="function",M=l=>k(l)?l.toPromise():Promise.resolve(l),H=l=>l&&Promise.resolve(l)===l,O=()=>document.body.querySelector(".".concat(m.container)),oe=l=>{const u=O();return u?u.querySelector(l):null},ee=l=>oe(".".concat(l)),q=()=>ee(m.popup),$t=()=>ee(m.icon),mi=()=>ee(m["icon-content"]),nr=()=>ee(m.title),wn=()=>ee(m["html-container"]),gi=()=>ee(m.image),rr=()=>ee(m["progress-steps"]),wi=()=>ee(m["validation-message"]),Ze=()=>oe(".".concat(m.actions," .").concat(m.confirm)),yn=()=>oe(".".concat(m.actions," .").concat(m.cancel)),Gt=()=>oe(".".concat(m.actions," .").concat(m.deny)),Yp=()=>ee(m["input-label"]),_n=()=>oe(".".concat(m.loader)),ir=()=>ee(m.actions),Gl=()=>ee(m.footer),yi=()=>ee(m["timer-progress-bar"]),to=()=>ee(m.close),Xp=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,no=()=>{const l=q();if(!l)return[];const u=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),f=Array.from(u).sort((D,X)=>{const re=parseInt(D.getAttribute("tabindex")||"0"),ae=parseInt(X.getAttribute("tabindex")||"0");return re>ae?1:re<ae?-1:0}),g=l.querySelectorAll(Xp),v=Array.from(g).filter(D=>D.getAttribute("tabindex")!=="-1");return[...new Set(f.concat(v))].filter(D=>Be(D))},ro=()=>ft(document.body,m.shown)&&!ft(document.body,m["toast-shown"])&&!ft(document.body,m["no-backdrop"]),_i=()=>{const l=q();return l?ft(l,m.toast):!1},Jp=()=>{const l=q();return l?l.hasAttribute("data-loading"):!1},Fe=(l,u)=>{if(l.textContent="",u){const g=new DOMParser().parseFromString(u,"text/html"),v=g.querySelector("head");v&&Array.from(v.childNodes).forEach(X=>{l.appendChild(X)});const D=g.querySelector("body");D&&Array.from(D.childNodes).forEach(X=>{X instanceof HTMLVideoElement||X instanceof HTMLAudioElement?l.appendChild(X.cloneNode(!0)):l.appendChild(X)})}},ft=(l,u)=>{if(!u)return!1;const f=u.split(/\s+/);for(let g=0;g<f.length;g++)if(!l.classList.contains(f[g]))return!1;return!0},Zp=(l,u)=>{Array.from(l.classList).forEach(f=>{!Object.values(m).includes(f)&&!Object.values(I).includes(f)&&!Object.values(u.showClass||{}).includes(f)&&l.classList.remove(f)})},qe=(l,u,f)=>{if(Zp(l,u),u.customClass&&u.customClass[f]){if(typeof u.customClass[f]!="string"&&!u.customClass[f].forEach){A("Invalid type of customClass.".concat(f,'! Expected string or iterable object, got "').concat(typeof u.customClass[f],'"'));return}Y(l,u.customClass[f])}},vi=(l,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return l.querySelector(".".concat(m.popup," > .").concat(m[u]));case"checkbox":return l.querySelector(".".concat(m.popup," > .").concat(m.checkbox," input"));case"radio":return l.querySelector(".".concat(m.popup," > .").concat(m.radio," input:checked"))||l.querySelector(".".concat(m.popup," > .").concat(m.radio," input:first-child"));case"range":return l.querySelector(".".concat(m.popup," > .").concat(m.range," input"));default:return l.querySelector(".".concat(m.popup," > .").concat(m.input))}},Wl=l=>{if(l.focus(),l.type!=="file"){const u=l.value;l.value="",l.value=u}},Kl=(l,u,f)=>{!l||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(g=>{Array.isArray(l)?l.forEach(v=>{f?v.classList.add(g):v.classList.remove(g)}):f?l.classList.add(g):l.classList.remove(g)}))},Y=(l,u)=>{Kl(l,u,!0)},et=(l,u)=>{Kl(l,u,!1)},At=(l,u)=>{const f=Array.from(l.children);for(let g=0;g<f.length;g++){const v=f[g];if(v instanceof HTMLElement&&ft(v,u))return v}},Wt=(l,u,f)=>{f==="".concat(parseInt(f))&&(f=parseInt(f)),f||parseInt(f)===0?l.style[u]=typeof f=="number"?"".concat(f,"px"):f:l.style.removeProperty(u)},Te=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=u)},Ce=l=>{l&&(l.style.display="none")},io=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{sr(l,l.innerHTML,u)}).observe(l,{childList:!0,subtree:!0})},Ql=(l,u,f,g)=>{const v=l.querySelector(u);v&&(v.style[f]=g)},sr=function(l,u){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";u?Te(l,f):Ce(l)},Be=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),em=()=>!Be(Ze())&&!Be(Gt())&&!Be(yn()),Yl=l=>l.scrollHeight>l.clientHeight,Xl=l=>{const u=window.getComputedStyle(l),f=parseFloat(u.getPropertyValue("animation-duration")||"0"),g=parseFloat(u.getPropertyValue("transition-duration")||"0");return f>0||g>0},so=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const f=yi();f&&Be(f)&&(u&&(f.style.transition="none",f.style.width="100%"),setTimeout(()=>{f.style.transition="width ".concat(l/1e3,"s linear"),f.style.width="0%"},10))},tm=()=>{const l=yi();if(!l)return;const u=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const f=parseInt(window.getComputedStyle(l).width),g=u/f*100;l.style.width="".concat(g,"%")},Jl=()=>typeof window>"u"||typeof document>"u",nm=`
 <div aria-labelledby="`.concat(m.title,'" aria-describedby="').concat(m["html-container"],'" class="').concat(m.popup,`" tabindex="-1">
   <button type="button" class="`).concat(m.close,`"></button>
   <ul class="`).concat(m["progress-steps"],`"></ul>
   <div class="`).concat(m.icon,`"></div>
   <img class="`).concat(m.image,`" />
   <h2 class="`).concat(m.title,'" id="').concat(m.title,`"></h2>
   <div class="`).concat(m["html-container"],'" id="').concat(m["html-container"],`"></div>
   <input class="`).concat(m.input,'" id="').concat(m.input,`" />
   <input type="file" class="`).concat(m.file,`" />
   <div class="`).concat(m.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(m.select,'" id="').concat(m.select,`"></select>
   <div class="`).concat(m.radio,`"></div>
   <label class="`).concat(m.checkbox,`">
     <input type="checkbox" id="`).concat(m.checkbox,`" />
     <span class="`).concat(m.label,`"></span>
   </label>
   <textarea class="`).concat(m.textarea,'" id="').concat(m.textarea,`"></textarea>
   <div class="`).concat(m["validation-message"],'" id="').concat(m["validation-message"],`"></div>
   <div class="`).concat(m.actions,`">
     <div class="`).concat(m.loader,`"></div>
     <button type="button" class="`).concat(m.confirm,`"></button>
     <button type="button" class="`).concat(m.deny,`"></button>
     <button type="button" class="`).concat(m.cancel,`"></button>
   </div>
   <div class="`).concat(m.footer,`"></div>
   <div class="`).concat(m["timer-progress-bar-container"],`">
     <div class="`).concat(m["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),rm=()=>{const l=O();return l?(l.remove(),et([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Kt=()=>{h.currentInstance.resetValidationMessage()},im=()=>{const l=q(),u=At(l,m.input),f=At(l,m.file),g=l.querySelector(".".concat(m.range," input")),v=l.querySelector(".".concat(m.range," output")),D=At(l,m.select),X=l.querySelector(".".concat(m.checkbox," input")),re=At(l,m.textarea);u.oninput=Kt,f.onchange=Kt,D.onchange=Kt,X.onchange=Kt,re.oninput=Kt,g.oninput=()=>{Kt(),v.value=g.value},g.onchange=()=>{Kt(),v.value=g.value}},sm=l=>typeof l=="string"?document.querySelector(l):l,om=l=>{const u=q();u.setAttribute("role",l.toast?"alert":"dialog"),u.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||u.setAttribute("aria-modal","true")},am=l=>{window.getComputedStyle(l).direction==="rtl"&&Y(O(),m.rtl)},lm=l=>{const u=rm();if(Jl()){F("SweetAlert2 requires document to initialize");return}const f=document.createElement("div");f.className=m.container,u&&Y(f,m["no-transition"]),Fe(f,nm);const g=sm(l.target);g.appendChild(f),om(l),am(g),im()},oo=(l,u)=>{l instanceof HTMLElement?u.appendChild(l):typeof l=="object"?cm(l,u):l&&Fe(u,l)},cm=(l,u)=>{l.jquery?um(u,l):Fe(u,l.toString())},um=(l,u)=>{if(l.textContent="",0 in u)for(let f=0;f in u;f++)l.appendChild(u[f].cloneNode(!0));else l.appendChild(u.cloneNode(!0))},Qt=(()=>{if(Jl())return!1;const l=document.createElement("div");return typeof l.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof l.style.animation<"u"?"animationend":!1})(),dm=(l,u)=>{const f=ir(),g=_n();!f||!g||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?Ce(f):Te(f),qe(f,u,"actions"),hm(f,g,u),Fe(g,u.loaderHtml||""),qe(g,u,"loader"))};function hm(l,u,f){const g=Ze(),v=Gt(),D=yn();!g||!v||!D||(ao(g,"confirm",f),ao(v,"deny",f),ao(D,"cancel",f),fm(g,v,D,f),f.reverseButtons&&(f.toast?(l.insertBefore(D,g),l.insertBefore(v,g)):(l.insertBefore(D,u),l.insertBefore(v,u),l.insertBefore(g,u))))}function fm(l,u,f,g){if(!g.buttonsStyling){et([l,u,f],m.styled);return}Y([l,u,f],m.styled),g.confirmButtonColor&&(l.style.backgroundColor=g.confirmButtonColor,Y(l,m["default-outline"])),g.denyButtonColor&&(u.style.backgroundColor=g.denyButtonColor,Y(u,m["default-outline"])),g.cancelButtonColor&&(f.style.backgroundColor=g.cancelButtonColor,Y(f,m["default-outline"]))}function ao(l,u,f){const g=P(u);sr(l,f["show".concat(g,"Button")],"inline-block"),Fe(l,f["".concat(u,"ButtonText")]||""),l.setAttribute("aria-label",f["".concat(u,"ButtonAriaLabel")]||""),l.className=m[u],qe(l,f,"".concat(u,"Button"))}const pm=(l,u)=>{const f=to();f&&(Fe(f,u.closeButtonHtml||""),qe(f,u,"closeButton"),sr(f,u.showCloseButton),f.setAttribute("aria-label",u.closeButtonAriaLabel||""))},mm=(l,u)=>{const f=O();f&&(gm(f,u.backdrop),wm(f,u.position),ym(f,u.grow),qe(f,u,"container"))};function gm(l,u){typeof u=="string"?l.style.background=u:u||Y([document.documentElement,document.body],m["no-backdrop"])}function wm(l,u){u&&(u in m?Y(l,m[u]):(A('The "position" parameter is not valid, defaulting to "center"'),Y(l,m.center)))}function ym(l,u){u&&Y(l,m["grow-".concat(u)])}var ne={innerParams:new WeakMap,domCache:new WeakMap};const _m=["input","file","range","select","radio","checkbox","textarea"],vm=(l,u)=>{const f=q();if(!f)return;const g=ne.innerParams.get(l),v=!g||u.input!==g.input;_m.forEach(D=>{const X=At(f,m[D]);X&&(Im(D,u.inputAttributes),X.className=m[D],v&&Ce(X))}),u.input&&(v&&Em(u),bm(u))},Em=l=>{if(!l.input)return;if(!de[l.input]){F("Unexpected type of input! Expected ".concat(Object.keys(de).join(" | "),', got "').concat(l.input,'"'));return}const u=Zl(l.input),f=de[l.input](u,l);Te(u),l.inputAutoFocus&&setTimeout(()=>{Wl(f)})},Tm=l=>{for(let u=0;u<l.attributes.length;u++){const f=l.attributes[u].name;["id","type","value","style"].includes(f)||l.removeAttribute(f)}},Im=(l,u)=>{const f=vi(q(),l);if(f){Tm(f);for(const g in u)f.setAttribute(g,u[g])}},bm=l=>{const u=Zl(l.input);typeof l.customClass=="object"&&Y(u,l.customClass.input)},lo=(l,u)=>{(!l.placeholder||u.inputPlaceholder)&&(l.placeholder=u.inputPlaceholder)},or=(l,u,f)=>{if(f.inputLabel){const g=document.createElement("label"),v=m["input-label"];g.setAttribute("for",l.id),g.className=v,typeof f.customClass=="object"&&Y(g,f.customClass.inputLabel),g.innerText=f.inputLabel,u.insertAdjacentElement("beforebegin",g)}},Zl=l=>At(q(),m[l]||m.input),Ei=(l,u)=>{["string","number"].includes(typeof u)?l.value="".concat(u):H(u)||A('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof u,'"'))},de={};de.text=de.email=de.password=de.number=de.tel=de.url=de.search=de.date=de["datetime-local"]=de.time=de.week=de.month=(l,u)=>(Ei(l,u.inputValue),or(l,l,u),lo(l,u),l.type=u.input,l),de.file=(l,u)=>(or(l,l,u),lo(l,u),l),de.range=(l,u)=>{const f=l.querySelector("input"),g=l.querySelector("output");return Ei(f,u.inputValue),f.type=u.input,Ei(g,u.inputValue),or(f,l,u),l},de.select=(l,u)=>{if(l.textContent="",u.inputPlaceholder){const f=document.createElement("option");Fe(f,u.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,l.appendChild(f)}return or(l,l,u),l},de.radio=l=>(l.textContent="",l),de.checkbox=(l,u)=>{const f=vi(q(),"checkbox");f.value="1",f.checked=Boolean(u.inputValue);const g=l.querySelector("span");return Fe(g,u.inputPlaceholder),f},de.textarea=(l,u)=>{Ei(l,u.inputValue),lo(l,u),or(l,l,u);const f=g=>parseInt(window.getComputedStyle(g).marginLeft)+parseInt(window.getComputedStyle(g).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const g=parseInt(window.getComputedStyle(q()).width),v=()=>{if(!document.body.contains(l))return;const D=l.offsetWidth+f(l);D>g?q().style.width="".concat(D,"px"):Wt(q(),"width",u.width)};new MutationObserver(v).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};const Am=(l,u)=>{const f=wn();f&&(io(f),qe(f,u,"htmlContainer"),u.html?(oo(u.html,f),Te(f,"block")):u.text?(f.textContent=u.text,Te(f,"block")):Ce(f),vm(l,u))},Sm=(l,u)=>{const f=Gl();f&&(io(f),sr(f,u.footer,"block"),u.footer&&oo(u.footer,f),qe(f,u,"footer"))},Pm=(l,u)=>{const f=ne.innerParams.get(l),g=$t();if(g){if(f&&u.icon===f.icon){tc(g,u),ec(g,u);return}if(!u.icon&&!u.iconHtml){Ce(g);return}if(u.icon&&Object.keys(I).indexOf(u.icon)===-1){F('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(u.icon,'"')),Ce(g);return}Te(g),tc(g,u),ec(g,u),Y(g,u.showClass&&u.showClass.icon)}},ec=(l,u)=>{for(const[f,g]of Object.entries(I))u.icon!==f&&et(l,g);Y(l,u.icon&&I[u.icon]),xm(l,u),Cm(),qe(l,u,"icon")},Cm=()=>{const l=q();if(!l)return;const u=window.getComputedStyle(l).getPropertyValue("background-color"),f=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let g=0;g<f.length;g++)f[g].style.backgroundColor=u},Rm=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,km=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,tc=(l,u)=>{if(!u.icon&&!u.iconHtml)return;let f=l.innerHTML,g="";u.iconHtml?g=nc(u.iconHtml):u.icon==="success"?(g=Rm,f=f.replace(/ style=".*?"/g,"")):u.icon==="error"?g=km:u.icon&&(g=nc({question:"?",warning:"!",info:"i"}[u.icon])),f.trim()!==g.trim()&&Fe(l,g)},xm=(l,u)=>{if(u.iconColor){l.style.color=u.iconColor,l.style.borderColor=u.iconColor;for(const f of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ql(l,f,"backgroundColor",u.iconColor);Ql(l,".swal2-success-ring","borderColor",u.iconColor)}},nc=l=>'<div class="'.concat(m["icon-content"],'">').concat(l,"</div>"),Om=(l,u)=>{const f=gi();if(f){if(!u.imageUrl){Ce(f);return}Te(f,""),f.setAttribute("src",u.imageUrl),f.setAttribute("alt",u.imageAlt||""),Wt(f,"width",u.imageWidth),Wt(f,"height",u.imageHeight),f.className=m.image,qe(f,u,"image")}},Dm=(l,u)=>{const f=O(),g=q();if(!(!f||!g)){if(u.toast){Wt(f,"width",u.width),g.style.width="100%";const v=_n();v&&g.insertBefore(v,$t())}else Wt(g,"width",u.width);Wt(g,"padding",u.padding),u.color&&(g.style.color=u.color),u.background&&(g.style.background=u.background),Ce(wi()),Nm(g,u)}},Nm=(l,u)=>{const f=u.showClass||{};l.className="".concat(m.popup," ").concat(Be(l)?f.popup:""),u.toast?(Y([document.documentElement,document.body],m["toast-shown"]),Y(l,m.toast)):Y(l,m.modal),qe(l,u,"popup"),typeof u.customClass=="string"&&Y(l,u.customClass),u.icon&&Y(l,m["icon-".concat(u.icon)])},Vm=(l,u)=>{const f=rr();if(!f)return;const{progressSteps:g,currentProgressStep:v}=u;if(!g||g.length===0||v===void 0){Ce(f);return}Te(f),f.textContent="",v>=g.length&&A("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),g.forEach((D,X)=>{const re=Mm(D);if(f.appendChild(re),X===v&&Y(re,m["active-progress-step"]),X!==g.length-1){const ae=Lm(u);f.appendChild(ae)}})},Mm=l=>{const u=document.createElement("li");return Y(u,m["progress-step"]),Fe(u,l),u},Lm=l=>{const u=document.createElement("li");return Y(u,m["progress-step-line"]),l.progressStepsDistance&&Wt(u,"width",l.progressStepsDistance),u},Fm=(l,u)=>{const f=nr();f&&(io(f),sr(f,u.title||u.titleText,"block"),u.title&&oo(u.title,f),u.titleText&&(f.innerText=u.titleText),qe(f,u,"title"))},rc=(l,u)=>{Dm(l,u),mm(l,u),Vm(l,u),Pm(l,u),Om(l,u),Fm(l,u),pm(l,u),Am(l,u),dm(l,u),Sm(l,u);const f=q();typeof u.didRender=="function"&&f&&u.didRender(f)},Bm=()=>Be(q()),ic=()=>{var l;return(l=Ze())===null||l===void 0?void 0:l.click()},Um=()=>{var l;return(l=Gt())===null||l===void 0?void 0:l.click()},jm=()=>{var l;return(l=yn())===null||l===void 0?void 0:l.click()},vn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),sc=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},zm=(l,u,f)=>{sc(l),u.toast||(l.keydownHandler=g=>qm(u,g,f),l.keydownTarget=u.keydownListenerCapture?window:q(),l.keydownListenerCapture=u.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},co=(l,u)=>{var f;const g=no();if(g.length){l=l+u,l===g.length?l=0:l===-1&&(l=g.length-1),g[l].focus();return}(f=q())===null||f===void 0||f.focus()},oc=["ArrowRight","ArrowDown"],Hm=["ArrowLeft","ArrowUp"],qm=(l,u,f)=>{l&&(u.isComposing||u.keyCode===229||(l.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?$m(u,l):u.key==="Tab"?Gm(u):[...oc,...Hm].includes(u.key)?Wm(u.key):u.key==="Escape"&&Km(u,l,f)))},$m=(l,u)=>{if(!Ee(u.allowEnterKey))return;const f=vi(q(),u.input);if(l.target&&f&&l.target instanceof HTMLElement&&l.target.outerHTML===f.outerHTML){if(["textarea","file"].includes(u.input))return;ic(),l.preventDefault()}},Gm=l=>{const u=l.target,f=no();let g=-1;for(let v=0;v<f.length;v++)if(u===f[v]){g=v;break}l.shiftKey?co(g,-1):co(g,1),l.stopPropagation(),l.preventDefault()},Wm=l=>{const u=ir(),f=Ze(),g=Gt(),v=yn();if(!u||!f||!g||!v)return;const D=[f,g,v];if(document.activeElement instanceof HTMLElement&&!D.includes(document.activeElement))return;const X=oc.includes(l)?"nextElementSibling":"previousElementSibling";let re=document.activeElement;if(re){for(let ae=0;ae<u.children.length;ae++){if(re=re[X],!re)return;if(re instanceof HTMLButtonElement&&Be(re))break}re instanceof HTMLButtonElement&&re.focus()}},Km=(l,u,f)=>{Ee(u.allowEscapeKey)&&(l.preventDefault(),f(vn.esc))};var ar={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Qm=()=>{Array.from(document.body.children).forEach(u=>{u===O()||u.contains(O())||(u.hasAttribute("aria-hidden")&&u.setAttribute("data-previous-aria-hidden",u.getAttribute("aria-hidden")||""),u.setAttribute("aria-hidden","true"))})},ac=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},lc=typeof window<"u"&&!!window.GestureEvent,Ym=()=>{if(lc&&!ft(document.body,m.iosfix)){const l=document.body.scrollTop;document.body.style.top="".concat(l*-1,"px"),Y(document.body,m.iosfix),Xm()}},Xm=()=>{const l=O();if(!l)return;let u;l.ontouchstart=f=>{u=Jm(f)},l.ontouchmove=f=>{u&&(f.preventDefault(),f.stopPropagation())}},Jm=l=>{const u=l.target,f=O(),g=wn();return!f||!g||Zm(l)||eg(l)?!1:u===f||!Yl(f)&&u instanceof HTMLElement&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(Yl(g)&&g.contains(u))},Zm=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",eg=l=>l.touches&&l.touches.length>1,tg=()=>{if(ft(document.body,m.iosfix)){const l=parseInt(document.body.style.top,10);et(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},ng=()=>{const l=document.createElement("div");l.className=m["scrollbar-measure"],document.body.appendChild(l);const u=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),u};let En=null;const rg=l=>{En===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(En=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(En+ng(),"px"))},ig=()=>{En!==null&&(document.body.style.paddingRight="".concat(En,"px"),En=null)};function cc(l,u,f,g){_i()?dc(l,g):(y(f).then(()=>dc(l,g)),sc(h)),lc?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),ro()&&(ig(),tg(),ac()),sg()}function sg(){et([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function St(l){l=ag(l);const u=ar.swalPromiseResolve.get(this),f=og(this);this.isAwaitingPromise?l.isDismissed||(lr(this),u(l)):f&&u(l)}const og=l=>{const u=q();if(!u)return!1;const f=ne.innerParams.get(l);if(!f||ft(u,f.hideClass.popup))return!1;et(u,f.showClass.popup),Y(u,f.hideClass.popup);const g=O();return et(g,f.showClass.backdrop),Y(g,f.hideClass.backdrop),lg(l,u,f),!0};function uc(l){const u=ar.swalPromiseReject.get(this);lr(this),u&&u(l)}const lr=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,ne.innerParams.get(l)||l._destroy())},ag=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),lg=(l,u,f)=>{const g=O(),v=Qt&&Xl(u);typeof f.willClose=="function"&&f.willClose(u),v?cg(l,u,g,f.returnFocus,f.didClose):cc(l,g,f.returnFocus,f.didClose)},cg=(l,u,f,g,v)=>{Qt&&(h.swalCloseEventFinishedCallback=cc.bind(null,l,f,g,v),u.addEventListener(Qt,function(D){D.target===u&&(h.swalCloseEventFinishedCallback(),delete h.swalCloseEventFinishedCallback)}))},dc=(l,u)=>{setTimeout(()=>{typeof u=="function"&&u.bind(l.params)(),l._destroy&&l._destroy()})},Tn=l=>{let u=q();if(u||new Si,u=q(),!u)return;const f=_n();_i()?Ce($t()):ug(u,l),Te(f),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},ug=(l,u)=>{const f=ir(),g=_n();!f||!g||(!u&&Be(Ze())&&(u=Ze()),Te(f),u&&(Ce(u),g.setAttribute("data-button-to-replace",u.className),f.insertBefore(g,u)),Y([l,f],m.loading))},dg=(l,u)=>{u.input==="select"||u.input==="radio"?gg(l,u):["text","email","number","tel","textarea"].some(f=>f===u.input)&&(k(u.inputValue)||H(u.inputValue))&&(Tn(Ze()),wg(l,u))},hg=(l,u)=>{const f=l.getInput();if(!f)return null;switch(u.input){case"checkbox":return fg(f);case"radio":return pg(f);case"file":return mg(f);default:return u.inputAutoTrim?f.value.trim():f.value}},fg=l=>l.checked?1:0,pg=l=>l.checked?l.value:null,mg=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,gg=(l,u)=>{const f=q();if(!f)return;const g=v=>{u.input==="select"?yg(f,Ti(v),u):u.input==="radio"&&_g(f,Ti(v),u)};k(u.inputOptions)||H(u.inputOptions)?(Tn(Ze()),M(u.inputOptions).then(v=>{l.hideLoading(),g(v)})):typeof u.inputOptions=="object"?g(u.inputOptions):F("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof u.inputOptions))},wg=(l,u)=>{const f=l.getInput();f&&(Ce(f),M(u.inputValue).then(g=>{f.value=u.input==="number"?"".concat(parseFloat(g)||0):"".concat(g),Te(f),f.focus(),l.hideLoading()}).catch(g=>{F("Error in inputValue promise: ".concat(g)),f.value="",Te(f),f.focus(),l.hideLoading()}))};function yg(l,u,f){const g=At(l,m.select);if(!g)return;const v=(D,X,re)=>{const ae=document.createElement("option");ae.value=re,Fe(ae,X),ae.selected=hc(re,f.inputValue),D.appendChild(ae)};u.forEach(D=>{const X=D[0],re=D[1];if(Array.isArray(re)){const ae=document.createElement("optgroup");ae.label=X,ae.disabled=!1,g.appendChild(ae),re.forEach(bn=>v(ae,bn[1],bn[0]))}else v(g,re,X)}),g.focus()}function _g(l,u,f){const g=At(l,m.radio);if(!g)return;u.forEach(D=>{const X=D[0],re=D[1],ae=document.createElement("input"),bn=document.createElement("label");ae.type="radio",ae.name=m.radio,ae.value=X,hc(X,f.inputValue)&&(ae.checked=!0);const mo=document.createElement("span");Fe(mo,re),mo.className=m.label,bn.appendChild(ae),bn.appendChild(mo),g.appendChild(bn)});const v=g.querySelectorAll("input");v.length&&v[0].focus()}const Ti=l=>{const u=[];return l instanceof Map?l.forEach((f,g)=>{let v=f;typeof v=="object"&&(v=Ti(v)),u.push([g,v])}):Object.keys(l).forEach(f=>{let g=l[f];typeof g=="object"&&(g=Ti(g)),u.push([f,g])}),u},hc=(l,u)=>!!u&&u.toString()===l.toString(),vg=l=>{const u=ne.innerParams.get(l);l.disableButtons(),u.input?fc(l,"confirm"):ho(l,!0)},Eg=l=>{const u=ne.innerParams.get(l);l.disableButtons(),u.returnInputValueOnDeny?fc(l,"deny"):uo(l,!1)},Tg=(l,u)=>{l.disableButtons(),u(vn.cancel)},fc=(l,u)=>{const f=ne.innerParams.get(l);if(!f.input){F('The "input" parameter is needed to be set when using returnInputValueOn'.concat(P(u)));return}const g=l.getInput(),v=hg(l,f);f.inputValidator?Ig(l,v,u):g&&!g.checkValidity()?(l.enableButtons(),l.showValidationMessage(f.validationMessage)):u==="deny"?uo(l,v):ho(l,v)},Ig=(l,u,f)=>{const g=ne.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>M(g.inputValidator(u,g.validationMessage))).then(D=>{l.enableButtons(),l.enableInput(),D?l.showValidationMessage(D):f==="deny"?uo(l,u):ho(l,u)})},uo=(l,u)=>{const f=ne.innerParams.get(l||void 0);f.showLoaderOnDeny&&Tn(Gt()),f.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>M(f.preDeny(u,f.validationMessage))).then(v=>{v===!1?(l.hideLoading(),lr(l)):l.close({isDenied:!0,value:typeof v>"u"?u:v})}).catch(v=>mc(l||void 0,v))):l.close({isDenied:!0,value:u})},pc=(l,u)=>{l.close({isConfirmed:!0,value:u})},mc=(l,u)=>{l.rejectPromise(u)},ho=(l,u)=>{const f=ne.innerParams.get(l||void 0);f.showLoaderOnConfirm&&Tn(),f.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>M(f.preConfirm(u,f.validationMessage))).then(v=>{Be(wi())||v===!1?(l.hideLoading(),lr(l)):pc(l,typeof v>"u"?u:v)}).catch(v=>mc(l||void 0,v))):pc(l,u)};function Ii(){const l=ne.innerParams.get(this);if(!l)return;const u=ne.domCache.get(this);Ce(u.loader),_i()?l.icon&&Te($t()):bg(u),et([u.popup,u.actions],m.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}const bg=l=>{const u=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));u.length?Te(u[0],"inline-block"):em()&&Ce(l.actions)};function gc(){const l=ne.innerParams.get(this),u=ne.domCache.get(this);return u?vi(u.popup,l.input):null}function wc(l,u,f){const g=ne.domCache.get(l);u.forEach(v=>{g[v].disabled=f})}function yc(l,u){const f=q();if(!(!f||!l))if(l.type==="radio"){const g=f.querySelectorAll('[name="'.concat(m.radio,'"]'));for(let v=0;v<g.length;v++)g[v].disabled=u}else l.disabled=u}function _c(){wc(this,["confirmButton","denyButton","cancelButton"],!1)}function vc(){wc(this,["confirmButton","denyButton","cancelButton"],!0)}function Ec(){yc(this.getInput(),!1)}function Tc(){yc(this.getInput(),!0)}function Ic(l){const u=ne.domCache.get(this),f=ne.innerParams.get(this);Fe(u.validationMessage,l),u.validationMessage.className=m["validation-message"],f.customClass&&f.customClass.validationMessage&&Y(u.validationMessage,f.customClass.validationMessage),Te(u.validationMessage);const g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",m["validation-message"]),Wl(g),Y(g,m.inputerror))}function bc(){const l=ne.domCache.get(this);l.validationMessage&&Ce(l.validationMessage);const u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),et(u,m.inputerror))}const In={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ag=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Sg={},Pg=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ac=l=>Object.prototype.hasOwnProperty.call(In,l),Sc=l=>Ag.indexOf(l)!==-1,Pc=l=>Sg[l],Cg=l=>{Ac(l)||A('Unknown parameter "'.concat(l,'"'))},Rg=l=>{Pg.includes(l)&&A('The parameter "'.concat(l,'" is incompatible with toasts'))},kg=l=>{const u=Pc(l);u&&te(l,u)},xg=l=>{l.backdrop===!1&&l.allowOutsideClick&&A('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const u in l)Cg(u),l.toast&&Rg(u),kg(u)};function Cc(l){const u=q(),f=ne.innerParams.get(this);if(!u||ft(u,f.hideClass.popup)){A("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const g=Og(l),v=Object.assign({},f,g);rc(this,v),ne.innerParams.set(this,v),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const Og=l=>{const u={};return Object.keys(l).forEach(f=>{Sc(f)?u[f]=l[f]:A("Invalid parameter to update: ".concat(f))}),u};function Rc(){const l=ne.domCache.get(this),u=ne.innerParams.get(this);if(!u){kc(this);return}l.popup&&h.swalCloseEventFinishedCallback&&(h.swalCloseEventFinishedCallback(),delete h.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),Dg(this)}const Dg=l=>{kc(l),delete l.params,delete h.keydownHandler,delete h.keydownTarget,delete h.currentInstance},kc=l=>{l.isAwaitingPromise?(fo(ne,l),l.isAwaitingPromise=!0):(fo(ar,l),fo(ne,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},fo=(l,u)=>{for(const f in l)l[f].delete(u)};var Ng=Object.freeze({__proto__:null,_destroy:Rc,close:St,closeModal:St,closePopup:St,closeToast:St,disableButtons:vc,disableInput:Tc,disableLoading:Ii,enableButtons:_c,enableInput:Ec,getInput:gc,handleAwaitingPromise:lr,hideLoading:Ii,rejectPromise:uc,resetValidationMessage:bc,showValidationMessage:Ic,update:Cc});const Vg=(l,u,f)=>{l.toast?Mg(l,u,f):(Fg(u),Bg(u),Ug(l,u,f))},Mg=(l,u,f)=>{u.popup.onclick=()=>{l&&(Lg(l)||l.timer||l.input)||f(vn.close)}},Lg=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton);let bi=!1;const Fg=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(u){l.container.onmouseup=()=>{},u.target===l.container&&(bi=!0)}}},Bg=l=>{l.container.onmousedown=()=>{l.popup.onmouseup=function(u){l.popup.onmouseup=()=>{},(u.target===l.popup||u.target instanceof HTMLElement&&l.popup.contains(u.target))&&(bi=!0)}}},Ug=(l,u,f)=>{u.container.onclick=g=>{if(bi){bi=!1;return}g.target===u.container&&Ee(l.allowOutsideClick)&&f(vn.backdrop)}},jg=l=>typeof l=="object"&&l.jquery,xc=l=>l instanceof Element||jg(l),zg=l=>{const u={};return typeof l[0]=="object"&&!xc(l[0])?Object.assign(u,l[0]):["title","html","icon"].forEach((f,g)=>{const v=l[g];typeof v=="string"||xc(v)?u[f]=v:v!==void 0&&F("Unexpected type of ".concat(f,'! Expected "string" or "Element", got ').concat(typeof v))}),u};function Hg(){const l=this;for(var u=arguments.length,f=new Array(u),g=0;g<u;g++)f[g]=arguments[g];return new l(...f)}function qg(l){class u extends this{_main(g,v){return super._main(g,Object.assign({},l,v))}}return u}const $g=()=>h.timeout&&h.timeout.getTimerLeft(),Oc=()=>{if(h.timeout)return tm(),h.timeout.stop()},Dc=()=>{if(h.timeout){const l=h.timeout.start();return so(l),l}},Gg=()=>{const l=h.timeout;return l&&(l.running?Oc():Dc())},Wg=l=>{if(h.timeout){const u=h.timeout.increase(l);return so(u,!0),u}},Kg=()=>!!(h.timeout&&h.timeout.isRunning());let Nc=!1;const po={};function Qg(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";po[l]=this,Nc||(document.body.addEventListener("click",Yg),Nc=!0)}const Yg=l=>{for(let u=l.target;u&&u!==document;u=u.parentNode)for(const f in po){const g=u.getAttribute(f);if(g){po[f].fire({template:g});return}}};var Xg=Object.freeze({__proto__:null,argsToParams:zg,bindClickHandler:Qg,clickCancel:jm,clickConfirm:ic,clickDeny:Um,enableLoading:Tn,fire:Hg,getActions:ir,getCancelButton:yn,getCloseButton:to,getConfirmButton:Ze,getContainer:O,getDenyButton:Gt,getFocusableElements:no,getFooter:Gl,getHtmlContainer:wn,getIcon:$t,getIconContent:mi,getImage:gi,getInputLabel:Yp,getLoader:_n,getPopup:q,getProgressSteps:rr,getTimerLeft:$g,getTimerProgressBar:yi,getTitle:nr,getValidationMessage:wi,increaseTimer:Wg,isDeprecatedParameter:Pc,isLoading:Jp,isTimerRunning:Kg,isUpdatableParameter:Sc,isValidParameter:Ac,isVisible:Bm,mixin:qg,resumeTimer:Dc,showLoading:Tn,stopTimer:Oc,toggleTimer:Gg});class Jg{constructor(u,f){this.callback=u,this.remaining=f,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){const f=this.running;return f&&this.stop(),this.remaining+=u,f&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Vc=["swal-title","swal-html","swal-footer"],Zg=l=>{const u=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!u)return{};const f=u.content;return aw(f),Object.assign(ew(f),tw(f),nw(f),rw(f),iw(f),sw(f),ow(f,Vc))},ew=l=>{const u={};return Array.from(l.querySelectorAll("swal-param")).forEach(g=>{Yt(g,["name","value"]);const v=g.getAttribute("name"),D=g.getAttribute("value");typeof In[v]=="boolean"?u[v]=D!=="false":typeof In[v]=="object"?u[v]=JSON.parse(D):u[v]=D}),u},tw=l=>{const u={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(g=>{const v=g.getAttribute("name"),D=g.getAttribute("value");u[v]=new Function("return ".concat(D))()}),u},nw=l=>{const u={};return Array.from(l.querySelectorAll("swal-button")).forEach(g=>{Yt(g,["type","color","aria-label"]);const v=g.getAttribute("type");u["".concat(v,"ButtonText")]=g.innerHTML,u["show".concat(P(v),"Button")]=!0,g.hasAttribute("color")&&(u["".concat(v,"ButtonColor")]=g.getAttribute("color")),g.hasAttribute("aria-label")&&(u["".concat(v,"ButtonAriaLabel")]=g.getAttribute("aria-label"))}),u},rw=l=>{const u={},f=l.querySelector("swal-image");return f&&(Yt(f,["src","width","height","alt"]),f.hasAttribute("src")&&(u.imageUrl=f.getAttribute("src")),f.hasAttribute("width")&&(u.imageWidth=f.getAttribute("width")),f.hasAttribute("height")&&(u.imageHeight=f.getAttribute("height")),f.hasAttribute("alt")&&(u.imageAlt=f.getAttribute("alt"))),u},iw=l=>{const u={},f=l.querySelector("swal-icon");return f&&(Yt(f,["type","color"]),f.hasAttribute("type")&&(u.icon=f.getAttribute("type")),f.hasAttribute("color")&&(u.iconColor=f.getAttribute("color")),u.iconHtml=f.innerHTML),u},sw=l=>{const u={},f=l.querySelector("swal-input");f&&(Yt(f,["type","label","placeholder","value"]),u.input=f.getAttribute("type")||"text",f.hasAttribute("label")&&(u.inputLabel=f.getAttribute("label")),f.hasAttribute("placeholder")&&(u.inputPlaceholder=f.getAttribute("placeholder")),f.hasAttribute("value")&&(u.inputValue=f.getAttribute("value")));const g=Array.from(l.querySelectorAll("swal-input-option"));return g.length&&(u.inputOptions={},g.forEach(v=>{Yt(v,["value"]);const D=v.getAttribute("value"),X=v.innerHTML;u.inputOptions[D]=X})),u},ow=(l,u)=>{const f={};for(const g in u){const v=u[g],D=l.querySelector(v);D&&(Yt(D,[]),f[v.replace(/^swal-/,"")]=D.innerHTML.trim())}return f},aw=l=>{const u=Vc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(f=>{const g=f.tagName.toLowerCase();u.includes(g)||A("Unrecognized element <".concat(g,">"))})},Yt=(l,u)=>{Array.from(l.attributes).forEach(f=>{u.indexOf(f.name)===-1&&A(['Unrecognized attribute "'.concat(f.name,'" on <').concat(l.tagName.toLowerCase(),">."),"".concat(u.length?"Allowed attributes are: ".concat(u.join(", ")):"To set the value, use HTML within the element.")])})},Mc=10,lw=l=>{const u=O(),f=q();typeof l.willOpen=="function"&&l.willOpen(f);const v=window.getComputedStyle(document.body).overflowY;dw(u,f,l),setTimeout(()=>{cw(u,f)},Mc),ro()&&(uw(u,l.scrollbarPadding,v),Qm()),!_i()&&!h.previousActiveElement&&(h.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(f)),et(u,m["no-transition"])},Lc=l=>{const u=q();if(l.target!==u||!Qt)return;const f=O();u.removeEventListener(Qt,Lc),f.style.overflowY="auto"},cw=(l,u)=>{Qt&&Xl(u)?(l.style.overflowY="hidden",u.addEventListener(Qt,Lc)):l.style.overflowY="auto"},uw=(l,u,f)=>{Ym(),u&&f!=="hidden"&&rg(f),setTimeout(()=>{l.scrollTop=0})},dw=(l,u,f)=>{Y(l,f.showClass.backdrop),u.style.setProperty("opacity","0","important"),Te(u,"grid"),setTimeout(()=>{Y(u,f.showClass.popup),u.style.removeProperty("opacity")},Mc),Y([document.documentElement,document.body],m.shown),f.heightAuto&&f.backdrop&&!f.toast&&Y([document.documentElement,document.body],m["height-auto"])};var Fc={email:(l,u)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(l,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function hw(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=Fc.email),l.input==="url"&&(l.inputValidator=Fc.url))}function fw(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(A('Target parameter is not valid, defaulting to "body"'),l.target="body")}function pw(l){hw(l),l.showLoaderOnConfirm&&!l.preConfirm&&A(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),fw(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),lm(l)}let tt;var Ai=new WeakMap;class he{constructor(){if(c(this,Ai,{writable:!0,value:void 0}),typeof window>"u")return;tt=this;for(var u=arguments.length,f=new Array(u),g=0;g<u;g++)f[g]=arguments[g];const v=Object.freeze(this.constructor.argsToParams(f));this.params=v,this.isAwaitingPromise=!1,r(this,Ai,this._main(tt.params))}_main(u){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xg(Object.assign({},f,u)),h.currentInstance&&(h.currentInstance._destroy(),ro()&&ac()),h.currentInstance=tt;const g=gw(u,f);pw(g),Object.freeze(g),h.timeout&&(h.timeout.stop(),delete h.timeout),clearTimeout(h.restoreFocusTimeout);const v=ww(tt);return rc(tt,g),ne.innerParams.set(tt,g),mw(tt,v,g)}then(u){return n(this,Ai).then(u)}finally(u){return n(this,Ai).finally(u)}}const mw=(l,u,f)=>new Promise((g,v)=>{const D=X=>{l.close({isDismissed:!0,dismiss:X})};ar.swalPromiseResolve.set(l,g),ar.swalPromiseReject.set(l,v),u.confirmButton.onclick=()=>{vg(l)},u.denyButton.onclick=()=>{Eg(l)},u.cancelButton.onclick=()=>{Tg(l,D)},u.closeButton.onclick=()=>{D(vn.close)},Vg(f,u,D),zm(h,f,D),dg(l,f),lw(f),yw(h,f,D),_w(u,f),setTimeout(()=>{u.container.scrollTop=0})}),gw=(l,u)=>{const f=Zg(l),g=Object.assign({},In,u,f,l);return g.showClass=Object.assign({},In.showClass,g.showClass),g.hideClass=Object.assign({},In.hideClass,g.hideClass),g},ww=l=>{const u={popup:q(),container:O(),actions:ir(),confirmButton:Ze(),denyButton:Gt(),cancelButton:yn(),loader:_n(),closeButton:to(),validationMessage:wi(),progressSteps:rr()};return ne.domCache.set(l,u),u},yw=(l,u,f)=>{const g=yi();Ce(g),u.timer&&(l.timeout=new Jg(()=>{f("timer"),delete l.timeout},u.timer),u.timerProgressBar&&(Te(g),qe(g,u,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&so(u.timer)})))},_w=(l,u)=>{if(!u.toast){if(!Ee(u.allowEnterKey)){Ew();return}vw(l,u)||co(-1,1)}},vw=(l,u)=>u.focusDeny&&Be(l.denyButton)?(l.denyButton.focus(),!0):u.focusCancel&&Be(l.cancelButton)?(l.cancelButton.focus(),!0):u.focusConfirm&&Be(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Ew=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const l=new Date,u=localStorage.getItem("swal-initiation");u?(l.getTime()-Date.parse(u))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const f=document.createElement("audio");f.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",f.loop=!0,document.body.appendChild(f),setTimeout(()=>{f.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(l))}he.prototype.disableButtons=vc,he.prototype.enableButtons=_c,he.prototype.getInput=gc,he.prototype.disableInput=Tc,he.prototype.enableInput=Ec,he.prototype.hideLoading=Ii,he.prototype.disableLoading=Ii,he.prototype.showValidationMessage=Ic,he.prototype.resetValidationMessage=bc,he.prototype.close=St,he.prototype.closePopup=St,he.prototype.closeModal=St,he.prototype.closeToast=St,he.prototype.rejectPromise=uc,he.prototype.update=Cc,he.prototype._destroy=Rc,Object.assign(he,Xg),Object.keys(Ng).forEach(l=>{he[l]=function(){return tt&&tt[l]?tt[l](...arguments):null}}),he.DismissReason=vn,he.version="11.9.0";const Si=he;return Si.default=Si,Si}),typeof Rt<"u"&&Rt.Sweetalert2&&(Rt.swal=Rt.sweetAlert=Rt.Swal=Rt.SweetAlert=Rt.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(FA);const _P=Sa;function Mi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pd={},BA={get exports(){return pd},set exports(t){pd=t}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(d,h){if(!i[d]){if(!r[d]){var p=typeof Mi=="function"&&Mi;if(!h&&p)return p(d,!0);if(a)return a(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var w=i[d]={exports:{}};r[d][0].call(w.exports,function(_){return o(r[d][1][_]||_)},w,w.exports,n,r,i,s)}return i[d].exports}for(var a=typeof Mi=="function"&&Mi,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.create=i.visible=void 0;var s=function(c){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],h=document.createElement("div");return h.innerHTML=c.trim(),d===!0?h.children:h.firstChild},o=function(c,d){var h=c.children;return h.length===1&&h[0].tagName===d},a=function(c){return(c=c||document.querySelector(".basicLightbox"))!=null&&c.ownerDocument.body.contains(c)===!0};i.visible=a,i.create=function(c,d){var h=function(w,_){var m=s(`
		<div class="basicLightbox `.concat(_.className,`">
			<div class="basicLightbox__placeholder" role="dialog"></div>
		</div>
	`)),T=m.querySelector(".basicLightbox__placeholder");w.forEach(function(A){return T.appendChild(A)});var I=o(T,"IMG"),C=o(T,"VIDEO"),P=o(T,"IFRAME");return I===!0&&m.classList.add("basicLightbox--img"),C===!0&&m.classList.add("basicLightbox--video"),P===!0&&m.classList.add("basicLightbox--iframe"),m}(c=function(w){var _=typeof w=="string",m=w instanceof HTMLElement==1;if(_===!1&&m===!1)throw new Error("Content must be a DOM element/node or string");return _===!0?Array.from(s(w,!0)):w.tagName==="TEMPLATE"?[w.content.cloneNode(!0)]:Array.from(w.children)}(c),d=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if((w=Object.assign({},w)).closable==null&&(w.closable=!0),w.className==null&&(w.className=""),w.onShow==null&&(w.onShow=function(){}),w.onClose==null&&(w.onClose=function(){}),typeof w.closable!="boolean")throw new Error("Property `closable` must be a boolean");if(typeof w.className!="string")throw new Error("Property `className` must be a string");if(typeof w.onShow!="function")throw new Error("Property `onShow` must be a function");if(typeof w.onClose!="function")throw new Error("Property `onClose` must be a function");return w}(d)),p=function(w){return d.onClose(y)!==!1&&function(_,m){return _.classList.remove("basicLightbox--visible"),setTimeout(function(){return a(_)===!1||_.parentElement.removeChild(_),m()},410),!0}(h,function(){if(typeof w=="function")return w(y)})};d.closable===!0&&h.addEventListener("click",function(w){w.target===h&&p()});var y={element:function(){return h},visible:function(){return a(h)},show:function(w){return d.onShow(y)!==!1&&function(_,m){return document.body.appendChild(_),setTimeout(function(){requestAnimationFrame(function(){return _.classList.add("basicLightbox--visible"),m()})},10),!0}(h,function(){if(typeof w=="function")return w(y)})},close:p};return y}},{}]},{},[1])(1)})})(BA);function md(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function $l(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:md(e[n])&&md(t[n])&&Object.keys(e[n]).length>0&&$l(t[n],e[n])})}const $p={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function tr(){const t=typeof document<"u"?document:{};return $l(t,$p),t}const UA={document:$p,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function He(){const t=typeof window<"u"?window:{};return $l(t,UA),t}function jA(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function zA(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Pa(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function vs(){return Date.now()}function HA(t){const e=He();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function qA(t,e){e===void 0&&(e="x");const n=He();let r,i,s;const o=HA(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Li(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function $A(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ue(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!$A(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],c=Object.getOwnPropertyDescriptor(r,a);c!==void 0&&c.enumerable&&(Li(t[a])&&Li(r[a])?r[a].__swiper__?t[a]=r[a]:Ue(t[a],r[a]):!Li(t[a])&&Li(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Ue(t[a],r[a])):t[a]=r[a])}}}return t}function Fi(t,e,n){t.style.setProperty(e,n)}function Gp(t){let{swiper:e,targetPosition:n,side:r}=t;const i=He(),s=-e.translate;let o=null,a;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=n>s?"next":"prev",h=(y,w)=>d==="next"&&y>=w||d==="prev"&&y<=w,p=()=>{a=new Date().getTime(),o===null&&(o=a);const y=Math.max(Math.min((a-o)/c,1),0),w=.5-Math.cos(y*Math.PI)/2;let _=s+w*(n-s);if(h(_,n)&&(_=n),e.wrapperEl.scrollTo({[r]:_}),h(_,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:_})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(p)};p()}function wt(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function Es(t){try{console.warn(t);return}catch{}}function Ca(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:jA(e)),n}function GA(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function WA(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Vt(t,e){return He().getComputedStyle(t,null).getPropertyValue(e)}function gd(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function KA(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function wd(t,e,n){const r=He();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let Bo;function QA(){const t=He(),e=tr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Wp(){return Bo||(Bo=QA()),Bo}let Uo;function YA(t){let{userAgent:e}=t===void 0?{}:t;const n=Wp(),r=He(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,c=r.screen.height,d=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad).*OS\s([\d_]+)/);const p=s.match(/(iPod)(.*OS\s([\d_]+))?/),y=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=i==="Win32";let _=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&_&&n.touch&&m.indexOf(`${a}x${c}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),_=!1),d&&!w&&(o.os="android",o.android=!0),(h||y||p)&&(o.os="ios",o.ios=!0),o}function XA(t){return t===void 0&&(t={}),Uo||(Uo=YA(t)),Uo}let jo;function JA(){const t=He();let e=!1;function n(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(t.navigator.userAgent);if(r.includes("Version/")){const[i,s]=r.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=i<16||i===16&&s<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function ZA(){return jo||(jo=JA()),jo}function eS(t){let{swiper:e,on:n,emit:r}=t;const i=He();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(p=>{o=i.requestAnimationFrame(()=>{const{width:y,height:w}=e;let _=y,m=w;p.forEach(T=>{let{contentBoxSize:I,contentRect:C,target:P}=T;P&&P!==e.el||(_=C?C.width:(I[0]||I).inlineSize,m=C?C.height:(I[0]||I).blockSize)}),(_!==y||m!==w)&&a()})}),s.observe(e.el))},d=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},h=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",h)}),n("destroy",()=>{d(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",h)})}function tS(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=He(),a=function(h,p){p===void 0&&(p={});const y=o.MutationObserver||o.WebkitMutationObserver,w=new y(_=>{if(e.__preventObserver__)return;if(_.length===1){i("observerUpdate",_[0]);return}const m=function(){i("observerUpdate",_[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});w.observe(h,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:typeof p.childList>"u"?!0:p.childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),s.push(w)},c=()=>{if(e.params.observer){if(e.params.observeParents){const h=KA(e.hostEl);for(let p=0;p<h.length;p+=1)a(h[p])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},d=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var nS={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function rS(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Vt(r,"padding-left")||0,10)-parseInt(Vt(r,"padding-right")||0,10),n=n-parseInt(Vt(r,"padding-top")||0,10)-parseInt(Vt(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function iS(){const t=this;function e(k,M){return parseFloat(k.getPropertyValue(t.getDirectionLabel(M))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,h=wt(i,`.${t.params.slideClass}, swiper-slide`),p=c?t.virtual.slides.length:h.length;let y=[];const w=[],_=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let T=n.slidesOffsetAfter;typeof T=="function"&&(T=n.slidesOffsetAfter.call(t));const I=t.snapGrid.length,C=t.slidesGrid.length;let P=n.spaceBetween,A=-m,F=0,W=0;if(typeof s>"u")return;typeof P=="string"&&P.indexOf("%")>=0?P=parseFloat(P.replace("%",""))/100*s:typeof P=="string"&&(P=parseFloat(P)),t.virtualSize=-P,h.forEach(k=>{o?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Fi(r,"--swiper-centered-offset-before",""),Fi(r,"--swiper-centered-offset-after",""));const Me=n.grid&&n.grid.rows>1&&t.grid;Me?t.grid.initSlides(h):t.grid&&t.grid.unsetSlides();let te;const Ee=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<p;k+=1){te=0;let M;if(h[k]&&(M=h[k]),Me&&t.grid.updateSlide(k,M,h),!(h[k]&&Vt(M,"display")==="none")){if(n.slidesPerView==="auto"){Ee&&(h[k].style[t.getDirectionLabel("width")]="");const H=getComputedStyle(M),O=M.style.transform,oe=M.style.webkitTransform;if(O&&(M.style.transform="none"),oe&&(M.style.webkitTransform="none"),n.roundLengths)te=t.isHorizontal()?wd(M,"width",!0):wd(M,"height",!0);else{const ee=e(H,"width"),q=e(H,"padding-left"),$t=e(H,"padding-right"),mi=e(H,"margin-left"),nr=e(H,"margin-right"),wn=H.getPropertyValue("box-sizing");if(wn&&wn==="border-box")te=ee+mi+nr;else{const{clientWidth:gi,offsetWidth:rr}=M;te=ee+q+$t+mi+nr+(rr-gi)}}O&&(M.style.transform=O),oe&&(M.style.webkitTransform=oe),n.roundLengths&&(te=Math.floor(te))}else te=(s-(n.slidesPerView-1)*P)/n.slidesPerView,n.roundLengths&&(te=Math.floor(te)),h[k]&&(h[k].style[t.getDirectionLabel("width")]=`${te}px`);h[k]&&(h[k].swiperSlideSize=te),_.push(te),n.centeredSlides?(A=A+te/2+F/2+P,F===0&&k!==0&&(A=A-s/2-P),k===0&&(A=A-s/2-P),Math.abs(A)<1/1e3&&(A=0),n.roundLengths&&(A=Math.floor(A)),W%n.slidesPerGroup===0&&y.push(A),w.push(A)):(n.roundLengths&&(A=Math.floor(A)),(W-Math.min(t.params.slidesPerGroupSkip,W))%t.params.slidesPerGroup===0&&y.push(A),w.push(A),A=A+te+P),t.virtualSize+=te+P,F=te,W+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+T,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+P}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+P}px`),Me&&t.grid.updateWrapperSize(te,y),!n.centeredSlides){const k=[];for(let M=0;M<y.length;M+=1){let H=y[M];n.roundLengths&&(H=Math.floor(H)),y[M]<=t.virtualSize-s&&k.push(H)}y=k,Math.floor(t.virtualSize-s)-Math.floor(y[y.length-1])>1&&y.push(t.virtualSize-s)}if(c&&n.loop){const k=_[0]+P;if(n.slidesPerGroup>1){const M=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),H=k*n.slidesPerGroup;for(let O=0;O<M;O+=1)y.push(y[y.length-1]+H)}for(let M=0;M<t.virtual.slidesBefore+t.virtual.slidesAfter;M+=1)n.slidesPerGroup===1&&y.push(y[y.length-1]+k),w.push(w[w.length-1]+k),t.virtualSize+=k}if(y.length===0&&(y=[0]),P!==0){const k=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");h.filter((M,H)=>!n.cssMode||n.loop?!0:H!==h.length-1).forEach(M=>{M.style[k]=`${P}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;_.forEach(H=>{k+=H+(P||0)}),k-=P;const M=k-s;y=y.map(H=>H<=0?-m:H>M?M+T:H)}if(n.centerInsufficientSlides){let k=0;if(_.forEach(M=>{k+=M+(P||0)}),k-=P,k<s){const M=(s-k)/2;y.forEach((H,O)=>{y[O]=H-M}),w.forEach((H,O)=>{w[O]=H+M})}}if(Object.assign(t,{slides:h,snapGrid:y,slidesGrid:w,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Fi(r,"--swiper-centered-offset-before",`${-y[0]}px`),Fi(r,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const k=-t.snapGrid[0],M=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(H=>H+k),t.slidesGrid=t.slidesGrid.map(H=>H+M)}if(p!==d&&t.emit("slidesLengthChange"),y.length!==I&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),w.length!==C&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,M=t.el.classList.contains(k);p<=n.maxBackfaceHiddenSlides?M||t.el.classList.add(k):M&&t.el.classList.remove(k)}}function sS(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function oS(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function aS(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let c=0;c<r.length;c+=1){const d=r[c];let h=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(h-=r[0].swiperSlideOffset);const p=(o+(n.centeredSlides?e.minTranslate():0)-h)/(d.swiperSlideSize+a),y=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-h)/(d.swiperSlideSize+a),w=-(o-h),_=w+e.slidesSizesGrid[c],m=w>=0&&w<=e.size-e.slidesSizesGrid[c];(w>=0&&w<e.size-1||_>1&&_<=e.size||w<=0&&_>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),m&&r[c].classList.add(n.slideFullyVisibleClass),d.progress=i?-p:p,d.originalProgress=i?-y:y}}function lS(t){const e=this;if(typeof t>"u"){const h=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*h||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const c=s,d=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const h=Math.abs(t-e.minTranslate())<1,p=Math.abs(t-e.maxTranslate())<1;s=h||i<=0,o=p||i>=1,h&&(i=0),p&&(i=1)}if(n.loop){const h=e.getSlideIndexByData(0),p=e.getSlideIndexByData(e.slides.length-1),y=e.slidesGrid[h],w=e.slidesGrid[p],_=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=y?a=(m-y)/_:a=(m+_-w)/_,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!s||d&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}function cS(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=p=>wt(r,`.${n.slideClass}${p}, swiper-slide${p}`)[0];e.forEach(p=>{p.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,d,h;if(s)if(n.loop){let p=i-t.virtual.slidesBefore;p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),c=a(`[data-swiper-slide-index="${p}"]`)}else c=a(`[data-swiper-slide-index="${i}"]`);else o?(c=e.filter(p=>p.column===i)[0],h=e.filter(p=>p.column===i+1)[0],d=e.filter(p=>p.column===i-1)[0]):c=e[i];c&&(c.classList.add(n.slideActiveClass),o?(h&&h.classList.add(n.slideNextClass),d&&d.classList.add(n.slidePrevClass)):(h=WA(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h&&(h=e[0]),h&&h.classList.add(n.slideNextClass),d=GA(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Qi=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},zo=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Ra=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((c,d)=>o+r+d)),t.slides.forEach((c,d)=>{a.includes(c.column)&&zo(t,d)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&zo(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&zo(t,o)};function uS(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function dS(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let c=t,d;const h=w=>{let _=w-e.virtual.slidesBefore;return _<0&&(_=e.virtual.slides.length+_),_>=e.virtual.slides.length&&(_-=e.virtual.slides.length),_};if(typeof c>"u"&&(c=uS(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const w=Math.min(i.slidesPerGroupSkip,c);d=w+Math.floor((c-w)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===s&&!e.params.loop){d!==a&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=h(c);return}const p=e.grid&&i.grid&&i.grid.rows>1;let y;if(e.virtual&&i.virtual.enabled&&i.loop)y=h(c);else if(p){const w=e.slides.filter(m=>m.column===c)[0];let _=parseInt(w.getAttribute("data-swiper-slide-index"),10);Number.isNaN(_)&&(_=Math.max(e.slides.indexOf(w),0)),y=Math.floor(_/i.grid.rows)}else if(e.slides[c]){const w=e.slides[c].getAttribute("data-swiper-slide-index");w?y=parseInt(w,10):y=c}else y=c;Object.assign(e,{previousSnapIndex:a,snapIndex:d,previousRealIndex:o,realIndex:y,previousIndex:s,activeIndex:c}),e.initialized&&Ra(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==y&&e.emit("realIndexChange"),e.emit("slideChange"))}function hS(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var fS={updateSize:rS,updateSlides:iS,updateAutoHeight:sS,updateSlidesOffset:oS,updateSlidesProgress:aS,updateProgress:lS,updateSlidesClasses:cS,updateActiveIndex:dS,updateClickedSlide:hS};function pS(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=qA(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function mS(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,c=0;const d=0;n.isHorizontal()?a=r?-t:t:c=t,i.roundLengths&&(a=Math.floor(a),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-c:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${c}px, ${d}px)`);let h;const p=n.maxTranslate()-n.minTranslate();p===0?h=0:h=(t-n.minTranslate())/p,h!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function gS(){return-this.snapGrid[0]}function wS(){return-this.snapGrid[this.snapGrid.length-1]}function yS(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const c=s.minTranslate(),d=s.maxTranslate();let h;if(r&&t>c?h=c:r&&t<d?h=d:h=t,s.updateProgress(h),o.cssMode){const p=s.isHorizontal();if(e===0)a[p?"scrollLeft":"scrollTop"]=-h;else{if(!s.support.smoothScroll)return Gp({swiper:s,targetPosition:-h,side:p?"left":"top"}),!0;a.scrollTo({[p?"left":"top"]:-h,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(h),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(y){!s||s.destroyed||y.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var _S={getTranslate:pS,setTranslate:mS,minTranslate:gS,maxTranslate:wS,translateTo:yS};function vS(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Kp(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function ES(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Kp({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function TS(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Kp({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var IS={setTransition:vS,transitionStart:ES,transitionEnd:TS};function bS(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:c,slidesGrid:d,previousIndex:h,activeIndex:p,rtlTranslate:y,wrapperEl:w,enabled:_}=s;if(s.animating&&a.preventInteractionOnTransition||!_&&!r&&!i)return!1;const m=Math.min(s.params.slidesPerGroupSkip,o);let T=m+Math.floor((o-m)/s.params.slidesPerGroup);T>=c.length&&(T=c.length-1);const I=-c[T];if(a.normalizeSlideIndex)for(let P=0;P<d.length;P+=1){const A=-Math.floor(I*100),F=Math.floor(d[P]*100),W=Math.floor(d[P+1]*100);typeof d[P+1]<"u"?A>=F&&A<W-(W-F)/2?o=P:A>=F&&A<W&&(o=P+1):A>=F&&(o=P)}if(s.initialized&&o!==p&&(!s.allowSlideNext&&(y?I>s.translate&&I>s.minTranslate():I<s.translate&&I<s.minTranslate())||!s.allowSlidePrev&&I>s.translate&&I>s.maxTranslate()&&(p||0)!==o))return!1;o!==(h||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(I);let C;if(o>p?C="next":o<p?C="prev":C="reset",y&&-I===s.translate||!y&&I===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(I),C!=="reset"&&(s.transitionStart(n,C),s.transitionEnd(n,C)),!1;if(a.cssMode){const P=s.isHorizontal(),A=y?I:-I;if(e===0){const F=s.virtual&&s.params.virtual.enabled;F&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),F&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[P?"scrollLeft":"scrollTop"]=A})):w[P?"scrollLeft":"scrollTop"]=A,F&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return Gp({swiper:s,targetPosition:A,side:P?"left":"top"}),!0;w.scrollTo({[P?"left":"top"]:A,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(I),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,C),e===0?s.transitionEnd(n,C):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(A){!s||s.destroyed||A.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,C))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function AS(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this,s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const y=o*i.params.grid.rows;a=i.slides.filter(w=>w.getAttribute("data-swiper-slide-index")*1===y)[0].column}else a=i.getSlideIndexByData(o);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let h=i.params.slidesPerView;h==="auto"?h=i.slidesPerViewDynamic():(h=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&h%2===0&&(h=h+1));let p=c-a<h;if(d&&(p=p||a<Math.ceil(h/2)),p){const y=d?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:y,slideTo:!0,activeSlideIndex:y==="next"?a+1:a-c+1,slideRealIndex:y==="next"?i.realIndex:void 0})}if(s){const y=o*i.params.grid.rows;o=i.slides.filter(w=>w.getAttribute("data-swiper-slide-index")*1===y)[0].column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function SS(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i)return r;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:a,d=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!d&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function PS(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:c,animating:d}=r;if(!c)return r;const h=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!h&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const p=a?r.translate:-r.translate;function y(I){return I<0?-Math.floor(Math.abs(I)):Math.floor(I)}const w=y(p),_=s.map(I=>y(I));let m=s[_.indexOf(w)-1];if(typeof m>"u"&&i.cssMode){let I;s.forEach((C,P)=>{w>=C&&(I=P)}),typeof I<"u"&&(m=s[I>0?I-1:I])}let T=0;if(typeof m<"u"&&(T=o.indexOf(m),T<0&&(T=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(T=T-r.slidesPerViewDynamic("previous",!0)+1,T=Math.max(T,0))),i.rewind&&r.isBeginning){const I=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(I,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(T,t,e,n)}),!0;return r.slideTo(T,t,e,n)}function CS(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;return r.slideTo(r.activeIndex,t,e,n)}function RS(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[a]){const d=i.snapGrid[a],h=i.snapGrid[a+1];c-d>(h-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[a-1],h=i.snapGrid[a];c-d<=(h-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function kS(){const t=this,{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(wt(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Pa(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(wt(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Pa(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var xS={slideTo:bS,slideToLoop:AS,slideNext:SS,slidePrev:PS,slideReset:CS,slideToClosest:RS,slideToClickedSlide:kS};function OS(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{wt(r,`.${n.slideClass}, swiper-slide`).forEach((p,y)=>{p.setAttribute("data-swiper-slide-index",y)})},s=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),a=e.slides.length%o!==0,c=s&&e.slides.length%n.grid.rows!==0,d=h=>{for(let p=0;p<h;p+=1){const y=e.isElement?Ca("swiper-slide",[n.slideBlankClass]):Ca("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(y)}};if(a){if(n.loopAddBlankSlides){const h=o-e.slides.length%o;d(h),e.recalcSlides(),e.updateSlides()}else Es("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(n.loopAddBlankSlides){const h=n.grid.rows-e.slides.length%n.grid.rows;d(h),e.recalcSlides(),e.updateSlides()}else Es("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function DS(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:p,slidesEl:y,params:w}=c,{centeredSlides:_}=w;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&w.virtual.enabled){n&&(!w.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):w.centeredSlides&&c.snapIndex<w.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=h,c.allowSlideNext=p,c.emit("loopFix");return}let m=w.slidesPerView;m==="auto"?m=c.slidesPerViewDynamic():(m=Math.ceil(parseFloat(w.slidesPerView,10)),_&&m%2===0&&(m=m+1));const T=w.slidesPerGroupAuto?m:w.slidesPerGroup;let I=T;I%T!==0&&(I+=T-I%T),I+=w.loopAdditionalSlides,c.loopedSlides=I;const C=c.grid&&w.grid&&w.grid.rows>1;d.length<m+I?Es("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):C&&w.grid.fill==="row"&&Es("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const P=[],A=[];let F=c.activeIndex;typeof s>"u"?s=c.getSlideIndex(d.filter(O=>O.classList.contains(w.slideActiveClass))[0]):F=s;const W=r==="next"||!r,Me=r==="prev"||!r;let te=0,Ee=0;const k=C?Math.ceil(d.length/w.grid.rows):d.length,H=(C?d[s].column:s)+(_&&typeof i>"u"?-m/2+.5:0);if(H<I){te=Math.max(I-H,T);for(let O=0;O<I-H;O+=1){const oe=O-Math.floor(O/k)*k;if(C){const ee=k-oe-1;for(let q=d.length-1;q>=0;q-=1)d[q].column===ee&&P.push(q)}else P.push(k-oe-1)}}else if(H+m>k-I){Ee=Math.max(H-(k-I*2),T);for(let O=0;O<Ee;O+=1){const oe=O-Math.floor(O/k)*k;C?d.forEach((ee,q)=>{ee.column===oe&&A.push(q)}):A.push(oe)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),Me&&P.forEach(O=>{d[O].swiperLoopMoveDOM=!0,y.prepend(d[O]),d[O].swiperLoopMoveDOM=!1}),W&&A.forEach(O=>{d[O].swiperLoopMoveDOM=!0,y.append(d[O]),d[O].swiperLoopMoveDOM=!1}),c.recalcSlides(),w.slidesPerView==="auto"?c.updateSlides():C&&(P.length>0&&Me||A.length>0&&W)&&c.slides.forEach((O,oe)=>{c.grid.updateSlide(oe,O,c.slides)}),w.watchSlidesProgress&&c.updateSlidesOffset(),n){if(P.length>0&&Me){if(typeof e>"u"){const O=c.slidesGrid[F],ee=c.slidesGrid[F+te]-O;a?c.setTranslate(c.translate-ee):(c.slideTo(F+te,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-ee,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-ee))}else if(i){const O=C?P.length/w.grid.rows:P.length;c.slideTo(c.activeIndex+O,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(A.length>0&&W)if(typeof e>"u"){const O=c.slidesGrid[F],ee=c.slidesGrid[F-Ee]-O;a?c.setTranslate(c.translate-ee):(c.slideTo(F-Ee,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-ee,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-ee))}else{const O=C?A.length/w.grid.rows:A.length;c.slideTo(c.activeIndex-O,0,!1,!0)}}if(c.allowSlidePrev=h,c.allowSlideNext=p,c.controller&&c.controller.control&&!o){const O={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...O,slideTo:oe.params.slidesPerView===w.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...O,slideTo:c.controller.control.params.slidesPerView===w.slidesPerView?n:!1})}c.emit("loopFix")}function NS(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var VS={loopCreate:OS,loopFix:DS,loopDestroy:NS};function MS(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function LS(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var FS={setGrabCursor:MS,unsetGrabCursor:LS};function BS(t,e){e===void 0&&(e=this);function n(r){if(!r||r===tr()||r===He())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function yd(t,e,n){const r=He(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function US(t){const e=this,n=tr();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){yd(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!s.noSwipingClass&&s.noSwipingClass!=="",h=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&h&&(c=h[0]);const p=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,y=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(y?BS(p,c):c.closest(p))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const w=o.currentX,_=o.currentY;if(!yd(e,r,w))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=w,o.startY=_,i.touchStartTime=vs(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let m=!0;c.matches(i.focusableElements)&&(m=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const T=m&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||T)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function jS(t){const e=tr(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].filter(W=>W.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const h=d.pageX,p=d.pageY;if(c.preventedByNestedSwiper){s.startX=h,s.startY=p;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:h,startY:p,currentX:h,currentY:p}),r.touchStartTime=vs());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(p<s.startY&&n.translate<=n.maxTranslate()||p>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(h<s.startX&&n.translate<=n.maxTranslate()||h>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=h,s.currentY=p;const y=s.currentX-s.startX,w=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(y**2+w**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let W;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:y*y+w*w>=25&&(W=Math.atan2(Math.abs(w),Math.abs(y))*180/Math.PI,r.isScrolling=n.isHorizontal()?W>i.touchAngle:90-W>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let _=n.isHorizontal()?y:w,m=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(_=Math.abs(_)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),s.diff=_,_*=i.touchRatio,o&&(_=-_,m=-m);const T=n.touchesDirection;n.swipeDirection=_>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const I=n.params.loop&&!i.cssMode,C=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(I&&C&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const W=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(W)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let P;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&T!==n.touchesDirection&&I&&C&&Math.abs(_)>=1){Object.assign(s,{startX:h,startY:p,currentX:h,currentY:p,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=_+r.startTranslate;let A=!0,F=i.resistanceRatio;if(i.touchReleaseOnEdges&&(F=0),_>0?(I&&C&&!P&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(A=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+_)**F))):_<0&&(I&&C&&!P&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(A=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-_)**F))),A&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(_)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function zS(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(A=>A.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:c,slidesGrid:d,enabled:h}=e;if(!h||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=vs(),y=p-n.touchStartTime;if(e.allowClick){const A=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(A&&A[0]||r.target,A),e.emit("tap click",r),y<300&&p-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=vs(),Pa(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let w;if(o.followFinger?w=c?e.translate:-e.translate:w=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:w});return}let _=0,m=e.slidesSizesGrid[0];for(let A=0;A<d.length;A+=A<o.slidesPerGroupSkip?1:o.slidesPerGroup){const F=A<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[A+F]<"u"?w>=d[A]&&w<d[A+F]&&(_=A,m=d[A+F]-d[A]):w>=d[A]&&(_=A,m=d[d.length-1]-d[d.length-2])}let T=null,I=null;o.rewind&&(e.isBeginning?I=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(T=0));const C=(w-d[_])/m,P=_<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(y>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?T:_+P):e.slideTo(_)),e.swipeDirection==="prev"&&(C>1-o.longSwipesRatio?e.slideTo(_+P):I!==null&&C<0&&Math.abs(C)>o.longSwipesRatio?e.slideTo(I):e.slideTo(_))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(_+P):e.slideTo(_):(e.swipeDirection==="next"&&e.slideTo(T!==null?T:_+P),e.swipeDirection==="prev"&&e.slideTo(I!==null?I:_))}}function _d(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function HS(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function qS(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function $S(t){const e=this;Qi(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function GS(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Qp=(t,e)=>{const n=tr(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",_d,!0):t[d]("observerUpdate",_d,!0),i[c]("load",t.onLoad,{capture:!0})};function WS(){const t=this,{params:e}=t;t.onTouchStart=US.bind(t),t.onTouchMove=jS.bind(t),t.onTouchEnd=zS.bind(t),t.onDocumentTouchStart=GS.bind(t),e.cssMode&&(t.onScroll=qS.bind(t)),t.onClick=HS.bind(t),t.onLoad=$S.bind(t),Qp(t,"on")}function KS(){Qp(this,"off")}var QS={attachEvents:WS,detachEvents:KS};const vd=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function YS(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const c=(o in s?s[o]:void 0)||t.originalParams,d=vd(t,r),h=vd(t,c),p=r.enabled;d&&!h?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&h&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(I=>{if(typeof c[I]>"u")return;const C=r[I]&&r[I].enabled,P=c[I]&&c[I].enabled;C&&!P&&t[I].disable(),!C&&P&&t[I].enable()});const y=c.direction&&c.direction!==r.direction,w=r.loop&&(c.slidesPerView!==r.slidesPerView||y),_=r.loop;y&&n&&t.changeDirection(),Ue(t.params,c);const m=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),p&&!m?t.disable():!p&&m&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",c),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!_&&T?(t.loopCreate(e),t.updateSlides()):_&&!T&&t.loopDestroy()),t.emit("breakpoint",c)}function XS(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=He(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const c=parseFloat(a.substr(1));return{value:s*c,point:a}}return{value:a,point:a}});o.sort((a,c)=>parseInt(a.value,10)-parseInt(c.value,10));for(let a=0;a<o.length;a+=1){const{point:c,value:d}=o[a];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var JS={setBreakpoint:YS,getBreakpoint:XS};function ZS(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function eP(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=ZS(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function tP(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var nP={addClasses:eP,removeClasses:tP};function rP(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var iP={checkOverflow:rP},Ed={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function sP(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Ue(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Ue(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Ue(e,r)}}const Ho={eventsEmitter:nS,update:fS,translate:_S,transition:IS,slide:xS,loop:VS,grabCursor:FS,events:QS,breakpoints:JS,checkOverflow:iP,classes:nP},qo={};class Qe{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Ue({},n),e&&!n.el&&(n.el=e);const o=tr();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const h=[];return o.querySelectorAll(n.el).forEach(p=>{const y=Ue({},n,{el:p});h.push(new Qe(y))}),h}const a=this;a.__swiper__=!0,a.support=Wp(),a.device=XA({userAgent:n.userAgent}),a.browser=ZA(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const c={};a.modules.forEach(h=>{h({params:n,swiper:a,extendParams:sP(n,c),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const d=Ue({},Ed,c);return a.params=Ue({},d,qo,n),a.originalParams=Ue({},a.params),a.passedParams=Ue({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(h=>{a.on(h,a.params.on[h])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=wt(n,`.${r.slideClass}, swiper-slide`),s=gd(i[0]);return gd(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=wt(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:c,activeIndex:d}=r;let h=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let p=s[d]?s[d].swiperSlideSize:0,y;for(let w=d+1;w<s.length;w+=1)s[w]&&!y&&(p+=s[w].swiperSlideSize,h+=1,p>c&&(y=!0));for(let w=d-1;w>=0;w-=1)s[w]&&!y&&(p+=s[w].swiperSlideSize,h+=1,p>c&&(y=!0))}else if(e==="current")for(let p=d+1;p<s.length;p+=1)(n?o[p]+a[p]-o[d]<c:o[p]-o[d]<c)&&(h+=1);else for(let p=d-1;p>=0;p-=1)o[d]-o[p]<c&&(h+=1);return h}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Qi(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):wt(r,i())[0])();return!o&&n.params.createElements&&(o=Ca("div",n.params.wrapperClass),r.append(o),wt(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Vt(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Vt(r,"direction")==="rtl"),wrongRTL:Vt(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Qi(n,s):s.addEventListener("load",o=>{Qi(n,o.target)})}),Ra(n),n.initialized=!0,Ra(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,zA(r)),r.destroyed=!0),null}static extendDefaults(e){Ue(qo,e)}static get extendedDefaults(){return qo}static get defaults(){return Ed}static installModule(e){Qe.prototype.__modules__||(Qe.prototype.__modules__=[]);const n=Qe.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Qe.installModule(n)),Qe):(Qe.installModule(e),Qe)}}Object.keys(Ho).forEach(t=>{Object.keys(Ho[t]).forEach(e=>{Qe.prototype[e]=Ho[t][e]})});Qe.use([eS,tS]);export{_P as S,oP as a,dP as b,wP as c,mP as d,aP as e,yP as f,gP as g,lP as h,iv as i,uP as j,pd as k,Qe as l,cP as s};
//# sourceMappingURL=vendor-ebbe3804.js.map
