function Qu(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hg}=Object.prototype,{getPrototypeOf:ua}=Object,hs=(t=>e=>{const n=Hg.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),lt=t=>(t=t.toLowerCase(),e=>hs(e)===t),ds=t=>e=>typeof e===t,{isArray:qn}=Array,Er=ds("undefined");function $g(t){return t!==null&&!Er(t)&&t.constructor!==null&&!Er(t.constructor)&&He(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ju=lt("ArrayBuffer");function Wg(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ju(t.buffer),e}const Kg=ds("string"),He=ds("function"),Yu=ds("number"),fs=t=>t!==null&&typeof t=="object",Gg=t=>t===!0||t===!1,xi=t=>{if(hs(t)!=="object")return!1;const e=ua(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qg=lt("Date"),Jg=lt("File"),Yg=lt("Blob"),Xg=lt("FileList"),Zg=t=>fs(t)&&He(t.pipe),ey=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||He(t.append)&&((e=hs(t))==="formdata"||e==="object"&&He(t.toString)&&t.toString()==="[object FormData]"))},ty=lt("URLSearchParams"),ny=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),qn(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function Xu(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Zu=t=>!Er(t)&&t!=={};function So(){const{caseless:t}=Zu(this)&&this||{},e={},n=(r,i)=>{const s=t&&Xu(e,i)||i;xi(e[s])&&xi(r)?e[s]=So(e[s],r):xi(r)?e[s]=So({},r):qn(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&zr(arguments[r],n);return e}const ry=(t,e,n,{allOwnKeys:r}={})=>(zr(e,(i,s)=>{n&&He(i)?t[s]=Qu(i,n):t[s]=i},{allOwnKeys:r}),t),iy=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sy=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},oy=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&ua(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ay=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},cy=t=>{if(!t)return null;if(qn(t))return t;let e=t.length;if(!Yu(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ly=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ua(Uint8Array)),uy=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},hy=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},dy=lt("HTMLFormElement"),fy=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),wl=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),py=lt("RegExp"),eh=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};zr(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},my=t=>{eh(t,(e,n)=>{if(He(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(He(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gy=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return qn(t)?r(t):r(String(t).split(e)),n},yy=()=>{},wy=(t,e)=>(t=+t,Number.isFinite(t)?t:e),io="abcdefghijklmnopqrstuvwxyz",_l="0123456789",th={DIGIT:_l,ALPHA:io,ALPHA_DIGIT:io+io.toUpperCase()+_l},_y=(t=16,e=th.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function vy(t){return!!(t&&He(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ey=t=>{const e=new Array(10),n=(r,i)=>{if(fs(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=qn(r)?[]:{};return zr(r,(o,l)=>{const u=n(o,i+1);!Er(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},Ty=lt("AsyncFunction"),by=t=>t&&(fs(t)||He(t))&&He(t.then)&&He(t.catch),E={isArray:qn,isArrayBuffer:Ju,isBuffer:$g,isFormData:ey,isArrayBufferView:Wg,isString:Kg,isNumber:Yu,isBoolean:Gg,isObject:fs,isPlainObject:xi,isUndefined:Er,isDate:Qg,isFile:Jg,isBlob:Yg,isRegExp:py,isFunction:He,isStream:Zg,isURLSearchParams:ty,isTypedArray:ly,isFileList:Xg,forEach:zr,merge:So,extend:ry,trim:ny,stripBOM:iy,inherits:sy,toFlatObject:oy,kindOf:hs,kindOfTest:lt,endsWith:ay,toArray:cy,forEachEntry:uy,matchAll:hy,isHTMLForm:dy,hasOwnProperty:wl,hasOwnProp:wl,reduceDescriptors:eh,freezeMethods:my,toObjectSet:gy,toCamelCase:fy,noop:yy,toFiniteNumber:wy,findKey:Xu,global:{},isContextDefined:Zu,ALPHABET:th,generateString:_y,isSpecCompliantForm:vy,toJSONObject:Ey,isAsyncFn:Ty,isThenable:by};function q(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}E.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const nh=q.prototype,rh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rh[t]={value:t}});Object.defineProperties(q,rh);Object.defineProperty(nh,"isAxiosError",{value:!0});q.from=(t,e,n,r,i,s)=>{const o=Object.create(nh);return E.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),q.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Iy=null;function Po(t){return E.isPlainObject(t)||E.isArray(t)}function ih(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function vl(t,e,n){return t?t.concat(e).map(function(i,s){return i=ih(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Ay(t){return E.isArray(t)&&!t.some(Po)}const Cy=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function ps(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,C){return!E.isUndefined(C[m])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(i))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(E.isDate(v))return v.toISOString();if(!u&&E.isBlob(v))throw new q("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(v)||E.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,m,C){let I=v;if(v&&!C&&typeof v=="object"){if(E.endsWith(m,"{}"))m=r?m:m.slice(0,-2),v=JSON.stringify(v);else if(E.isArray(v)&&Ay(v)||(E.isFileList(v)||E.endsWith(m,"[]"))&&(I=E.toArray(v)))return m=ih(m),I.forEach(function(P,U){!(E.isUndefined(P)||P===null)&&e.append(o===!0?vl([m],U,s):o===null?m:m+"[]",d(P))}),!1}return Po(v)?!0:(e.append(vl(C,m,s),d(v)),!1)}const g=[],w=Object.assign(Cy,{defaultVisitor:f,convertValue:d,isVisitable:Po});function y(v,m){if(!E.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));g.push(v),E.forEach(v,function(I,R){(!(E.isUndefined(I)||I===null)&&i.call(e,I,E.isString(R)?R.trim():R,m,w))===!0&&y(I,m?m.concat(R):[R])}),g.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return y(t),e}function El(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ha(t,e){this._pairs=[],t&&ps(t,this,e)}const sh=ha.prototype;sh.append=function(e,n){this._pairs.push([e,n])};sh.toString=function(e){const n=e?function(r){return e.call(this,r,El)}:El;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Ry(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oh(t,e,n){if(!e)return t;const r=n&&n.encode||Ry,i=n&&n.serialize;let s;if(i?s=i(e,n):s=E.isURLSearchParams(e)?e.toString():new ha(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Sy{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Tl=Sy,ah={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Py=typeof URLSearchParams<"u"?URLSearchParams:ha,ky=typeof FormData<"u"?FormData:null,xy=typeof Blob<"u"?Blob:null,Ny={isBrowser:!0,classes:{URLSearchParams:Py,FormData:ky,Blob:xy},protocols:["http","https","file","blob","url","data"]},ch=typeof window<"u"&&typeof document<"u",Dy=(t=>ch&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Oy=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ch,hasStandardBrowserWebWorkerEnv:Oy,hasStandardBrowserEnv:Dy},Symbol.toStringTag,{value:"Module"})),et={...Vy,...Ny};function Ly(t,e){return ps(t,new et.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return et.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function My(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Fy(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function lh(t){function e(n,r,i,s){let o=n[s++];const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&E.isArray(i)?i.length:o,u?(E.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!E.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&E.isArray(i[o])&&(i[o]=Fy(i[o])),!l)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(r,i)=>{e(My(r),i,n,0)}),n}return null}function Uy(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const da={transitional:ah,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=E.isObject(e);if(s&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return i&&i?JSON.stringify(lh(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ly(e,this.formSerializer).toString();if((l=E.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ps(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Uy(e)):e}],transformResponse:[function(e){const n=this.transitional||da.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&E.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?q.from(l,q.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:et.classes.FormData,Blob:et.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{da.headers[t]={}});const fa=da,By=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jy=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&By[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},bl=Symbol("internals");function sr(t){return t&&String(t).trim().toLowerCase()}function Ni(t){return t===!1||t==null?t:E.isArray(t)?t.map(Ni):String(t)}function zy(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const qy=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function so(t,e,n,r,i){if(E.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!E.isString(e)){if(E.isString(r))return e.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(e)}}function Hy(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $y(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class ms{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,d){const f=sr(u);if(!f)throw new Error("header name must be a non-empty string");const g=E.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||u]=Ni(l))}const o=(l,u)=>E.forEach(l,(d,f)=>s(d,f,u));return E.isPlainObject(e)||e instanceof this.constructor?o(e,n):E.isString(e)&&(e=e.trim())&&!qy(e)?o(jy(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=sr(e),e){const r=E.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return zy(i);if(E.isFunction(n))return n.call(this,i,r);if(E.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sr(e),e){const r=E.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||so(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=sr(o),o){const l=E.findKey(r,o);l&&(!n||so(r,r[l],l,n))&&(delete r[l],i=!0)}}return E.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||so(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return E.forEach(this,(i,s)=>{const o=E.findKey(r,s);if(o){n[o]=Ni(i),delete n[s];return}const l=e?Hy(s):String(s).trim();l!==s&&delete n[s],n[l]=Ni(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[bl]=this[bl]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=sr(o);r[l]||($y(i,o),r[l]=!0)}return E.isArray(e)?e.forEach(s):s(e),this}}ms.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(ms.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});E.freezeMethods(ms);const gt=ms;function oo(t,e){const n=this||fa,r=e||n,i=gt.from(r.headers);let s=r.data;return E.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function uh(t){return!!(t&&t.__CANCEL__)}function qr(t,e,n){q.call(this,t??"canceled",q.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(qr,q,{__CANCEL__:!0});function Wy(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ky=et.hasStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,l){const u=[];u.push(n+"="+encodeURIComponent(r)),E.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),E.isString(s)&&u.push("path="+s),E.isString(o)&&u.push("domain="+o),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Gy(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Qy(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function hh(t,e){return t&&!Gy(e)?Qy(t,e):e}const Jy=et.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=E.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function Yy(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Xy(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),f=r[s];o||(o=d),n[i]=u,r[i]=d;let g=s,w=0;for(;g!==i;)w+=n[g++],g=g%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const y=f&&d-f;return y?Math.round(w*1e3/y):void 0}}function Il(t,e){let n=0;const r=Xy(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,u=r(l),d=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:i};f[e?"download":"upload"]=!0,t(f)}}const Zy=typeof XMLHttpRequest<"u",ew=Zy&&function(t){return new Promise(function(n,r){let i=t.data;const s=gt.from(t.headers).normalize(),o=t.responseType;let l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(E.isFormData(i)){if(et.hasStandardBrowserEnv||et.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[v,...m]=d?d.split(";").map(C=>C.trim()).filter(Boolean):[];s.setContentType([v||"multipart/form-data",...m].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+m))}const g=hh(t.baseURL,t.url);f.open(t.method.toUpperCase(),oh(g,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function w(){if(!f)return;const v=gt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:t,request:f};Wy(function(R){n(R),u()},function(R){r(R),u()},C),f=null}if("onloadend"in f?f.onloadend=w:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(w)},f.onabort=function(){f&&(r(new q("Request aborted",q.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new q("Network Error",q.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const C=t.transitional||ah;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new q(m,C.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,t,f)),f=null},et.hasStandardBrowserEnv){const v=Jy(g)&&t.xsrfCookieName&&Ky.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&E.forEach(s.toJSON(),function(m,C){f.setRequestHeader(C,m)}),E.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",Il(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Il(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{f&&(r(!v||v.type?new qr(null,t,f):v),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const y=Yy(g);if(y&&et.protocols.indexOf(y)===-1){r(new q("Unsupported protocol "+y+":",q.ERR_BAD_REQUEST,t));return}f.send(i||null)})},ko={http:Iy,xhr:ew};E.forEach(ko,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Al=t=>`- ${t}`,tw=t=>E.isFunction(t)||t===null||t===!1,dh={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!tw(n)&&(r=ko[(o=String(n)).toLowerCase()],r===void 0))throw new q(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Al).join(`
`):" "+Al(s[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ko};function ao(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qr(null,t)}function Cl(t){return ao(t),t.headers=gt.from(t.headers),t.data=oo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dh.getAdapter(t.adapter||fa.adapter)(t).then(function(r){return ao(t),r.data=oo.call(t,t.transformResponse,r),r.headers=gt.from(r.headers),r},function(r){return uh(r)||(ao(t),r&&r.response&&(r.response.data=oo.call(t,t.transformResponse,r.response),r.response.headers=gt.from(r.response.headers))),Promise.reject(r)})}const Rl=t=>t instanceof gt?t.toJSON():t;function Dn(t,e){e=e||{};const n={};function r(d,f,g){return E.isPlainObject(d)&&E.isPlainObject(f)?E.merge.call({caseless:g},d,f):E.isPlainObject(f)?E.merge({},f):E.isArray(f)?f.slice():f}function i(d,f,g){if(E.isUndefined(f)){if(!E.isUndefined(d))return r(void 0,d,g)}else return r(d,f,g)}function s(d,f){if(!E.isUndefined(f))return r(void 0,f)}function o(d,f){if(E.isUndefined(f)){if(!E.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,g){if(g in e)return r(d,f);if(g in t)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f)=>i(Rl(d),Rl(f),!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(f){const g=u[f]||i,w=g(t[f],e[f],f);E.isUndefined(w)&&g!==l||(n[f]=w)}),n}const fh="1.6.1",pa={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pa[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Sl={};pa.transitional=function(e,n,r){function i(s,o){return"[Axios v"+fh+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new q(i(o," has been removed"+(n?" in "+n:"")),q.ERR_DEPRECATED);return n&&!Sl[o]&&(Sl[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function nw(t,e,n){if(typeof t!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new q("option "+s+" must be "+u,q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new q("Unknown option "+s,q.ERR_BAD_OPTION)}}const xo={assertOptions:nw,validators:pa},Ct=xo.validators;class ji{constructor(e){this.defaults=e,this.interceptors={request:new Tl,response:new Tl}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Dn(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&xo.assertOptions(r,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),i!=null&&(E.isFunction(i)?n.paramsSerializer={serialize:i}:xo.assertOptions(i,{encode:Ct.function,serialize:Ct.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&E.merge(s.common,s[n.method]);s&&E.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=gt.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(u=u&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const d=[];this.interceptors.response.forEach(function(m){d.push(m.fulfilled,m.rejected)});let f,g=0,w;if(!u){const v=[Cl.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),w=v.length,f=Promise.resolve(n);g<w;)f=f.then(v[g++],v[g++]);return f}w=l.length;let y=n;for(g=0;g<w;){const v=l[g++],m=l[g++];try{y=v(y)}catch(C){m.call(this,C);break}}try{f=Cl.call(this,y)}catch(v){return Promise.reject(v)}for(g=0,w=d.length;g<w;)f=f.then(d[g++],d[g++]);return f}getUri(e){e=Dn(this.defaults,e);const n=hh(e.baseURL,e.url);return oh(n,e.params,e.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(e){ji.prototype[e]=function(n,r){return this.request(Dn(r||{},{method:e,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Dn(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ji.prototype[e]=n(),ji.prototype[e+"Form"]=n(!0)});const Di=ji;class ma{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new qr(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ma(function(i){e=i}),cancel:e}}}const rw=ma;function iw(t){return function(n){return t.apply(null,n)}}function sw(t){return E.isObject(t)&&t.isAxiosError===!0}const No={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(No).forEach(([t,e])=>{No[e]=t});const ow=No;function ph(t){const e=new Di(t),n=Qu(Di.prototype.request,e);return E.extend(n,Di.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ph(Dn(t,i))},n}const fe=ph(fa);fe.Axios=Di;fe.CanceledError=qr;fe.CancelToken=rw;fe.isCancel=uh;fe.VERSION=fh;fe.toFormData=ps;fe.AxiosError=q;fe.Cancel=fe.CanceledError;fe.all=function(e){return Promise.all(e)};fe.spread=iw;fe.isAxiosError=sw;fe.mergeConfig=Dn;fe.AxiosHeaders=gt;fe.formToJSON=t=>lh(E.isHTMLForm(t)?new FormData(t):t);fe.getAdapter=dh.getAdapter;fe.HttpStatusCode=ow;fe.default=fe;const lA=fe;const mh=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let w=(l&15)<<2|d>>6,y=d&63;u||(y=64,o||(w=64)),r.push(n[f],n[g],n[w],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||g==null)throw new cw;const w=s<<2|l>>4;if(r.push(w),d!==64){const y=l<<4&240|d>>2;if(r.push(y),g!==64){const v=d<<6&192|g;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lw=function(t){const e=mh(t);return gh.encodeByteArray(e,!0)},zi=function(t){return lw(t).replace(/\./g,"")},yh=function(t){try{return gh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hw=()=>uw().__FIREBASE_DEFAULTS__,dw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yh(t[1]);return e&&JSON.parse(e)},ga=()=>{try{return hw()||dw()||fw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wh=t=>{var e,n;return(n=(e=ga())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pw=t=>{const e=wh(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_h=()=>{var t;return(t=ga())===null||t===void 0?void 0:t.config},vh=t=>{var e;return(e=ga())===null||e===void 0?void 0:e[`_${t}`]};class mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function gw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[zi(JSON.stringify(n)),zi(JSON.stringify(o)),l].join(".")}function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function ww(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _w(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vw(){const t=Oe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ew(){try{return typeof indexedDB=="object"}catch{return!1}}function Tw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}const bw="FirebaseError";class Tt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bw,Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}}class Hr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Iw(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Tt(i,l,r)}}function Iw(t,e){return t.replace(Aw,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Aw=/\{\$([^}]+)}/g;function Cw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Pl(s)&&Pl(o)){if(!qi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pl(t){return t!==null&&typeof t=="object"}function $r(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ur(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Rw(t,e){const n=new Sw(t,e);return n.subscribe.bind(n)}class Sw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Pw(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=co),i.error===void 0&&(i.error=co),i.complete===void 0&&(i.complete=co);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function co(){}function Ue(t){return t&&t._delegate?t._delegate:t}class en{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gt="[DEFAULT]";class kw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nw(e))try{this.getOrInitializeService({instanceIdentifier:Gt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gt){return this.instances.has(e)}getOptions(e=Gt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gt){return this.component?this.component.multipleInstances?e:Gt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(t){return t===Gt?void 0:t}function Nw(t){return t.instantiationMode==="EAGER"}class Dw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var j;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(j||(j={}));const Ow={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},Vw=j.INFO,Lw={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},Mw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Lw[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ya{constructor(e){this.name=e,this._logLevel=Vw,this._logHandler=Mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in j))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...e),this._logHandler(this,j.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...e),this._logHandler(this,j.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,j.INFO,...e),this._logHandler(this,j.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,j.WARN,...e),this._logHandler(this,j.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...e),this._logHandler(this,j.ERROR,...e)}}const Fw=(t,e)=>e.some(n=>t instanceof n);let kl,xl;function Uw(){return kl||(kl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bw(){return xl||(xl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eh=new WeakMap,Do=new WeakMap,Th=new WeakMap,lo=new WeakMap,wa=new WeakMap;function jw(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Dt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Eh.set(n,t)}).catch(()=>{}),wa.set(e,t),e}function zw(t){if(Do.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Do.set(t,e)}let Oo={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Do.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Th.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qw(t){Oo=t(Oo)}function Hw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uo(this),e,...n);return Th.set(r,e.sort?e.sort():[e]),Dt(r)}:Bw().includes(t)?function(...e){return t.apply(uo(this),e),Dt(Eh.get(this))}:function(...e){return Dt(t.apply(uo(this),e))}}function $w(t){return typeof t=="function"?Hw(t):(t instanceof IDBTransaction&&zw(t),Fw(t,Uw())?new Proxy(t,Oo):t)}function Dt(t){if(t instanceof IDBRequest)return jw(t);if(lo.has(t))return lo.get(t);const e=$w(t);return e!==t&&(lo.set(t,e),wa.set(e,t)),e}const uo=t=>wa.get(t);function Ww(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Dt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Dt(o.result),u.oldVersion,u.newVersion,Dt(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Kw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],ho=new Map;function Nl(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ho.get(e))return ho.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Gw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kw.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return ho.set(e,s),s}qw(t=>({...t,get:(e,n,r)=>Nl(e,n)||t.get(e,n,r),has:(e,n)=>!!Nl(e,n)||t.has(e,n)}));class Qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Jw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vo="@firebase/app",Dl="0.9.22";const tn=new ya("@firebase/app"),Yw="@firebase/app-compat",Xw="@firebase/analytics-compat",Zw="@firebase/analytics",e_="@firebase/app-check-compat",t_="@firebase/app-check",n_="@firebase/auth",r_="@firebase/auth-compat",i_="@firebase/database",s_="@firebase/database-compat",o_="@firebase/functions",a_="@firebase/functions-compat",c_="@firebase/installations",l_="@firebase/installations-compat",u_="@firebase/messaging",h_="@firebase/messaging-compat",d_="@firebase/performance",f_="@firebase/performance-compat",p_="@firebase/remote-config",m_="@firebase/remote-config-compat",g_="@firebase/storage",y_="@firebase/storage-compat",w_="@firebase/firestore",__="@firebase/firestore-compat",v_="firebase",E_="10.5.2";const Lo="[DEFAULT]",T_={[Vo]:"fire-core",[Yw]:"fire-core-compat",[Zw]:"fire-analytics",[Xw]:"fire-analytics-compat",[t_]:"fire-app-check",[e_]:"fire-app-check-compat",[n_]:"fire-auth",[r_]:"fire-auth-compat",[i_]:"fire-rtdb",[s_]:"fire-rtdb-compat",[o_]:"fire-fn",[a_]:"fire-fn-compat",[c_]:"fire-iid",[l_]:"fire-iid-compat",[u_]:"fire-fcm",[h_]:"fire-fcm-compat",[d_]:"fire-perf",[f_]:"fire-perf-compat",[p_]:"fire-rc",[m_]:"fire-rc-compat",[g_]:"fire-gcs",[y_]:"fire-gcs-compat",[w_]:"fire-fst",[__]:"fire-fst-compat","fire-js":"fire-js",[v_]:"fire-js-all"};const Hi=new Map,Mo=new Map;function b_(t,e){try{t.container.addComponent(e)}catch(n){tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){const e=t.name;if(Mo.has(e))return tn.debug(`There were multiple attempts to register component ${e}.`),!1;Mo.set(e,t);for(const n of Hi.values())b_(n,t);return!0}function _a(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const I_={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ot=new Hr("app","Firebase",I_);class A_{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}const Hn=E_;function C_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ot.create("bad-app-name",{appName:String(i)});if(n||(n=_h()),!n)throw Ot.create("no-options");const s=Hi.get(i);if(s){if(qi(n,s.options)&&qi(r,s.config))return s;throw Ot.create("duplicate-app",{appName:i})}const o=new Dw(i);for(const u of Mo.values())o.addComponent(u);const l=new A_(n,r,o);return Hi.set(i,l),l}function bh(t=Lo){const e=Hi.get(t);if(!e&&t===Lo&&_h())return C_();if(!e)throw Ot.create("no-app",{appName:t});return e}function Vt(t,e,n){var r;let i=(r=T_[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tn.warn(l.join(" "));return}On(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const R_="firebase-heartbeat-database",S_=1,Tr="firebase-heartbeat-store";let fo=null;function Ih(){return fo||(fo=Ww(R_,S_,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tr)}}}).catch(t=>{throw Ot.create("idb-open",{originalErrorMessage:t.message})})),fo}async function P_(t){try{return await(await Ih()).transaction(Tr).objectStore(Tr).get(Ah(t))}catch(e){if(e instanceof Tt)tn.warn(e.message);else{const n=Ot.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tn.warn(n.message)}}}async function Ol(t,e){try{const r=(await Ih()).transaction(Tr,"readwrite");await r.objectStore(Tr).put(e,Ah(t)),await r.done}catch(n){if(n instanceof Tt)tn.warn(n.message);else{const r=Ot.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tn.warn(r.message)}}}function Ah(t){return`${t.name}!${t.options.appId}`}const k_=1024,x_=30*24*60*60*1e3;class N_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vl();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=x_}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vl(),{heartbeatsToSend:n,unsentEntries:r}=D_(this._heartbeatsCache.heartbeats),i=zi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Vl(){return new Date().toISOString().substring(0,10)}function D_(t,e=k_){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ll(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ll(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ew()?Tw().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await P_(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ol(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ol(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ll(t){return zi(JSON.stringify({version:2,heartbeats:t})).length}function V_(t){On(new en("platform-logger",e=>new Qw(e),"PRIVATE")),On(new en("heartbeat",e=>new N_(e),"PRIVATE")),Vt(Vo,Dl,t),Vt(Vo,Dl,"esm2017"),Vt("fire-js","")}V_("");var L_="firebase",M_="10.5.2";Vt(L_,M_,"app");function va(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ch(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F_=Ch,Rh=new Hr("auth","Firebase",Ch());const $i=new ya("@firebase/auth");function U_(t,...e){$i.logLevel<=j.WARN&&$i.warn(`Auth (${Hn}): ${t}`,...e)}function Oi(t,...e){$i.logLevel<=j.ERROR&&$i.error(`Auth (${Hn}): ${t}`,...e)}function Ge(t,...e){throw Ea(t,...e)}function rt(t,...e){return Ea(t,...e)}function B_(t,e,n){const r=Object.assign(Object.assign({},F_()),{[e]:n});return new Hr("auth","Firebase",r).create(e,{appName:t.name})}function Ea(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rh.create(t,...e)}function O(t,e,...n){if(!t)throw Ea(e,...n)}function ft(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oi(e),new Error(e)}function wt(t,e){t||ft(e)}function Fo(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j_(){return Ml()==="http:"||Ml()==="https:"}function Ml(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function z_(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j_()||ww()||"connection"in navigator)?navigator.onLine:!0}function q_(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Wr{constructor(e,n){this.shortDelay=e,this.longDelay=n,wt(n>e,"Short delay should be less than long delay!"),this.isMobile=yw()||_w()}get(){return z_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ta(t,e){wt(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Sh{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $_=new Wr(3e4,6e4);function cn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ln(t,e,n,r,i={}){return Ph(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=$r(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Sh.fetch()(kh(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function Ph(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},H_),e);try{const i=new K_(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ei(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ei(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ei(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ei(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw B_(t,f,d);Ge(t,f)}}catch(i){if(i instanceof Tt)throw i;Ge(t,"network-request-failed",{message:String(i)})}}async function Kr(t,e,n,r,i={}){const s=await ln(t,e,n,r,i);return"mfaPendingCredential"in s&&Ge(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kh(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ta(t.config,i):`${t.config.apiScheme}://${i}`}function W_(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K_{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rt(this.auth,"network-request-failed")),$_.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ei(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rt(t,e,r);return i.customData._tokenResponse=n,i}function Fl(t){return t!==void 0&&t.enterprise!==void 0}class G_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W_(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Q_(t,e){return ln(t,"GET","/v2/recaptchaConfig",cn(t,e))}async function J_(t,e){return ln(t,"POST","/v1/accounts:delete",e)}async function Y_(t,e){return ln(t,"POST","/v1/accounts:lookup",e)}function mr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X_(t,e=!1){const n=Ue(t),r=await n.getIdToken(e),i=ba(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mr(po(i.auth_time)),issuedAtTime:mr(po(i.iat)),expirationTime:mr(po(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function po(t){return Number(t)*1e3}function ba(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oi("JWT malformed, contained fewer than 3 sections"),null;try{const i=yh(n);return i?JSON.parse(i):(Oi("Failed to decode base64 JWT payload"),null)}catch(i){return Oi("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z_(t){const e=ba(t);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function br(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tt&&e0(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e0({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class t0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wi(t){var e;const n=t.auth,r=await t.getIdToken(),i=await br(t,Y_(n,{idToken:r}));O(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?i0(s.providerUserInfo):[],l=r0(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new xh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function n0(t){const e=Ue(t);await Wi(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r0(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function i0(t){return t.map(e=>{var{providerId:n}=e,r=va(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function s0(t,e){const n=await Ph(t,{},async()=>{const r=$r({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kh(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Sh.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}class Ir{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return O(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await s0(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ir;return r&&(O(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(O(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(O(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ir,this.toJSON())}_performRefresh(){return ft("not implemented")}}function Rt(t,e){O(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xt{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=va(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await br(this,this.stsTokenManager.getToken(this.auth,e));return O(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X_(this,e)}reload(){return n0(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wi(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await br(this,J_(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,d,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(d=n.createdAt)!==null&&d!==void 0?d:void 0,R=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:P,emailVerified:U,isAnonymous:ee,providerData:te,stsTokenManager:ce}=n;O(P&&ce,e,"internal-error");const x=Ir.fromJSON(this.name,ce);O(typeof P=="string",e,"internal-error"),Rt(g,e.name),Rt(w,e.name),O(typeof U=="boolean",e,"internal-error"),O(typeof ee=="boolean",e,"internal-error"),Rt(y,e.name),Rt(v,e.name),Rt(m,e.name),Rt(C,e.name),Rt(I,e.name),Rt(R,e.name);const ne=new Xt({uid:P,auth:e,email:w,emailVerified:U,displayName:g,isAnonymous:ee,photoURL:v,phoneNumber:y,tenantId:m,stsTokenManager:x,createdAt:I,lastLoginAt:R});return te&&Array.isArray(te)&&(ne.providerData=te.map(Q=>Object.assign({},Q))),C&&(ne._redirectEventId=C),ne}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ir;i.updateFromServerResponse(n);const s=new Xt({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wi(s),s}}const Ul=new Map;function pt(t){wt(t instanceof Function,"Expected a class definition");let e=Ul.get(t);return e?(wt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ul.set(t,e),e)}class Nh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nh.type="NONE";const Bl=Nh;function Vi(t,e,n){return`firebase:${t}:${e}:${n}`}class Sn{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vi(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vi("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sn(pt(Bl),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||pt(Bl);const o=Vi(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){const g=Xt._fromJSON(e,f);d!==s&&(l=g),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Sn(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Sn(s,e,r))}}function jl(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vh(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mh(e))return"Blackberry";if(Fh(e))return"Webos";if(Ia(e))return"Safari";if((e.includes("chrome/")||Oh(e))&&!e.includes("edge/"))return"Chrome";if(Lh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dh(t=Oe()){return/firefox\//i.test(t)}function Ia(t=Oe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Oh(t=Oe()){return/crios\//i.test(t)}function Vh(t=Oe()){return/iemobile/i.test(t)}function Lh(t=Oe()){return/android/i.test(t)}function Mh(t=Oe()){return/blackberry/i.test(t)}function Fh(t=Oe()){return/webos/i.test(t)}function gs(t=Oe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o0(t=Oe()){var e;return gs(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a0(){return vw()&&document.documentMode===10}function Uh(t=Oe()){return gs(t)||Lh(t)||Fh(t)||Mh(t)||/windows phone/i.test(t)||Vh(t)}function c0(){try{return!!(window&&window!==window.top)}catch{return!1}}function Bh(t,e=[]){let n;switch(t){case"Browser":n=jl(Oe());break;case"Worker":n=`${jl(Oe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hn}/${r}`}class l0{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}async function u0(t,e={}){return ln(t,"GET","/v2/passwordPolicy",cn(t,e))}const h0=6;class d0{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:h0,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class f0{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zl(this),this.idTokenSubscription=new zl(this),this.beforeStateQueue=new l0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pt(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sn.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wi(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q_()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ue(e):null;return n&&O(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u0(this),n=new d0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pt(e)||this._popupRedirectResolver;O(n,this,"argument-error"),this.redirectPersistenceManager=await Sn.create(this,[pt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U_(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function un(t){return Ue(t)}class zl{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rw(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function p0(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function jh(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",p0().appendChild(r)})}function m0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const g0="https://www.google.com/recaptcha/enterprise.js?render=",y0="recaptcha-enterprise",w0="NO_RECAPTCHA";class _0{constructor(e){this.type=y0,this.auth=un(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Q_(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new G_(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;Fl(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(w0)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Fl(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}jh(g0+l).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function ql(t,e,n,r=!1){const i=new _0(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ql(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ql(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function v0(t,e){const n=_a(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(qi(s,e??{}))return i;Ge(i,"already-initialized")}return n.initialize({options:e})}function E0(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pt);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T0(t,e,n){const r=un(t);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=qh(e),{host:o,port:l}=b0(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||I0()}function qh(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b0(t){const e=qh(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Hl(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Hl(o)}}}function Hl(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I0(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Aa{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ft("not implemented")}_getIdTokenResponse(e){return ft("not implemented")}_linkToIdToken(e,n){return ft("not implemented")}_getReauthenticationResolver(e){return ft("not implemented")}}async function A0(t,e){return ln(t,"POST","/v1/accounts:update",e)}async function C0(t,e){return Kr(t,"POST","/v1/accounts:signInWithPassword",cn(t,e))}async function R0(t,e){return Kr(t,"POST","/v1/accounts:signInWithEmailLink",cn(t,e))}async function S0(t,e){return Kr(t,"POST","/v1/accounts:signInWithEmailLink",cn(t,e))}class Ar extends Aa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ar(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ar(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(e,n,"signInWithPassword",C0);case"emailLink":return R0(e,{email:this._email,oobCode:this._password});default:Ge(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return A0(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return S0(e,{idToken:n,email:this._email,oobCode:this._password});default:Ge(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pn(t,e){return Kr(t,"POST","/v1/accounts:signInWithIdp",cn(t,e))}const P0="http://localhost";class nn extends Aa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ge("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=va(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new nn(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pn(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pn(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pn(e,n)}buildRequest(){const e={requestUri:P0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$r(n)}return e}}function k0(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x0(t){const e=lr(ur(t)).link,n=e?lr(ur(e)).deep_link_id:null,r=lr(ur(t)).deep_link_id;return(r?lr(ur(r)).link:null)||r||n||e||t}class Ca{constructor(e){var n,r,i,s,o,l;const u=lr(ur(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=k0((i=u.mode)!==null&&i!==void 0?i:null);O(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=x0(e);try{return new Ca(n)}catch{return null}}}class $n{constructor(){this.providerId=$n.PROVIDER_ID}static credential(e,n){return Ar._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ca.parseLink(n);return O(r,"argument-error"),Ar._fromEmailAndCode(e,r.code,r.tenantId)}}$n.PROVIDER_ID="password";$n.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Hh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gr extends Hh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class St extends Gr{constructor(){super("facebook.com")}static credential(e){return nn._fromParams({providerId:St.PROVIDER_ID,signInMethod:St.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return St.credentialFromTaggedObject(e)}static credentialFromError(e){return St.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return St.credential(e.oauthAccessToken)}catch{return null}}}St.FACEBOOK_SIGN_IN_METHOD="facebook.com";St.PROVIDER_ID="facebook.com";class Pt extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nn._fromParams({providerId:Pt.PROVIDER_ID,signInMethod:Pt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pt.credentialFromTaggedObject(e)}static credentialFromError(e){return Pt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pt.credential(n,r)}catch{return null}}}Pt.GOOGLE_SIGN_IN_METHOD="google.com";Pt.PROVIDER_ID="google.com";class kt extends Gr{constructor(){super("github.com")}static credential(e){return nn._fromParams({providerId:kt.PROVIDER_ID,signInMethod:kt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kt.credentialFromTaggedObject(e)}static credentialFromError(e){return kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kt.credential(e.oauthAccessToken)}catch{return null}}}kt.GITHUB_SIGN_IN_METHOD="github.com";kt.PROVIDER_ID="github.com";class xt extends Gr{constructor(){super("twitter.com")}static credential(e,n){return nn._fromParams({providerId:xt.PROVIDER_ID,signInMethod:xt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xt.credentialFromTaggedObject(e)}static credentialFromError(e){return xt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xt.credential(n,r)}catch{return null}}}xt.TWITTER_SIGN_IN_METHOD="twitter.com";xt.PROVIDER_ID="twitter.com";async function N0(t,e){return Kr(t,"POST","/v1/accounts:signUp",cn(t,e))}class rn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xt._fromIdTokenResponse(e,r,i),o=$l(r);return new rn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$l(r);return new rn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $l(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ki extends Tt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ki.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ki(e,n,r,i)}}function $h(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ki._fromErrorAndOperation(t,s,e,r):s})}async function D0(t,e,n=!1){const r=await br(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rn._forOperation(t,"link",r)}async function O0(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await br(t,$h(r,i,e,t),n);O(s.idToken,r,"internal-error");const o=ba(s.idToken);O(o,r,"internal-error");const{sub:l}=o;return O(t.uid===l,r,"user-mismatch"),rn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ge(r,"user-mismatch"),s}}async function Wh(t,e,n=!1){const r="signIn",i=await $h(t,r,e),s=await rn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function V0(t,e){return Wh(un(t),e)}async function Kh(t){const e=un(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uA(t,e,n){const r=un(t),o=await zh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N0).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Kh(t),u}),l=await rn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function hA(t,e,n){return V0(Ue(t),$n.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kh(t),r})}function L0(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function M0(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}function dA(t){return Ue(t).signOut()}async function fA(t){return Ue(t).delete()}const Gi="__sak";class Gh{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gi,"1"),this.storage.removeItem(Gi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function F0(){const t=Oe();return Ia(t)||gs(t)}const U0=1e3,B0=10;class Qh extends Gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=F0()&&c0(),this.fallbackToPolling=Uh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a0()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B0):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qh.type="LOCAL";const j0=Qh;class Jh extends Gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jh.type="SESSION";const Yh=Jh;function z0(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ys{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ys(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await z0(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ys.receivers=[];function Ra(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class q0{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=Ra("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const w=g;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(w.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function it(){return window}function H0(t){it().location.href=t}function Xh(){return typeof it().WorkerGlobalScope<"u"&&typeof it().importScripts=="function"}async function $0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W0(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function K0(){return Xh()?self:null}const Zh="firebaseLocalStorageDb",G0=1,Qi="firebaseLocalStorage",ed="fbase_key";class Qr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ws(t,e){return t.transaction([Qi],e?"readwrite":"readonly").objectStore(Qi)}function Q0(){const t=indexedDB.deleteDatabase(Zh);return new Qr(t).toPromise()}function Uo(){const t=indexedDB.open(Zh,G0);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qi,{keyPath:ed})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qi)?e(r):(r.close(),await Q0(),e(await Uo()))})})}async function Wl(t,e,n){const r=ws(t,!0).put({[ed]:e,value:n});return new Qr(r).toPromise()}async function J0(t,e){const n=ws(t,!1).get(e),r=await new Qr(n).toPromise();return r===void 0?null:r.value}function Kl(t,e){const n=ws(t,!0).delete(e);return new Qr(n).toPromise()}const Y0=800,X0=3;class td{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uo(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ys._getInstance(K0()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $0(),!this.activeServiceWorker)return;this.sender=new q0(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uo();return await Wl(e,Gi,"1"),await Kl(e,Gi),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wl(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J0(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kl(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ws(i,!1).getAll();return new Qr(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}td.type="LOCAL";const Z0=td;new Wr(3e4,6e4);function ev(t,e){return e?pt(e):(O(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Sa extends Aa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pn(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tv(t){return Wh(t.auth,new Sa(t),t.bypassAuthState)}function nv(t){const{auth:e,user:n}=t;return O(n,e,"internal-error"),O0(n,new Sa(t),t.bypassAuthState)}async function rv(t){const{auth:e,user:n}=t;return O(n,e,"internal-error"),D0(n,new Sa(t),t.bypassAuthState)}class nd{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tv;case"linkViaPopup":case"linkViaRedirect":return rv;case"reauthViaPopup":case"reauthViaRedirect":return nv;default:Ge(this.auth,"internal-error")}}resolve(e){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iv=new Wr(2e3,1e4);class Cn extends nd{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Cn.currentPopupAction&&Cn.currentPopupAction.cancel(),Cn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return O(e,this.auth,"internal-error"),e}async onExecution(){wt(this.filter.length===1,"Popup operations only handle one event");const e=Ra();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iv.get())};e()}}Cn.currentPopupAction=null;const sv="pendingRedirect",Li=new Map;class ov extends nd{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Li.get(this.auth._key());if(!e){try{const r=await av(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Li.set(this.auth._key(),e)}return this.bypassAuthState||Li.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function av(t,e){const n=uv(e),r=lv(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cv(t,e){Li.set(t._key(),e)}function lv(t){return pt(t._redirectPersistence)}function uv(t){return Vi(sv,t.config.apiKey,t.name)}async function hv(t,e,n=!1){const r=un(t),i=ev(r,e),o=await new ov(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const dv=10*60*1e3;class fv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pv(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rd(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dv&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gl(e))}saveEventToCache(e){this.cachedEventUids.add(Gl(e)),this.lastProcessedEventTime=Date.now()}}function Gl(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rd({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pv(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rd(t);default:return!1}}async function mv(t,e={}){return ln(t,"GET","/v1/projects",e)}const gv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yv=/^https?/;async function wv(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mv(t);for(const n of e)try{if(_v(n))return}catch{}Ge(t,"unauthorized-domain")}function _v(t){const e=Fo(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yv.test(n))return!1;if(gv.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vv=new Wr(3e4,6e4);function Ql(){const t=it().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ev(t){return new Promise((e,n)=>{var r,i,s;function o(){Ql(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ql(),n(rt(t,"network-request-failed"))},timeout:vv.get()})}if(!((i=(r=it().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=it().gapi)===null||s===void 0)&&s.load)o();else{const l=m0("iframefcb");return it()[l]=()=>{gapi.load?o():n(rt(t,"network-request-failed"))},jh(`https://apis.google.com/js/api.js?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Mi=null,e})}let Mi=null;function Tv(t){return Mi=Mi||Ev(t),Mi}const bv=new Wr(5e3,15e3),Iv="__/auth/iframe",Av="emulator/auth/iframe",Cv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sv(t){const e=t.config;O(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ta(e,Av):`https://${t.config.authDomain}/${Iv}`,r={apiKey:e.apiKey,appName:t.name,v:Hn},i=Rv.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$r(r).slice(1)}`}async function Pv(t){const e=await Tv(t),n=it().gapi;return O(n,t,"internal-error"),e.open({where:document.body,url:Sv(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cv,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rt(t,"network-request-failed"),l=it().setTimeout(()=>{s(o)},bv.get());function u(){it().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}const kv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xv=500,Nv=600,Dv="_blank",Ov="http://localhost";class Jl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vv(t,e,n,r=xv,i=Nv){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},kv),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Oe().toLowerCase();n&&(l=Oh(d)?Dv:n),Dh(d)&&(e=e||Ov,u.scrollbars="yes");const f=Object.entries(u).reduce((w,[y,v])=>`${w}${y}=${v},`,"");if(o0(d)&&l!=="_self")return Lv(e||"",l),new Jl(null);const g=window.open(e||"",l,f);O(g,t,"popup-blocked");try{g.focus()}catch{}return new Jl(g)}function Lv(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Mv="__/auth/handler",Fv="emulator/auth/handler",Uv=encodeURIComponent("fac");async function Yl(t,e,n,r,i,s){O(t.config.authDomain,t,"auth-domain-config-required"),O(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hn,eventId:i};if(e instanceof Hh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Cw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Gr){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${Uv}=${encodeURIComponent(u)}`:"";return`${Bv(t)}?${$r(l).slice(1)}${d}`}function Bv({config:t}){return t.emulator?Ta(t,Fv):`https://${t.authDomain}/${Mv}`}const mo="webStorageSupport";class jv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yh,this._completeRedirectFn=hv,this._overrideRedirectResult=cv}async _openPopup(e,n,r,i){var s;wt((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yl(e,n,r,Fo(),i);return Vv(e,o,Ra())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yl(e,n,r,Fo(),i);return H0(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wt(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Pv(e),r=new fv(e);return n.register("authEvent",i=>(O(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mo,{type:mo},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[mo];o!==void 0&&n(!!o),Ge(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wv(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uh()||Ia()||gs()}}const zv=jv;var Xl="@firebase/auth",Zl="1.3.2";class qv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hv(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $v(t){On(new en("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;O(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bh(t)},d=new f0(r,i,s,u);return E0(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),On(new en("auth-internal",e=>{const n=un(e.getProvider("auth").getImmediate());return(r=>new qv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(Xl,Zl,Hv(t)),Vt(Xl,Zl,"esm2017")}const Wv=5*60,Kv=vh("authIdTokenMaxAge")||Wv;let eu=null;const Gv=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Kv)return;const i=n==null?void 0:n.token;eu!==i&&(eu=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pA(t=bh()){const e=_a(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v0(t,{popupRedirectResolver:zv,persistence:[Z0,j0,Yh]}),r=vh("authTokenSyncURL");if(r){const s=Gv(r);M0(n,s,()=>s(n.currentUser)),L0(n,o=>s(o))}const i=wh("auth");return i&&T0(n,`http://${i}`),n}$v("Browser");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A,Pa=Pa||{},V=Qv||self;function _s(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Jr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jv(t){return Object.prototype.hasOwnProperty.call(t,go)&&t[go]||(t[go]=++Yv)}var go="closure_uid_"+(1e9*Math.random()>>>0),Yv=0;function Xv(t,e,n){return t.call.apply(t.bind,arguments)}function Zv(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ne(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ne=Xv:Ne=Zv,Ne.apply(null,arguments)}function Ti(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _e(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function Bt(){this.s=this.s,this.o=this.o}var eE=0;Bt.prototype.s=!1;Bt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eE!=0)&&Jv(this)};Bt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const id=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ka(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tu(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_s(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function De(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var tE=function(){if(!V.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{V.addEventListener("test",()=>{},e),V.removeEventListener("test",()=>{},e)}catch{}return t}();function Cr(t){return/^[\s\xa0]*$/.test(t)}function vs(){var t=V.navigator;return t&&(t=t.userAgent)?t:""}function Ze(t){return vs().indexOf(t)!=-1}function xa(t){return xa[" "](t),t}xa[" "]=function(){};function nE(t,e){var n=GE;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var rE=Ze("Opera"),Vn=Ze("Trident")||Ze("MSIE"),sd=Ze("Edge"),Bo=sd||Vn,od=Ze("Gecko")&&!(vs().toLowerCase().indexOf("webkit")!=-1&&!Ze("Edge"))&&!(Ze("Trident")||Ze("MSIE"))&&!Ze("Edge"),iE=vs().toLowerCase().indexOf("webkit")!=-1&&!Ze("Edge");function ad(){var t=V.document;return t?t.documentMode:void 0}var jo;e:{var yo="",wo=function(){var t=vs();if(od)return/rv:([^\);]+)(\)|;)/.exec(t);if(sd)return/Edge\/([\d\.]+)/.exec(t);if(Vn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(iE)return/WebKit\/(\S+)/.exec(t);if(rE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wo&&(yo=wo?wo[1]:""),Vn){var _o=ad();if(_o!=null&&_o>parseFloat(yo)){jo=String(_o);break e}}jo=yo}var zo;if(V.document&&Vn){var nu=ad();zo=nu||parseInt(jo,10)||void 0}else zo=void 0;var sE=zo;function Rr(t,e){if(De.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(od){e:{try{xa(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rr.$.h.call(this)}}_e(Rr,De);var oE={2:"touch",3:"pen",4:"mouse"};Rr.prototype.h=function(){Rr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),aE=0;function cE(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++aE,this.fa=this.ia=!1}function Es(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Na(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lE(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function cd(t){const e={};for(const n in t)e[n]=t[n];return e}const ru="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ld(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ru.length;s++)n=ru[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ts(t){this.src=t,this.g={},this.h=0}Ts.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ho(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new cE(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function qo(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=id(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Es(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ho(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Da="closure_lm_"+(1e6*Math.random()|0),vo={};function ud(t,e,n,r,i){if(r&&r.once)return dd(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ud(t,e[s],n,r,i);return null}return n=La(n),t&&t[Yr]?t.O(e,n,Jr(r)?!!r.capture:!!r,i):hd(t,e,n,!1,r,i)}function hd(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Jr(i)?!!i.capture:!!i,l=Va(t);if(l||(t[Da]=l=new Ts(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=uE(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tE||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pd(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uE(){function t(n){return e.call(t.src,t.listener,n)}const e=hE;return t}function dd(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dd(t,e[s],n,r,i);return null}return n=La(n),t&&t[Yr]?t.P(e,n,Jr(r)?!!r.capture:!!r,i):hd(t,e,n,!0,r,i)}function fd(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)fd(t,e[s],n,r,i);else r=Jr(r)?!!r.capture:!!r,n=La(n),t&&t[Yr]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ho(s,n,r,i),-1<n&&(Es(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Va(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ho(e,n,r,i)),(n=-1<t?e[t]:null)&&Oa(n))}function Oa(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yr])qo(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pd(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Va(e))?(qo(n,t),n.h==0&&(n.src=null,e[Da]=null)):Es(t)}}}function pd(t){return t in vo?vo[t]:vo[t]="on"+t}function hE(t,e){if(t.fa)t=!0;else{e=new Rr(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Oa(t),t=n.call(r,e)}return t}function Va(t){return t=t[Da],t instanceof Ts?t:null}var Eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(t){return typeof t=="function"?t:(t[Eo]||(t[Eo]=function(e){return t.handleEvent(e)}),t[Eo])}function we(){Bt.call(this),this.i=new Ts(this),this.S=this,this.J=null}_e(we,Bt);we.prototype[Yr]=!0;we.prototype.removeEventListener=function(t,e,n,r){fd(this,t,e,n,r)};function Ce(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new De(e,t);else if(e instanceof De)e.target=e.target||t;else{var i=e;e=new De(r,t),ld(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=bi(o,r,!0,e)&&i}if(o=e.g=t,i=bi(o,r,!0,e)&&i,i=bi(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=bi(o,r,!1,e)&&i}we.prototype.N=function(){if(we.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Es(n[r]);delete t.g[e],t.h--}}this.J=null};we.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};we.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function bi(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,u=o.la||o.src;o.ia&&qo(t.i,o),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ma=V.JSON.stringify;class dE{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fE(){var t=Fa;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pE{constructor(){this.h=this.g=null}add(e,n){const r=md.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var md=new dE(()=>new mE,t=>t.reset());class mE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gE(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yE(t){V.setTimeout(()=>{throw t},0)}let Sr,Pr=!1,Fa=new pE,gd=()=>{const t=V.Promise.resolve(void 0);Sr=()=>{t.then(wE)}};var wE=()=>{for(var t;t=fE();){try{t.h.call(t.g)}catch(n){yE(n)}var e=md;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pr=!1};function bs(t,e){we.call(this),this.h=t||1,this.g=e||V,this.j=Ne(this.qb,this),this.l=Date.now()}_e(bs,we);A=bs.prototype;A.ga=!1;A.T=null;A.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ce(this,"tick"),this.ga&&(Ua(this),this.start()))}};A.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ua(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}A.N=function(){bs.$.N.call(this),Ua(this),delete this.g};function Ba(t,e,n){if(typeof t=="function")n&&(t=Ne(t,n));else if(t&&typeof t.handleEvent=="function")t=Ne(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:V.setTimeout(t,e||0)}function yd(t){t.g=Ba(()=>{t.g=null,t.i&&(t.i=!1,yd(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class _E extends Bt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yd(this)}N(){super.N(),this.g&&(V.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(t){Bt.call(this),this.h=t,this.g={}}_e(kr,Bt);var iu=[];function wd(t,e,n,r){Array.isArray(n)||(n&&(iu[0]=n.toString()),n=iu);for(var i=0;i<n.length;i++){var s=ud(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _d(t){Na(t.g,function(e,n){this.g.hasOwnProperty(n)&&Oa(e)},t),t.g={}}kr.prototype.N=function(){kr.$.N.call(this),_d(this)};kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Is(){this.g=!0}Is.prototype.Ea=function(){this.g=!1};function vE(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),u=0;u<l.length;u++){var d=l[u].split("=");if(1<d.length){var f=d[0];d=d[1];var g=f.split("_");o=2<=g.length&&g[1]=="type"?o+(f+"="+d+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function EE(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Rn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bE(t,n)+(r?" "+r:"")})}function TE(t,e){t.info(function(){return"TIMEOUT: "+e})}Is.prototype.info=function(){};function bE(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ma(n)}catch{return e}}var hn={},su=null;function As(){return su=su||new we}hn.Ta="serverreachability";function vd(t){De.call(this,hn.Ta,t)}_e(vd,De);function xr(t){const e=As();Ce(e,new vd(e))}hn.STAT_EVENT="statevent";function Ed(t,e){De.call(this,hn.STAT_EVENT,t),this.stat=e}_e(Ed,De);function Le(t){const e=As();Ce(e,new Ed(e,t))}hn.Ua="timingevent";function Td(t,e){De.call(this,hn.Ua,t),this.size=e}_e(Td,De);function Xr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return V.setTimeout(function(){t()},e)}var Cs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ja(){}ja.prototype.h=null;function ou(t){return t.h||(t.h=t.i())}function Id(){}var Zr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function za(){De.call(this,"d")}_e(za,De);function qa(){De.call(this,"c")}_e(qa,De);var $o;function Rs(){}_e(Rs,ja);Rs.prototype.g=function(){return new XMLHttpRequest};Rs.prototype.i=function(){return{}};$o=new Rs;function ei(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new kr(this),this.P=IE,t=Bo?125:void 0,this.V=new bs(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ad}function Ad(){this.i=null,this.g="",this.h=!1}var IE=45e3,Wo={},Ji={};A=ei.prototype;A.setTimeout=function(t){this.P=t};function Ko(t,e,n){t.L=1,t.v=Ps(_t(e)),t.s=n,t.S=!0,Cd(t,null)}function Cd(t,e){t.G=Date.now(),ti(t),t.A=_t(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Od(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Ad,t.g=tf(t.l,n?e:null,!t.s),0<t.O&&(t.M=new _E(Ne(t.Pa,t,t.g),t.O)),wd(t.U,t.g,"readystatechange",t.nb),e=t.I?cd(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),xr(),vE(t.j,t.u,t.A,t.m,t.W,t.s)}A.nb=function(t){t=t.target;const e=this.M;e&&tt(t)==3?e.l():this.Pa(t)};A.Pa=function(t){try{if(t==this.g)e:{const f=tt(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>f)&&(f!=3||Bo||this.g&&(this.h.h||this.g.ja()||uu(this.g)))){this.J||f!=4||e==7||(e==8||0>=g?xr(3):xr(2)),Ss(this);var n=this.g.da();this.ca=n;t:if(Rd(this)){var r=uu(this.g);t="";var i=r.length,s=tt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),gr(this);var o="";break t}this.h.i=new V.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,EE(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cr(l)){var d=l;break t}}d=null}if(n=d)Rn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Go(this,n);else{this.i=!1,this.o=3,Le(12),Qt(this),gr(this);break e}}this.S?(Sd(this,f,o),Bo&&this.i&&f==3&&(wd(this.U,this.V,"tick",this.mb),this.V.start())):(Rn(this.j,this.m,o,null),Go(this,o)),f==4&&Qt(this),this.i&&!this.J&&(f==4?Yd(this.l,this):(this.i=!1,ti(this)))}else $E(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Le(12)):(this.o=0,Le(13)),Qt(this),gr(this)}}}catch{}finally{}};function Rd(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Sd(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=AE(t,n),i==Ji){e==4&&(t.o=4,Le(14),r=!1),Rn(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Wo){t.o=4,Le(15),Rn(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Rn(t.j,t.m,i,null),Go(t,i);Rd(t)&&i!=Ji&&i!=Wo&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Le(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qa(e),e.M=!0,Le(11))):(Rn(t.j,t.m,n,"[Invalid Chunked Response]"),Qt(t),gr(t))}A.mb=function(){if(this.g){var t=tt(this.g),e=this.g.ja();this.C<e.length&&(Ss(this),Sd(this,t,e),this.i&&t!=4&&ti(this))}};function AE(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ji:(n=Number(e.substring(n,r)),isNaN(n)?Wo:(r+=1,r+n>e.length?Ji:(e=e.slice(r,r+n),t.C=r+n,e)))}A.cancel=function(){this.J=!0,Qt(this)};function ti(t){t.Y=Date.now()+t.P,Pd(t,t.P)}function Pd(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Xr(Ne(t.lb,t),e)}function Ss(t){t.B&&(V.clearTimeout(t.B),t.B=null)}A.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(TE(this.j,this.A),this.L!=2&&(xr(),Le(17)),Qt(this),this.o=2,gr(this)):Pd(this,this.Y-t)};function gr(t){t.l.H==0||t.J||Yd(t.l,t)}function Qt(t){Ss(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ua(t.V),_d(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Go(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Qo(n.i,t))){if(!t.K&&Qo(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zi(n),Ns(n);else break e;Ga(n),Le(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Xr(Ne(n.ib,n),6e3));if(1>=Md(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Jt(n,11)}else if((t.K||n.g==t)&&Zi(n),!Cr(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const f=d[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const g=d[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const w=d[5];w!=null&&typeof w=="number"&&0<w&&(r=1.5*w,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ha(s,s.h),s.h=null))}if(r.F){const m=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,X(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ef(r,r.J?r.pa:null,r.Y),o.K){Fd(r.i,o);var l=o,u=r.L;u&&l.setTimeout(u),l.B&&(Ss(l),ti(l)),r.g=o}else Qd(r);0<n.j.length&&Ds(n)}else d[0]!="stop"&&d[0]!="close"||Jt(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Jt(n,7):Ka(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}xr(4)}catch{}}function CE(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RE(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_s(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function kd(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_s(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RE(t),r=CE(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var xd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SE(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zt(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zt){this.h=t.h,Yi(this,t.j),this.s=t.s,this.g=t.g,Xi(this,t.m),this.l=t.l;var e=t.i,n=new Nr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),au(this,n),this.o=t.o}else t&&(e=String(t).match(xd))?(this.h=!1,Yi(this,e[1]||"",!0),this.s=hr(e[2]||""),this.g=hr(e[3]||"",!0),Xi(this,e[4]),this.l=hr(e[5]||"",!0),au(this,e[6]||"",!0),this.o=hr(e[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Zt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dr(e,cu,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dr(e,cu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dr(n,n.charAt(0)=="/"?xE:kE,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dr(n,DE)),t.join("")};function _t(t){return new Zt(t)}function Yi(t,e,n){t.j=n?hr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function au(t,e,n){e instanceof Nr?(t.i=e,OE(t.i,t.h)):(n||(e=dr(e,NE)),t.i=new Nr(e,t.h))}function X(t,e,n){t.i.set(e,n)}function Ps(t){return X(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,PE),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PE(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var cu=/[#\/\?@]/g,kE=/[#\?:]/g,xE=/[#\?]/g,NE=/[#\?@]/g,DE=/#/g;function Nr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jt(t){t.g||(t.g=new Map,t.h=0,t.i&&SE(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}A=Nr.prototype;A.add=function(t,e){jt(this),this.i=null,t=Wn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Nd(t,e){jt(t),e=Wn(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Dd(t,e){return jt(t),e=Wn(t,e),t.g.has(e)}A.forEach=function(t,e){jt(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};A.ta=function(){jt(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};A.Z=function(t){jt(this);let e=[];if(typeof t=="string")Dd(this,t)&&(e=e.concat(this.g.get(Wn(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};A.set=function(t,e){return jt(this),this.i=null,t=Wn(this,t),Dd(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};A.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Od(t,e,n){Nd(t,e),0<n.length&&(t.i=null,t.g.set(Wn(t,e),ka(n)),t.h+=n.length)}A.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Wn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OE(t,e){e&&!t.j&&(jt(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Nd(this,r),Od(this,i,n))},t)),t.j=e}var VE=class{constructor(t,e){this.g=t,this.map=e}};function Vd(t){this.l=t||LE,V.PerformanceNavigationTiming?(t=V.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(V.g&&V.g.Ka&&V.g.Ka()&&V.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LE=10;function Ld(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Md(t){return t.h?1:t.g?t.g.size:0}function Qo(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ha(t,e){t.g?t.g.add(e):t.h=e}function Fd(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Vd.prototype.cancel=function(){if(this.i=Ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ud(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ka(t.i)}var ME=class{stringify(t){return V.JSON.stringify(t,void 0)}parse(t){return V.JSON.parse(t,void 0)}};function FE(){this.g=new ME}function UE(t,e,n){const r=n||"";try{kd(t,function(i,s){let o=i;Jr(i)&&(o=Ma(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BE(t,e){const n=new Is;if(V.Image){const r=new Image;r.onload=Ti(Ii,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ti(Ii,n,r,"TestLoadImage: error",!1,e),r.onabort=Ti(Ii,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ti(Ii,n,r,"TestLoadImage: timeout",!1,e),V.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ii(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ni(t){this.l=t.ec||null,this.j=t.ob||!1}_e(ni,ja);ni.prototype.g=function(){return new ks(this.l,this.j)};ni.prototype.i=function(t){return function(){return t}}({});function ks(t,e){we.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_e(ks,we);var $a=0;A=ks.prototype;A.open=function(t,e){if(this.readyState!=$a)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dr(this)};A.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||V).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};A.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=$a};A.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof V.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bd(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Bd(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}A.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ri(this):Dr(this),this.readyState==3&&Bd(this)}};A.Za=function(t){this.g&&(this.response=this.responseText=t,ri(this))};A.Ya=function(t){this.g&&(this.response=t,ri(this))};A.ka=function(){this.g&&ri(this)};function ri(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dr(t)}A.setRequestHeader=function(t,e){this.v.append(t,e)};A.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};A.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Dr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jE=V.JSON.parse;function ae(t){we.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jd,this.L=this.M=!1}_e(ae,we);var jd="",zE=/^https?$/i,qE=["POST","PUT"];A=ae.prototype;A.Oa=function(t){this.M=t};A.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$o.g(),this.C=this.u?ou(this.u):ou($o),this.g.onreadystatechange=Ne(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){lu(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=V.FormData&&t instanceof V.FormData,!(0<=id(qE,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hd(this),0<this.B&&((this.L=HE(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.ua,this)):this.A=Ba(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lu(this,s)}};function HE(t){return Vn&&typeof t.timeout=="number"&&t.ontimeout!==void 0}A.ua=function(){typeof Pa<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))};function lu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zd(t),xs(t)}function zd(t){t.F||(t.F=!0,Ce(t,"complete"),Ce(t,"error"))}A.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ce(this,"complete"),Ce(this,"abort"),xs(this))};A.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xs(this,!0)),ae.$.N.call(this)};A.La=function(){this.s||(this.G||this.v||this.l?qd(this):this.kb())};A.kb=function(){qd(this)};function qd(t){if(t.h&&typeof Pa<"u"&&(!t.C[1]||tt(t)!=4||t.da()!=2)){if(t.v&&tt(t)==4)Ba(t.La,0,t);else if(Ce(t,"readystatechange"),tt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(xd)[1]||null;!i&&V.self&&V.self.location&&(i=V.self.location.protocol.slice(0,-1)),r=!zE.test(i?i.toLowerCase():"")}n=r}if(n)Ce(t,"complete"),Ce(t,"success");else{t.m=6;try{var s=2<tt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",zd(t)}}finally{xs(t)}}}}function xs(t,e){if(t.g){Hd(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ce(t,"ready");try{n.onreadystatechange=r}catch{}}}function Hd(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(V.clearTimeout(t.A),t.A=null)}A.isActive=function(){return!!this.g};function tt(t){return t.g?t.g.readyState:0}A.da=function(){try{return 2<tt(this)?this.g.status:-1}catch{return-1}};A.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};A.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jE(e)}};function uu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jd:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $E(t){const e={};t=(t.g&&2<=tt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Cr(t[r]))continue;var n=gE(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}lE(e,function(r){return r.join(", ")})}A.Ia=function(){return this.m};A.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function $d(t){let e="";return Na(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wa(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$d(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):X(t,e,n))}function or(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wd(t){this.Ga=0,this.j=[],this.l=new Is,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=or("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=or("baseRetryDelayMs",5e3,t),this.hb=or("retryDelaySeedMs",1e4,t),this.eb=or("forwardChannelMaxRetries",2,t),this.xa=or("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Vd(t&&t.concurrentRequestLimit),this.Ja=new FE,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}A=Wd.prototype;A.ra=8;A.H=1;function Ka(t){if(Kd(t),t.H==3){var e=t.W++,n=_t(t.I);if(X(n,"SID",t.K),X(n,"RID",e),X(n,"TYPE","terminate"),ii(t,n),e=new ei(t,t.l,e),e.L=2,e.v=Ps(_t(n)),n=!1,V.navigator&&V.navigator.sendBeacon)try{n=V.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&V.Image&&(new Image().src=e.v,n=!0),n||(e.g=tf(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ti(e)}Zd(t)}function Ns(t){t.g&&(Qa(t),t.g.cancel(),t.g=null)}function Kd(t){Ns(t),t.u&&(V.clearTimeout(t.u),t.u=null),Zi(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&V.clearTimeout(t.m),t.m=null)}function Ds(t){if(!Ld(t.i)&&!t.m){t.m=!0;var e=t.Na;Sr||gd(),Pr||(Sr(),Pr=!0),Fa.add(e,t),t.C=0}}function WE(t,e){return Md(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Xr(Ne(t.Na,t,e),Xd(t,t.C)),t.C++,!0)}A.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ei(this,this.l,t);let s=this.s;if(this.U&&(s?(s=cd(s),ld(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gd(this,i,e),n=_t(this.I),X(n,"RID",t),X(n,"CVER",22),this.F&&X(n,"X-HTTP-Session-Id",this.F),ii(this,n),s&&(this.O?e="headers="+encodeURIComponent(String($d(s)))+"&"+e:this.o&&Wa(n,this.o,s)),Ha(this.i,i),this.bb&&X(n,"TYPE","init"),this.P?(X(n,"$req",e),X(n,"SID","null"),i.aa=!0,Ko(i,n,null)):Ko(i,n,e),this.H=2}}else this.H==3&&(t?hu(this,t):this.j.length==0||Ld(this.i)||hu(this))};function hu(t,e){var n;e?n=e.m:n=t.W++;const r=_t(t.I);X(r,"SID",t.K),X(r,"RID",n),X(r,"AID",t.V),ii(t,r),t.o&&t.s&&Wa(r,t.o,t.s),n=new ei(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Gd(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ha(t.i,n),Ko(n,r,e)}function ii(t,e){t.na&&Na(t.na,function(n,r){X(e,r,n)}),t.h&&kd({},function(n,r){X(e,r,n)})}function Gd(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ne(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let u=0;u<n;u++){let d=i[u].g;const f=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),l=!1;else try{UE(f,o,"req"+d+"_")}catch{r&&r(f)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Qd(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sr||gd(),Pr||(Sr(),Pr=!0),Fa.add(e,t),t.A=0}}function Ga(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Xr(Ne(t.Ma,t),Xd(t,t.A)),t.A++,!0)}A.Ma=function(){if(this.u=null,Jd(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xr(Ne(this.jb,this),t)}};A.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Le(10),Ns(this),Jd(this))};function Qa(t){t.B!=null&&(V.clearTimeout(t.B),t.B=null)}function Jd(t){t.g=new ei(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=_t(t.wa);X(e,"RID","rpc"),X(e,"SID",t.K),X(e,"AID",t.V),X(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&X(e,"TO",t.qa),X(e,"TYPE","xmlhttp"),ii(t,e),t.o&&t.s&&Wa(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ps(_t(e)),n.s=null,n.S=!0,Cd(n,t)}A.ib=function(){this.v!=null&&(this.v=null,Ns(this),Ga(this),Le(19))};function Zi(t){t.v!=null&&(V.clearTimeout(t.v),t.v=null)}function Yd(t,e){var n=null;if(t.g==e){Zi(t),Qa(t),t.g=null;var r=2}else if(Qo(t.i,e))n=e.F,Fd(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=As(),Ce(r,new Td(r,n)),Ds(t)}else Qd(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&WE(t,e)||r==2&&Ga(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Jt(t,5);break;case 4:Jt(t,10);break;case 3:Jt(t,6);break;default:Jt(t,2)}}}function Xd(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Jt(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ne(t.pb,t);n||(n=new Zt("//www.google.com/images/cleardot.gif"),V.location&&V.location.protocol=="http"||Yi(n,"https"),Ps(n)),BE(n.toString(),r)}else Le(2);t.H=0,t.h&&t.h.za(e),Zd(t),Kd(t)}A.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Le(2)):(this.l.info("Failed to ping google.com"),Le(1))};function Zd(t){if(t.H=0,t.ma=[],t.h){const e=Ud(t.i);(e.length!=0||t.j.length!=0)&&(tu(t.ma,e),tu(t.ma,t.j),t.i.i.length=0,ka(t.j),t.j.length=0),t.h.ya()}}function ef(t,e,n){var r=n instanceof Zt?_t(n):new Zt(n);if(r.g!="")e&&(r.g=e+"."+r.g),Xi(r,r.m);else{var i=V.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zt(null);r&&Yi(s,r),e&&(s.g=e),i&&Xi(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&X(r,n,e),X(r,"VER",t.ra),ii(t,r),r}function tf(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ae(new ni({ob:!0})):new ae(t.va),e.Oa(t.J),e}A.isActive=function(){return!!this.h&&this.h.isActive(this)};function nf(){}A=nf.prototype;A.Ba=function(){};A.Aa=function(){};A.za=function(){};A.ya=function(){};A.isActive=function(){return!0};A.Va=function(){};function es(){if(Vn&&!(10<=Number(sE)))throw Error("Environmental error: no available transport.")}es.prototype.g=function(t,e){return new Be(t,e)};function Be(t,e){we.call(this),this.g=new Wd(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cr(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Kn(this)}_e(Be,we);Be.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Le(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ef(t,null,t.Y),Ds(t)};Be.prototype.close=function(){Ka(this.g)};Be.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ma(t),t=n);e.j.push(new VE(e.fb++,t)),e.H==3&&Ds(e)};Be.prototype.N=function(){this.g.h=null,delete this.j,Ka(this.g),delete this.g,Be.$.N.call(this)};function rf(t){za.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_e(rf,za);function sf(){qa.call(this),this.status=1}_e(sf,qa);function Kn(t){this.g=t}_e(Kn,nf);Kn.prototype.Ba=function(){Ce(this.g,"a")};Kn.prototype.Aa=function(t){Ce(this.g,new rf(t))};Kn.prototype.za=function(t){Ce(this.g,new sf)};Kn.prototype.ya=function(){Ce(this.g,"b")};function KE(){this.blockSize=-1}function Qe(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_e(Qe,KE);Qe.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function To(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Qe.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)To(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){To(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){To(this,r),i=0;break}}this.h=i,this.i+=e};Qe.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function G(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var GE={};function Ja(t){return-128<=t&&128>t?nE(t,function(e){return new G([e|0],0>e?-1:0)}):new G([t|0],0>t?-1:0)}function nt(t){if(isNaN(t)||!isFinite(t))return kn;if(0>t)return Ie(nt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Jo;return new G(e,0)}function of(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ie(of(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=nt(Math.pow(e,8)),r=kn,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=nt(Math.pow(e,s)),r=r.R(s).add(nt(o))):(r=r.R(n),r=r.add(nt(o)))}return r}var Jo=4294967296,kn=Ja(0),Yo=Ja(1),du=Ja(16777216);A=G.prototype;A.ea=function(){if(ze(this))return-Ie(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Jo+r)*e,e*=Jo}return t};A.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(mt(this))return"0";if(ze(this))return"-"+Ie(this).toString(t);for(var e=nt(Math.pow(t,6)),n=this,r="";;){var i=ns(n,e).g;n=ts(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,mt(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};A.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function mt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ze(t){return t.h==-1}A.X=function(t){return t=ts(this,t),ze(t)?-1:mt(t)?0:1};function Ie(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new G(n,~t.h).add(Yo)}A.abs=function(){return ze(this)?Ie(this):this};A.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new G(n,n[n.length-1]&-2147483648?-1:0)};function ts(t,e){return t.add(Ie(e))}A.R=function(t){if(mt(this)||mt(t))return kn;if(ze(this))return ze(t)?Ie(this).R(Ie(t)):Ie(Ie(this).R(t));if(ze(t))return Ie(this.R(Ie(t)));if(0>this.X(du)&&0>t.X(du))return nt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Ai(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Ai(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Ai(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Ai(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new G(n,0)};function Ai(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ar(t,e){this.g=t,this.h=e}function ns(t,e){if(mt(e))throw Error("division by zero");if(mt(t))return new ar(kn,kn);if(ze(t))return e=ns(Ie(t),e),new ar(Ie(e.g),Ie(e.h));if(ze(e))return e=ns(t,Ie(e)),new ar(Ie(e.g),e.h);if(30<t.g.length){if(ze(t)||ze(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yo,r=e;0>=r.X(t);)n=fu(n),r=fu(r);var i=Tn(n,1),s=Tn(r,1);for(r=Tn(r,2),n=Tn(n,2);!mt(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Tn(r,1),n=Tn(n,1)}return e=ts(t,i.R(e)),new ar(i,e)}for(i=kn;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=nt(n),o=s.R(e);ze(o)||0<o.X(t);)n-=r,s=nt(n),o=s.R(e);mt(s)&&(s=Yo),i=i.add(s),t=ts(t,o)}return new ar(i,t)}A.gb=function(t){return ns(this,t).h};A.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new G(n,this.h&t.h)};A.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new G(n,this.h|t.h)};A.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new G(n,this.h^t.h)};function fu(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new G(n,t.h)}function Tn(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new G(i,t.h)}es.prototype.createWebChannel=es.prototype.g;Be.prototype.send=Be.prototype.u;Be.prototype.open=Be.prototype.m;Be.prototype.close=Be.prototype.close;Cs.NO_ERROR=0;Cs.TIMEOUT=8;Cs.HTTP_ERROR=6;bd.COMPLETE="complete";Id.EventType=Zr;Zr.OPEN="a";Zr.CLOSE="b";Zr.ERROR="c";Zr.MESSAGE="d";we.prototype.listen=we.prototype.O;ae.prototype.listenOnce=ae.prototype.P;ae.prototype.getLastError=ae.prototype.Sa;ae.prototype.getLastErrorCode=ae.prototype.Ia;ae.prototype.getStatus=ae.prototype.da;ae.prototype.getResponseJson=ae.prototype.Wa;ae.prototype.getResponseText=ae.prototype.ja;ae.prototype.send=ae.prototype.ha;ae.prototype.setWithCredentials=ae.prototype.Oa;Qe.prototype.digest=Qe.prototype.l;Qe.prototype.reset=Qe.prototype.reset;Qe.prototype.update=Qe.prototype.j;G.prototype.add=G.prototype.add;G.prototype.multiply=G.prototype.R;G.prototype.modulo=G.prototype.gb;G.prototype.compare=G.prototype.X;G.prototype.toNumber=G.prototype.ea;G.prototype.toString=G.prototype.toString;G.prototype.getBits=G.prototype.D;G.fromNumber=nt;G.fromString=of;var QE=function(){return new es},JE=function(){return As()},bo=Cs,YE=bd,XE=hn,pu={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZE=ni,Ci=Id,eT=ae,tT=Qe,xn=G;const mu="@firebase/firestore";class ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");let Gn="10.5.2";const sn=new ya("@firebase/firestore");function cr(){return sn.logLevel}function S(t,...e){if(sn.logLevel<=j.DEBUG){const n=e.map(Ya);sn.debug(`Firestore (${Gn}): ${t}`,...n)}}function vt(t,...e){if(sn.logLevel<=j.ERROR){const n=e.map(Ya);sn.error(`Firestore (${Gn}): ${t}`,...n)}}function Ln(t,...e){if(sn.logLevel<=j.WARN){const n=e.map(Ya);sn.warn(`Firestore (${Gn}): ${t}`,...n)}}function Ya(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${Gn}) INTERNAL ASSERTION FAILED: `+t;throw vt(e),new Error(e)}function Z(t,e){t||L()}function F(t,e){return t}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Tt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class af{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ke.UNAUTHENTICATED))}shutdown(){}}class rT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iT{constructor(e){this.t=e,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new af(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new ke(e)}}class sT{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oT{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.R=n.token,new aT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class cf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function Mn(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class M{constructor(e){this.timestamp=e}static fromTimestamp(e){return new M(e)}static min(){return new M(new me(0,0))}static max(){return new M(new me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Or{constructor(e,n,r){n===void 0?n=0:n>e.length&&L(),r===void 0?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class oe extends Or{construct(e,n,r){return new oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new oe(n)}static emptyPath(){return new oe([])}}const uT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends Or{construct(e,n,r){return new Ae(e,n,r)}static isValidIdentifier(e){return uT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ae(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new D(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new D(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new D(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new D(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ae(n)}static emptyPath(){return new Ae([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(oe.fromString(e))}static fromName(e){return new N(oe.fromString(e).popFirst(5))}static empty(){return new N(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new oe(e.slice()))}}function hT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=M.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Mt(i,N.empty(),e)}function dT(t){return new Mt(t.readTime,t.key,-1)}class Mt{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mt(M.min(),N.empty(),-1)}static max(){return new Mt(M.max(),N.empty(),-1)}}function fT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=N.comparator(t.documentKey,e.documentKey),n!==0?n:K(t.largestBatchId,e.largestBatchId))}const pT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function si(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==pT)throw t;S("LocalStore","Unexpectedly lost primary lease")}class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new T((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new T((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function oi(t){return t.name==="IndexedDbTransactionError"}class Xa{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Xa._e=-1;function Os(t){return t==null}function rs(t){return t===0&&1/t==-1/0}function gT(t){return typeof t=="number"&&Number.isInteger(t)&&!rs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function gu(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ie{constructor(e,n){this.comparator=e,this.root=n||be.EMPTY}insert(e,n){return new ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,be.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ri(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ri(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ri(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ri(this.root,e,this.comparator,!0)}}class Ri{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class be{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??be.RED,this.left=i??be.EMPTY,this.right=s??be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new be(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return be.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}be.EMPTY=null,be.RED=!0,be.BLACK=!1;be.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,n,r,i,s){return this}insert(e,n,r){return new be(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yu(this.data.getIterator())}getIteratorFrom(e){return new yu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class yu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ke{constructor(e){this.fields=e,e.sort(Ae.comparator)}static empty(){return new Ke([])}unionWith(e){let n=new Re(Ae.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ke(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mn(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class uf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ve{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uf("Invalid base64 string: "+s):s}}(e);return new Ve(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ve(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ve.EMPTY_BYTE_STRING=new Ve("");const yT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ft(t){if(Z(!!t),typeof t=="string"){let e=0;const n=yT.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(t.seconds),nanos:de(t.nanos)}}function de(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function on(t){return typeof t=="string"?Ve.fromBase64String(t):Ve.fromUint8Array(t)}function Za(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ec(t){const e=t.mapValue.fields.__previous_value__;return Za(e)?ec(e):e}function Vr(t){const e=Ft(t.mapValue.fields.__local_write_time__.timestampValue);return new me(e.seconds,e.nanos)}class wT{constructor(e,n,r,i,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Lr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lr&&e.projectId===this.projectId&&e.database===this.database}}const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function an(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Za(t)?4:_T(t)?9007199254740991:10:L()}function at(t,e){if(t===e)return!0;const n=an(t);if(n!==an(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vr(t).isEqual(Vr(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ft(i.timestampValue),l=Ft(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return on(i.bytesValue).isEqual(on(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return de(i.geoPointValue.latitude)===de(s.geoPointValue.latitude)&&de(i.geoPointValue.longitude)===de(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return de(i.integerValue)===de(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=de(i.doubleValue),l=de(s.doubleValue);return o===l?rs(o)===rs(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Mn(t.arrayValue.values||[],e.arrayValue.values||[],at);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(gu(o)!==gu(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!at(o[u],l[u])))return!1;return!0}(t,e);default:return L()}}function Mr(t,e){return(t.values||[]).find(n=>at(n,e))!==void 0}function Fn(t,e){if(t===e)return 0;const n=an(t),r=an(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=de(s.integerValue||s.doubleValue),u=de(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return wu(t.timestampValue,e.timestampValue);case 4:return wu(Vr(t),Vr(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(s,o){const l=on(s),u=on(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=K(l[d],u[d]);if(f!==0)return f}return K(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=K(de(s.latitude),de(o.latitude));return l!==0?l:K(de(s.longitude),de(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let d=0;d<l.length&&d<u.length;++d){const f=Fn(l[d],u[d]);if(f)return f}return K(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Si.mapValue&&o===Si.mapValue)return 0;if(s===Si.mapValue)return 1;if(o===Si.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const w=K(u[g],f[g]);if(w!==0)return w;const y=Fn(l[u[g]],d[f[g]]);if(y!==0)return y}return K(u.length,f.length)}(t.mapValue,e.mapValue);default:throw L()}}function wu(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return K(t,e);const n=Ft(t),r=Ft(e),i=K(n.seconds,r.seconds);return i!==0?i:K(n.nanos,r.nanos)}function Un(t){return Xo(t)}function Xo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ft(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return on(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return N.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xo(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xo(n.fields[o])}`;return i+"}"}(t.mapValue):L()}function Zo(t){return!!t&&"integerValue"in t}function tc(t){return!!t&&"arrayValue"in t}function _u(t){return!!t&&"nullValue"in t}function vu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fi(t){return!!t&&"mapValue"in t}function yr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qn(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yr(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _T(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class qe{constructor(e){this.value=e}static empty(){return new qe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fi(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yr(n)}setAll(e){let n=Ae.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=yr(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fi(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return at(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fi(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qn(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qe(yr(this.value))}}function hf(t){const e=[];return Qn(t.fields,(n,r)=>{const i=new Ae([n]);if(Fi(r)){const s=hf(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ke(e)}class xe{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new xe(e,0,M.min(),M.min(),M.min(),qe.empty(),0)}static newFoundDocument(e,n,r,i){return new xe(e,1,n,M.min(),r,i,0)}static newNoDocument(e,n){return new xe(e,2,n,M.min(),M.min(),qe.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,M.min(),M.min(),qe.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(M.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=M.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class is{constructor(e,n){this.position=e,this.inclusive=n}}function Eu(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=N.comparator(N.fromName(o.referenceValue),n.key):r=Fn(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tu(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!at(t.position[n],e.position[n]))return!1;return!0}class ss{constructor(e,n="asc"){this.field=e,this.dir=n}}function vT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class df{}class pe extends df{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TT(e,n,r):n==="array-contains"?new AT(e,r):n==="in"?new CT(e,r):n==="not-in"?new RT(e,r):n==="array-contains-any"?new ST(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bT(e,r):new IT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fn(n,this.value)):n!==null&&an(this.value)===an(n)&&this.matchesComparison(Fn(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ct extends df{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ct(e,n)}matches(e){return ff(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ff(t){return t.op==="and"}function pf(t){return ET(t)&&ff(t)}function ET(t){for(const e of t.filters)if(e instanceof ct)return!1;return!0}function ea(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+Un(t.value);if(pf(t))return t.filters.map(e=>ea(e)).join(",");{const e=t.filters.map(n=>ea(n)).join(",");return`${t.op}(${e})`}}function mf(t,e){return t instanceof pe?function(r,i){return i instanceof pe&&r.op===i.op&&r.field.isEqual(i.field)&&at(r.value,i.value)}(t,e):t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&mf(o,i.filters[l]),!0):!1}(t,e):void L()}function gf(t){return t instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Un(n.value)}`}(t):t instanceof ct?function(n){return n.op.toString()+" {"+n.getFilters().map(gf).join(" ,")+"}"}(t):"Filter"}class TT extends pe{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){const n=N.comparator(e.key,this.key);return this.matchesComparison(n)}}class bT extends pe{constructor(e,n){super(e,"in",n),this.keys=yf("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IT extends pe{constructor(e,n){super(e,"not-in",n),this.keys=yf("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yf(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}class AT extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tc(n)&&Mr(n.arrayValue,this.value)}}class CT extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mr(this.value.arrayValue,n)}}class RT extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mr(this.value.arrayValue,n)}}class ST extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mr(this.value.arrayValue,r))}}class PT{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ce=null}}function bu(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PT(t,e,n,r,i,s,o)}function nc(t){const e=F(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ea(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Os(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Un(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Un(r)).join(",")),e.ce=n}return e.ce}function rc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mf(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tu(t.startAt,e.startAt)&&Tu(t.endAt,e.endAt)}function ta(t){return N.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Vs{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kT(t,e,n,r,i,s,o,l){return new Vs(t,e,n,r,i,s,o,l)}function ic(t){return new Vs(t)}function Iu(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xT(t){return t.collectionGroup!==null}function wr(t){const e=F(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Re(Ae.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ss(s,r))}),n.has(Ae.keyField().canonicalString())||e.le.push(new ss(Ae.keyField(),r))}return e.le}function st(t){const e=F(t);return e.he||(e.he=NT(e,wr(t))),e.he}function NT(t,e){if(t.limitType==="F")return bu(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ss(i.field,s)});const n=t.endAt?new is(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new is(t.startAt.position,t.startAt.inclusive):null;return bu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function na(t,e,n){return new Vs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ls(t,e){return rc(st(t),st(e))&&t.limitType===e.limitType}function wf(t){return`${nc(st(t))}|lt:${t.limitType}`}function bn(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gf(i)).join(", ")}]`),Os(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Un(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Un(i)).join(",")),`Target(${r})`}(st(t))}; limitType=${t.limitType})`}function Ms(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):N.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wr(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const d=Eu(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,wr(r),i)||r.endAt&&!function(o,l,u){const d=Eu(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,wr(r),i))}(t,e)}function DT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _f(t){return(e,n)=>{let r=!1;for(const i of wr(t)){const s=OT(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function OT(t,e,n){const r=t.field.isKeyField()?N.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Fn(u,d):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class Jn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qn(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lf(this.inner)}size(){return this.innerSize}}const VT=new ie(N.comparator);function Et(){return VT}const vf=new ie(N.comparator);function fr(...t){let e=vf;for(const n of t)e=e.insert(n.key,n);return e}function Ef(t){let e=vf;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yt(){return _r()}function Tf(){return _r()}function _r(){return new Jn(t=>t.toString(),(t,e)=>t.isEqual(e))}const LT=new ie(N.comparator),MT=new Re(N.comparator);function B(...t){let e=MT;for(const n of t)e=e.add(n);return e}const FT=new Re(K);function UT(){return FT}function bf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rs(e)?"-0":e}}function If(t){return{integerValue:""+t}}function BT(t,e){return gT(e)?If(e):bf(t,e)}class Fs{constructor(){this._=void 0}}function jT(t,e,n){return t instanceof os?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Za(s)&&(s=ec(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Fr?Cf(t,e):t instanceof Ur?Rf(t,e):function(i,s){const o=Af(i,s),l=Au(o)+Au(i.Ie);return Zo(o)&&Zo(i.Ie)?If(l):bf(i.serializer,l)}(t,e)}function zT(t,e,n){return t instanceof Fr?Cf(t,e):t instanceof Ur?Rf(t,e):n}function Af(t,e){return t instanceof as?function(r){return Zo(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class os extends Fs{}class Fr extends Fs{constructor(e){super(),this.elements=e}}function Cf(t,e){const n=Sf(e);for(const r of t.elements)n.some(i=>at(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ur extends Fs{constructor(e){super(),this.elements=e}}function Rf(t,e){let n=Sf(e);for(const r of t.elements)n=n.filter(i=>!at(i,r));return{arrayValue:{values:n}}}class as extends Fs{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Au(t){return de(t.integerValue||t.doubleValue)}function Sf(t){return tc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qT(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fr&&i instanceof Fr||r instanceof Ur&&i instanceof Ur?Mn(r.elements,i.elements,at):r instanceof as&&i instanceof as?at(r.Ie,i.Ie):r instanceof os&&i instanceof os}(t.transform,e.transform)}class HT{constructor(e,n){this.version=e,this.transformResults=n}}class yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yt}static exists(e){return new yt(void 0,e)}static updateTime(e){return new yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ui(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Us{}function Pf(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xf(t.key,yt.none()):new ai(t.key,t.data,yt.none());{const n=t.data,r=qe.empty();let i=new Re(Ae.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dn(t.key,r,new Ke(i.toArray()),yt.none())}}function $T(t,e,n){t instanceof ai?function(i,s,o){const l=i.value.clone(),u=Ru(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof dn?function(i,s,o){if(!Ui(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Ru(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(kf(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vr(t,e,n,r){return t instanceof ai?function(s,o,l,u){if(!Ui(s.precondition,o))return l;const d=s.value.clone(),f=Su(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof dn?function(s,o,l,u){if(!Ui(s.precondition,o))return l;const d=Su(s.fieldTransforms,u,o),f=o.data;return f.setAll(kf(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,l){return Ui(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function WT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Af(r.transform,i||null);s!=null&&(n===null&&(n=qe.empty()),n.set(r.field,s))}return n||null}function Cu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mn(r,i,(s,o)=>qT(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ai extends Us{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dn extends Us{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kf(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ru(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,zT(o,l,n[i]))}return r}function Su(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jT(s,o,e))}return r}class xf extends Us{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KT extends Us{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$T(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vr(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vr(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Tf();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=Pf(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(M.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),B())}isEqual(e){return this.batchId===e.batchId&&Mn(this.mutations,e.mutations,(n,r)=>Cu(n,r))&&Mn(this.baseMutations,e.baseMutations,(n,r)=>Cu(n,r))}}class sc{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=function(){return LT}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sc(e,n,r,i)}}class QT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JT{constructor(e,n){this.count=e,this.unchangedNames=n}}var he,z;function YT(t){switch(t){default:return L();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function Nf(t){if(t===void 0)return vt("GRPC error has no .code"),b.UNKNOWN;switch(t){case he.OK:return b.OK;case he.CANCELLED:return b.CANCELLED;case he.UNKNOWN:return b.UNKNOWN;case he.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case he.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case he.INTERNAL:return b.INTERNAL;case he.UNAVAILABLE:return b.UNAVAILABLE;case he.UNAUTHENTICATED:return b.UNAUTHENTICATED;case he.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case he.NOT_FOUND:return b.NOT_FOUND;case he.ALREADY_EXISTS:return b.ALREADY_EXISTS;case he.PERMISSION_DENIED:return b.PERMISSION_DENIED;case he.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case he.ABORTED:return b.ABORTED;case he.OUT_OF_RANGE:return b.OUT_OF_RANGE;case he.UNIMPLEMENTED:return b.UNIMPLEMENTED;case he.DATA_LOSS:return b.DATA_LOSS;default:return L()}}(z=he||(he={}))[z.OK=0]="OK",z[z.CANCELLED=1]="CANCELLED",z[z.UNKNOWN=2]="UNKNOWN",z[z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",z[z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",z[z.NOT_FOUND=5]="NOT_FOUND",z[z.ALREADY_EXISTS=6]="ALREADY_EXISTS",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.UNAUTHENTICATED=16]="UNAUTHENTICATED",z[z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",z[z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",z[z.ABORTED=10]="ABORTED",z[z.OUT_OF_RANGE=11]="OUT_OF_RANGE",z[z.UNIMPLEMENTED=12]="UNIMPLEMENTED",z[z.INTERNAL=13]="INTERNAL",z[z.UNAVAILABLE=14]="UNAVAILABLE",z[z.DATA_LOSS=15]="DATA_LOSS";function XT(){return new TextEncoder}const ZT=new xn([4294967295,4294967295],0);function Pu(t){const e=XT().encode(t),n=new tT;return n.update(e),new Uint8Array(n.digest())}function ku(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xn([n,r],0),new xn([i,s],0)]}class oc{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pr(`Invalid padding: ${n}`);if(r<0)throw new pr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=xn.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(xn.fromNumber(r)));return i.compare(ZT)===1&&(i=new xn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Pu(e),[r,i]=ku(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new oc(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=Pu(e),[r,i]=ku(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bs{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ci.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bs(M.min(),i,new ie(K),Et(),B())}}class ci{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ci(r,n,B(),B(),B())}}class Bi{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Df{constructor(e,n){this.targetId=e,this.fe=n}}class Of{constructor(e,n,r=Ve.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xu{constructor(){this.ge=0,this.pe=Du(),this.ye=Ve.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=B(),n=B(),r=B();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new ci(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Du()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class eb{constructor(e){this.Le=e,this.ke=new Map,this.qe=Et(),this.Qe=Nu(),this.Ke=new ie(K)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ta(s))if(r===0){const o=new N(s.path);this.We(n,o,xe.newNoDocument(o,M.min()))}else Z(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),u=l?this.et(l,e,o):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=on(r).toUint8Array()}catch(u){if(u instanceof uf)return Ln("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new oc(o,i,s)}catch(u){return Ln(u instanceof pr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&ta(l.target)){const u=new N(l.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,xe.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=B();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Bs(e,n,this.Ke,this.qe,r);return this.qe=Et(),this.Qe=Nu(),this.Ke=new ie(K),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new xu,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Re(K),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||S("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new xu),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Nu(){return new ie(N.comparator)}function Du(){return new ie(N.comparator)}const tb=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nb=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rb=(()=>({and:"AND",or:"OR"}))();class ib{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ra(t,e){return t.useProto3Json||Os(e)?e:{value:e}}function cs(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vf(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sb(t,e){return cs(t,e.toTimestamp())}function ot(t){return Z(!!t),M.fromTimestamp(function(n){const r=Ft(n);return new me(r.seconds,r.nanos)}(t))}function ac(t,e){return function(r){return new oe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Lf(t){const e=oe.fromString(t);return Z(Bf(e)),e}function ia(t,e){return ac(t.databaseId,e.path)}function Io(t,e){const n=Lf(e);if(n.get(1)!==t.databaseId.projectId)throw new D(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(Mf(n))}function sa(t,e){return ac(t.databaseId,e)}function ob(t){const e=Lf(t);return e.length===4?oe.emptyPath():Mf(e)}function oa(t){return new oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mf(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ou(t,e,n){return{name:ia(t,e),fields:n.value.mapValue.fields}}function ab(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Z(f===void 0||typeof f=="string"),Ve.fromBase64String(f||"")):(Z(f===void 0||f instanceof Uint8Array),Ve.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?b.UNKNOWN:Nf(d.code);return new D(f,d.message||"")}(o);n=new Of(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Io(t,r.document.name),s=ot(r.document.updateTime),o=r.document.createTime?ot(r.document.createTime):M.min(),l=new qe({mapValue:{fields:r.document.fields}}),u=xe.newFoundDocument(i,s,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Bi(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Io(t,r.document),s=r.readTime?ot(r.readTime):M.min(),o=xe.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Bi([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Io(t,r.document),s=r.removedTargetIds||[];n=new Bi([],s,i,null)}else{if(!("filter"in e))return L();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new JT(i,s),l=r.targetId;n=new Df(l,o)}}return n}function cb(t,e){let n;if(e instanceof ai)n={update:Ou(t,e.key,e.value)};else if(e instanceof xf)n={delete:ia(t,e.key)};else if(e instanceof dn)n={update:Ou(t,e.key,e.data),updateMask:yb(e.fieldMask)};else{if(!(e instanceof KT))return L();n={verify:ia(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof os)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ur)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof as)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sb(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:L()}(t,e.precondition)),n}function lb(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ot(i.updateTime):ot(s);return o.isEqual(M.min())&&(o=ot(s)),new HT(o,i.transformResults||[])}(n,e))):[]}function ub(t,e){return{documents:[sa(t,e.path)]}}function hb(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=sa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sa(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Uf(ct.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:In(g.field),direction:pb(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ra(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function db(t){let e=ob(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const w=Ff(g);return w instanceof ct&&pf(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(w=>function(v){return new ss(An(v.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(w))}(n.orderBy));let l=null;n.limit&&(l=function(g){let w;return w=typeof g=="object"?g.value:g,Os(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(g){const w=!!g.before,y=g.values||[];return new is(y,w)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const w=!g.before,y=g.values||[];return new is(y,w)}(n.endAt)),kT(e,i,o,s,l,"F",u,d)}function fb(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ff(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=An(n.unaryFilter.field);return pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=An(n.unaryFilter.field);return pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=An(n.unaryFilter.field);return pe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=An(n.unaryFilter.field);return pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):t.fieldFilter!==void 0?function(n){return pe.create(An(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ct.create(n.compositeFilter.filters.map(r=>Ff(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return L()}}(n.compositeFilter.op))}(t):L()}function pb(t){return tb[t]}function mb(t){return nb[t]}function gb(t){return rb[t]}function In(t){return{fieldPath:t.canonicalString()}}function An(t){return Ae.fromServerFormat(t.fieldPath)}function Uf(t){return t instanceof pe?function(n){if(n.op==="=="){if(vu(n.value))return{unaryFilter:{field:In(n.field),op:"IS_NAN"}};if(_u(n.value))return{unaryFilter:{field:In(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vu(n.value))return{unaryFilter:{field:In(n.field),op:"IS_NOT_NAN"}};if(_u(n.value))return{unaryFilter:{field:In(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:In(n.field),op:mb(n.op),value:n.value}}}(t):t instanceof ct?function(n){const r=n.getFilters().map(i=>Uf(i));return r.length===1?r[0]:{compositeFilter:{op:gb(n.op),filters:r}}}(t):L()}function yb(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Bf(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Nt{constructor(e,n,r,i,s=M.min(),o=M.min(),l=Ve.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Nt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nt(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wb{constructor(e){this.ut=e}}function _b(t){const e=db({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?na(e,e.limit,"L"):e}class vb{constructor(){this.on=new Eb}addToCollectionParentIndex(e,n){return this.on.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}deleteAllFieldIndexes(e){return T.resolve()}createTargetIndexes(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(Mt.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(Mt.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class Eb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(oe.comparator)).toArray()}}class Bn{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Bn(0)}static Nn(){return new Bn(-1)}}class Tb{constructor(){this.changes=new Jn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ib{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vr(r.mutation,i,Ke.empty(),me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,B()).next(()=>r))}getLocalViewOfDocuments(e,n,r=B()){const i=Yt();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fr();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yt();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,B()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Et();const o=_r(),l=function(){return _r()}();return n.forEach((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof dn)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),vr(f.mutation,d,f.mutation.getFieldMask(),me.now())):o.set(d.key,Ke.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var g;return l.set(d,new bb(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=_r();let i=new ie((o,l)=>o-l),s=B();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Ke.empty();f=l.applyToLocalView(d,f),r.set(u,f);const g=(i.get(l.batchId)||B()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,g=Tf();f.forEach(w=>{if(!s.has(w)){const y=Pf(n.get(w),r.get(w));y!==null&&g.set(w,y),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return N.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):T.resolve(Yt());let l=-1,u=s;return o.next(d=>T.forEach(d,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?T.resolve():this.remoteDocumentCache.getEntry(e,f).next(w=>{u=u.insert(f,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,B())).next(f=>({batchId:l,changes:Ef(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=fr();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=fr();return this.indexManager.getCollectionParents(e,s).next(l=>T.forEach(l,u=>{const d=function(g,w){return new Vs(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,w)=>{o=o.insert(g,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,xe.newInvalidDocument(f)))});let l=fr();return o.forEach((u,d)=>{const f=s.get(u);f!==void 0&&vr(f.mutation,d,Ke.empty(),me.now()),Ms(n,d)&&(l=l.insert(u,d))}),l})}}class Ab{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return T.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ot(i.createTime)}}(n)),T.resolve()}getNamedQuery(e,n){return T.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:_b(i.bundledQuery),readTime:ot(i.readTime)}}(n)),T.resolve()}}class Cb{constructor(){this.overlays=new ie(N.comparator),this.lr=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yt();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=Yt(),s=n.length+1,o=new N(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ie((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Yt(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Yt(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=i)););return T.resolve(l)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new QT(n,r));let s=this.lr.get(n);s===void 0&&(s=B(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class cc{constructor(){this.hr=new Re(ye.Pr),this.Ir=new Re(ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ye(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ye(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new N(new oe([])),r=new ye(n,e),i=new ye(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new N(new oe([])),r=new ye(n,e),i=new ye(n,e+1);let s=B();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ye(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ye{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return N.comparator(e.key,n.key)||K(e.gr,n.gr)}static Tr(e,n){return K(e.gr,n.gr)||N.comparator(e.key,n.key)}}class Rb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Re(ye.Pr)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GT(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.yr=this.yr.add(new ye(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ye(n,0),i=new ye(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const l=this.wr(o.gr);s.push(l)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(K);return n.forEach(i=>{const s=new ye(i,0),o=new ye(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],l=>{r=r.add(l.gr)})}),T.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new ye(new N(s),0);let l=new Re(K);return this.yr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.gr)),!0)},o),T.resolve(this.br(l))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return T.forEach(n.mutations,i=>{const s=new ye(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ye(n,0),i=this.yr.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sb{constructor(e){this.Cr=e,this.docs=function(){return new ie(N.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=Et();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Et();const o=n.path,l=new N(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||fT(dT(f),r)<=0||(i.has(f.key)||Ms(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,n,r,i){L()}vr(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pb(this)}getSize(e){return T.resolve(this.size)}}class Pb extends Tb{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class kb{constructor(e){this.persistence=e,this.Fr=new Jn(n=>nc(n),rc),this.lastRemoteSnapshotVersion=M.min(),this.highestTargetId=0,this.Mr=0,this.Or=new cc,this.targetCount=0,this.Nr=Bn.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),T.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Bn(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.kn(n),T.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.Or.containsKey(n))}}class xb{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Xa(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new kb(this),this.indexManager=new vb,this.remoteDocumentCache=function(i){return new Sb(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new wb(n),this.Kr=new Ab(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Rb(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new Nb(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return T.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Nb extends mT{constructor(e){super(),this.currentSequenceNumber=e}}class lc{constructor(e){this.persistence=e,this.Gr=new cc,this.zr=null}static jr(e){return new lc(e)}get Hr(){if(this.zr)return this.zr;throw L()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),T.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Hr,r=>{const i=N.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,M.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return T.or([()=>T.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class uc{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=B(),i=B();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uc(e,n.fromCache,r,i)}}class Db{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ob{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Db;return this.Hi(e,n,o).next(l=>{if(s.result=l,this.$i)return this.Ji(e,n,o,l.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(cr()<=j.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",bn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),T.resolve()):(cr()<=j.DEBUG&&S("QueryEngine","Query:",bn(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(cr()<=j.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",bn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,st(n))):T.resolve())}zi(e,n){if(Iu(n))return T.resolve(null);let r=st(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=na(n,null,"F"),r=st(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=B(...s);return this.Gi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Yi(n,l);return this.Zi(n,d,o,u.readTime)?this.zi(e,na(n,null,"F")):this.Xi(e,d,n,u)}))})))}ji(e,n,r,i){return Iu(n)||i.isEqual(M.min())?T.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?T.resolve(null):(cr()<=j.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bn(n)),this.Xi(e,o,n,hT(i,-1)).next(l=>l))})}Yi(e,n){let r=new Re(_f(e));return n.forEach((i,s)=>{Ms(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return cr()<=j.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",bn(n)),this.Gi.getDocumentsMatchingQuery(e,n,Mt.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Vb{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ie(K),this.ns=new Jn(s=>nc(s),rc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ib(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Lb(t,e,n,r){return new Vb(t,e,n,r)}async function jf(t,e){const n=F(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=B();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({_s:d,removedBatchIds:o,addedBatchIds:l}))})})}function Mb(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const g=d.batch,w=g.keys();let y=T.resolve();return w.forEach(v=>{y=y.next(()=>f.getEntry(u,v)).next(m=>{const C=d.docVersions.get(v);Z(C!==null),m.version.compareTo(C)<0&&(g.applyToRemoteDocument(m,d),m.isValidDocument()&&(m.setReadTime(d.commitVersion),f.addEntry(m)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=B();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zf(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Fb(t,e){const n=F(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const l=[];e.targetChanges.forEach((f,g)=>{const w=i.get(g);if(!w)return;l.push(n.qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.qr.addMatchingKeys(s,f.addedDocuments,g)));let y=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Ve.EMPTY_BYTE_STRING,M.min()).withLastLimboFreeSnapshotVersion(M.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(g,y),function(m,C,I){return m.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(w,y,f)&&l.push(n.qr.updateTargetData(s,y))});let u=Et(),d=B();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(Ub(s,o,e.documentUpdates).next(f=>{u=f.us,d=f.cs})),!r.isEqual(M.min())){const f=n.qr.getLastRemoteSnapshotVersion(s).next(g=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return T.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ts=i,s))}function Ub(t,e,n){let r=B(),i=B();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Et();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(M.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):S("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{us:o,cs:i}})}function Bb(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jb(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Nt(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function aa(t,e,n){const r=F(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!oi(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Vu(t,e,n){const r=F(t);let i=M.min(),s=B();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const g=F(u),w=g.ns.get(f);return w!==void 0?T.resolve(g.ts.get(w)):g.qr.getTargetData(d,f)}(r,o,st(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:M.min(),n?s:B())).next(l=>(zb(r,DT(e),l),{documents:l,ls:s})))}function zb(t,e,n){let r=t.rs.get(e)||M.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class Lu{constructor(){this.activeTargetIds=UT()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qb{constructor(){this.eo=new Lu,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Lu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hb{ro(e){}shutdown(){}}class Mu{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pi=null;function Ao(){return Pi===null?Pi=function(){return 268435456+Math.round(2147483648*Math.random())}():Pi++,"0x"+Pi.toString(16)}const $b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wb{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Pe="WebChannelConnection";class Kb extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const l=Ao(),u=this.So(n,r);S("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,s,o),this.Do(n,u,d,i).then(f=>(S("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Ln("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Co(n,r,i,s,o,l){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gn}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=$b[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Ao();return new Promise((o,l)=>{const u=new eT;u.setWithCredentials(!0),u.listenOnce(YE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case bo.NO_ERROR:const f=u.getResponseJson();S(Pe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case bo.TIMEOUT:S(Pe,`RPC '${e}' ${s} timed out`),l(new D(b.DEADLINE_EXCEEDED,"Request time out"));break;case bo.HTTP_ERROR:const g=u.getStatus();if(S(Pe,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const y=w==null?void 0:w.error;if(y&&y.status&&y.message){const v=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(I)>=0?I:b.UNKNOWN}(y.status);l(new D(v,y.message))}else l(new D(b.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new D(b.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{S(Pe,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);S(Pe,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}vo(e,n,r){const i=Ao(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QE(),l=JE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new ZE({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");S(Pe,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);let w=!1,y=!1;const v=new Wb({co:C=>{y?S(Pe,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(w||(S(Pe,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),S(Pe,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},lo:()=>g.close()}),m=(C,I,R)=>{C.listen(I,P=>{try{R(P)}catch(U){setTimeout(()=>{throw U},0)}})};return m(g,Ci.EventType.OPEN,()=>{y||S(Pe,`RPC '${e}' stream ${i} transport opened.`)}),m(g,Ci.EventType.CLOSE,()=>{y||(y=!0,S(Pe,`RPC '${e}' stream ${i} transport closed`),v.Ro())}),m(g,Ci.EventType.ERROR,C=>{y||(y=!0,Ln(Pe,`RPC '${e}' stream ${i} transport errored:`,C),v.Ro(new D(b.UNAVAILABLE,"The operation could not be completed")))}),m(g,Ci.EventType.MESSAGE,C=>{var I;if(!y){const R=C.data[0];Z(!!R);const P=R,U=P.error||((I=P[0])===null||I===void 0?void 0:I.error);if(U){S(Pe,`RPC '${e}' stream ${i} received error:`,U);const ee=U.status;let te=function(ne){const Q=he[ne];if(Q!==void 0)return Nf(Q)}(ee),ce=U.message;te===void 0&&(te=b.INTERNAL,ce="Unknown error status: "+ee+" with message "+U.message),y=!0,v.Ro(new D(te,ce)),g.close()}else S(Pe,`RPC '${e}' stream ${i} received:`,R),v.Vo(R)}}),m(l,XE.STAT_EVENT,C=>{C.stat===pu.PROXY?S(Pe,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===pu.NOPROXY&&S(Pe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function Co(){return typeof document<"u"?document:null}function js(t){return new ib(t,!0)}class qf{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Hf{constructor(e,n,r,i,s,o,l,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new qf(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(vt(n.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new D(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gb extends Hf{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=ab(this.serializer,e),r=function(s){if(!("targetChange"in s))return M.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?M.min():o.readTime?ot(o.readTime):M.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=oa(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=ta(u)?{documents:ub(s,u)}:{query:hb(s,u)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Vf(s,o.resumeToken);const d=ra(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(M.min())>0){l.readTime=cs(s,o.snapshotVersion.toTimestamp());const d=ra(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=fb(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=oa(this.serializer),n.removeTarget=e,this.e_(n)}}class Qb extends Hf{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=lb(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.I_(r,n)}return Z(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=oa(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cb(this.serializer,r))};this.e_(n)}}class Jb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new D(b.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(b.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(b.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Yb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(vt(n),this.f_=!1):S("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}class Xb{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{fn(this)&&(S("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=F(u);d.C_.add(4),await li(d),d.M_.set("Unknown"),d.C_.delete(4),await zs(d)}(this))})}),this.M_=new Yb(r,i)}}async function zs(t){if(fn(t))for(const e of t.v_)await e(!0)}async function li(t){for(const e of t.v_)await e(!1)}function $f(t,e){const n=F(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),fc(n)?dc(n):Yn(n).Ho()&&hc(n,e))}function Wf(t,e){const n=F(t),r=Yn(n);n.D_.delete(e),r.Ho()&&Kf(n,e),n.D_.size===0&&(r.Ho()?r.Zo():fn(n)&&n.M_.set("Unknown"))}function hc(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(M.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yn(t).u_(e)}function Kf(t,e){t.x_.Oe(e),Yn(t).c_(e)}function dc(t){t.x_=new eb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Yn(t).start(),t.M_.g_()}function fc(t){return fn(t)&&!Yn(t).jo()&&t.D_.size>0}function fn(t){return F(t).C_.size===0}function Gf(t){t.x_=void 0}async function Zb(t){t.D_.forEach((e,n)=>{hc(t,e)})}async function eI(t,e){Gf(t),fc(t)?(t.M_.w_(e),dc(t)):t.M_.set("Unknown")}async function tI(t,e,n){if(t.M_.set("Online"),e instanceof Of&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.D_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.D_.delete(l),i.x_.removeTarget(l))}(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ls(t,r)}else if(e instanceof Bi?t.x_.$e(e):e instanceof Df?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(M.min()))try{const r=await zf(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.x_.it(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.D_.get(d);f&&s.D_.set(d,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const f=s.D_.get(u);if(!f)return;s.D_.set(u,f.withResumeToken(Ve.EMPTY_BYTE_STRING,f.snapshotVersion)),Kf(s,u);const g=new Nt(f.target,u,d,f.sequenceNumber);hc(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){S("RemoteStore","Failed to raise snapshot:",r),await ls(t,r)}}async function ls(t,e,n){if(!oi(e))throw e;t.C_.add(1),await li(t),t.M_.set("Offline"),n||(n=()=>zf(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{S("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await zs(t)})}function Qf(t,e){return e().catch(n=>ls(t,n,e))}async function qs(t){const e=F(t),n=Ut(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;nI(e);)try{const i=await Bb(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,rI(e,i)}catch(i){await ls(e,i)}Jf(e)&&Yf(e)}function nI(t){return fn(t)&&t.b_.length<10}function rI(t,e){t.b_.push(e);const n=Ut(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Jf(t){return fn(t)&&!Ut(t).jo()&&t.b_.length>0}function Yf(t){Ut(t).start()}async function iI(t){Ut(t).E_()}async function sI(t){const e=Ut(t);for(const n of t.b_)e.P_(n.mutations)}async function oI(t,e,n){const r=t.b_.shift(),i=sc.from(r,e,n);await Qf(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qs(t)}async function aI(t,e){e&&Ut(t).h_&&await async function(r,i){if(function(o){return YT(o)&&o!==b.ABORTED}(i.code)){const s=r.b_.shift();Ut(r).Yo(),await Qf(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await qs(r)}}(t,e),Jf(t)&&Yf(t)}async function Fu(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=fn(n);n.C_.add(3),await li(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await zs(n)}async function cI(t,e){const n=F(t);e?(n.C_.delete(2),await zs(n)):e||(n.C_.add(2),await li(n),n.M_.set("Unknown"))}function Yn(t){return t.O_||(t.O_=function(n,r,i){const s=F(n);return s.A_(),new Gb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Zb.bind(null,t),Io:eI.bind(null,t),a_:tI.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),fc(t)?dc(t):t.M_.set("Unknown")):(await t.O_.stop(),Gf(t))})),t.O_}function Ut(t){return t.N_||(t.N_=function(n,r,i){const s=F(n);return s.A_(),new Qb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:iI.bind(null,t),Io:aI.bind(null,t),T_:sI.bind(null,t),I_:oI.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await qs(t)):(await t.N_.stop(),t.b_.length>0&&(S("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}class pc{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new pc(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mc(t,e){if(vt("AsyncQueue",`${e}: ${t}`),oi(t))return new D(b.UNAVAILABLE,`${e}: ${t}`);throw t}class Nn{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=fr(),this.sortedSet=new ie(this.comparator)}static emptySet(e){return new Nn(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nn;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Uu{constructor(){this.B_=new ie(N.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):L():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jn{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new jn(e,n,Nn.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ls(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class lI{constructor(){this.k_=void 0,this.listeners=[]}}class uI{constructor(){this.queries=new Jn(e=>wf(e),Ls),this.onlineState="Unknown",this.q_=new Set}}async function hI(t,e){const n=F(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lI),i)try{s.k_=await n.onListen(r)}catch(o){const l=mc(o,`Initialization of query '${bn(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&gc(n)}async function dI(t,e){const n=F(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fI(t,e){const n=F(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.K_(i)&&(r=!0);o.k_=i}}r&&gc(n)}function pI(t,e,n){const r=F(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function gc(t){t.q_.forEach(e=>{e.next()})}class mI{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jn(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=jn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Xf{constructor(e){this.key=e}}class Zf{constructor(e){this.key=e}}class gI{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=B(),this.mutatedKeys=B(),this._a=_f(e),this.aa=new Nn(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Uu,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const w=i.get(f),y=Ms(this.query,g)?g:null,v=!!w&&this.mutatedKeys.has(w.key),m=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;w&&y?w.data.isEqual(y.data)?v!==m&&(r.track({type:3,doc:y}),C=!0):this.ha(w,y)||(r.track({type:2,doc:y}),C=!0,(u&&this._a(y,u)>0||d&&this._a(y,d)<0)&&(l=!0)):!w&&y?(r.track({type:0,doc:y}),C=!0):w&&!y&&(r.track({type:1,doc:w}),C=!0,(u||d)&&(l=!0)),C&&(y?(o=o.add(y),s=m?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{aa:o,la:r,Zi:l,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((d,f)=>function(w,y){const v=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return v(w)-v(y)}(d.type,f.type)||this._a(d.doc,f.doc)),this.Pa(r);const o=n?this.Ia():[],l=this.oa.size===0&&this.current?1:0,u=l!==this.sa;return this.sa=l,s.length!==0||u?{snapshot:new jn(this.query,e.aa,i,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Uu,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=B(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Zf(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Xf(r))}),n}da(e){this.ia=e.ls,this.oa=B();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return jn.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class yI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wI{constructor(e){this.key=e,this.Ra=!1}}class _I{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Jn(l=>wf(l),Ls),this.fa=new Map,this.ga=new Set,this.pa=new ie(N.comparator),this.ya=new Map,this.wa=new cc,this.Sa={},this.ba=new Map,this.Da=Bn.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function vI(t,e){const n=kI(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await jb(n.localStore,st(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await EI(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&$f(n.remoteStore,o)}return i}async function EI(t,e,n,r,i){t.va=(g,w,y)=>async function(m,C,I,R){let P=C.view.ca(I);P.Zi&&(P=await Vu(m.localStore,C.query,!1).then(({documents:te})=>C.view.ca(te,P)));const U=R&&R.targetChanges.get(C.targetId),ee=C.view.applyChanges(P,m.isPrimaryClient,U);return ju(m,C.targetId,ee.Ta),ee.snapshot}(t,g,w,y);const s=await Vu(t.localStore,e,!0),o=new gI(e,s.ls),l=o.ca(s.documents),u=ci.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);ju(t,n,d.Ta);const f=new yI(e,n,o);return t.ma.set(e,f),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),d.snapshot}async function TI(t,e){const n=F(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Ls(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await aa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wf(n.remoteStore,r.targetId),ca(n,r.targetId)}).catch(si)):(ca(n,r.targetId),await aa(n.localStore,r.targetId,!0))}async function bI(t,e,n){const r=xI(t);try{const i=await function(o,l){const u=F(o),d=me.now(),f=l.reduce((y,v)=>y.add(v.key),B());let g,w;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Et(),m=B();return u.ss.getEntries(y,f).next(C=>{v=C,v.forEach((I,R)=>{R.isValidDocument()||(m=m.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,v)).next(C=>{g=C;const I=[];for(const R of l){const P=WT(R,g.get(R.key).overlayedDocument);P!=null&&I.push(new dn(R.key,P,hf(P.value.mapValue),yt.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,I,l)}).next(C=>{w=C;const I=C.applyToLocalDocumentSet(g,m);return u.documentOverlayCache.saveOverlays(y,C.batchId,I)})}).then(()=>({batchId:w.batchId,changes:Ef(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let d=o.Sa[o.currentUser.toKey()];d||(d=new ie(K)),d=d.insert(l,u),o.Sa[o.currentUser.toKey()]=d}(r,i.batchId,n),await ui(r,i.changes),await qs(r.remoteStore)}catch(i){const s=mc(i,"Failed to persist write");n.reject(s)}}async function ep(t,e){const n=F(t);try{const r=await Fb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Z(o.Ra):i.removedDocuments.size>0&&(Z(o.Ra),o.Ra=!1))}),await ui(n,r,e)}catch(r){await si(r)}}function Bu(t,e,n){const r=F(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const l=o.view.Q_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=F(o);u.onlineState=l;let d=!1;u.queries.forEach((f,g)=>{for(const w of g.listeners)w.Q_(l)&&(d=!0)}),d&&gc(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function II(t,e,n){const r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new ie(N.comparator);o=o.insert(s,xe.newNoDocument(s,M.min()));const l=B().add(s),u=new Bs(M.min(),new Map,new ie(K),o,l);await ep(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),yc(r)}else await aa(r.localStore,e,!1).then(()=>ca(r,e,n)).catch(si)}async function AI(t,e){const n=F(t),r=e.batch.batchId;try{const i=await Mb(n.localStore,e);np(n,r,null),tp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ui(n,i)}catch(i){await si(i)}}async function CI(t,e,n){const r=F(t);try{const i=await function(o,l){const u=F(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(g=>(Z(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);np(r,e,n),tp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ui(r,i)}catch(i){await si(i)}}function tp(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function np(t,e,n){const r=F(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function ca(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||rp(t,r)})}function rp(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(Wf(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),yc(t))}function ju(t,e,n){for(const r of n)r instanceof Xf?(t.wa.addReference(r.key,e),RI(t,r)):r instanceof Zf?(S("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||rp(t,r.key)):L()}function RI(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(S("SyncEngine","New document in limbo: "+n),t.ga.add(r),yc(t))}function yc(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new N(oe.fromString(e)),r=t.Da.next();t.ya.set(r,new wI(n)),t.pa=t.pa.insert(n,r),$f(t.remoteStore,new Nt(st(ic(n.path)),r,"TargetPurposeLimboResolution",Xa._e))}}async function ui(t,e,n){const r=F(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((l,u)=>{o.push(r.va(u,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const f=uc.Qi(u.targetId,d);s.push(f)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,d){const f=F(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>T.forEach(d,w=>T.forEach(w.ki,y=>f.persistence.referenceDelegate.addReference(g,w.targetId,y)).next(()=>T.forEach(w.qi,y=>f.persistence.referenceDelegate.removeReference(g,w.targetId,y)))))}catch(g){if(!oi(g))throw g;S("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const w=g.targetId;if(!g.fromCache){const y=f.ts.get(w),v=y.snapshotVersion,m=y.withLastLimboFreeSnapshotVersion(v);f.ts=f.ts.insert(w,m)}}}(r.localStore,s))}async function SI(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=await jf(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(l=>{l.forEach(u=>{u.reject(new D(b.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ui(n,r._s)}}function PI(t,e){const n=F(t),r=n.ya.get(e);if(r&&r.Ra)return B().add(r.key);{let i=B();const s=n.fa.get(e);if(!s)return i;for(const o of s){const l=n.ma.get(o);i=i.unionWith(l.view.ua)}return i}}function kI(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ep.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=II.bind(null,e),e.Va.a_=fI.bind(null,e.eventManager),e.Va.Fa=pI.bind(null,e.eventManager),e}function xI(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CI.bind(null,e),e}class zu{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=js(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Lb(this.persistence,new Ob,e.initialUser,this.serializer)}createPersistence(e){return new xb(lc.jr,this.serializer)}createSharedClientState(e){return new qb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bu(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await cI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uI}()}createDatastore(e){const n=js(e.databaseInfo.databaseId),r=function(s){return new Kb(s)}(e.databaseInfo);return function(s,o,l,u){return new Jb(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new Xb(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Bu(this.syncEngine,n,0),function(){return Mu.D()?new Mu:new Hb}())}createSyncEngine(e,n){return function(i,s,o,l,u,d,f){const g=new _I(i,s,o,l,u,d);return f&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=F(n);S("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await li(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}class DI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):vt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class OI{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ke.UNAUTHENTICATED,this.clientId=cf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{S("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ro(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jf(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qu(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LI(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Fu(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Fu(e.remoteStore,s)),t._onlineComponents=e}function VI(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function LI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ro(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!VI(n))throw n;Ln("Error using user provided cache. Falling back to memory cache: "+n),await Ro(t,new zu)}}else S("FirestoreClient","Using default OfflineComponentProvider"),await Ro(t,new zu);return t._offlineComponents}async function ip(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),await qu(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),await qu(t,new NI))),t._onlineComponents}function MI(t){return ip(t).then(e=>e.syncEngine)}async function FI(t){const e=await ip(t),n=e.eventManager;return n.onListen=vI.bind(null,e.syncEngine),n.onUnlisten=TI.bind(null,e.syncEngine),n}function UI(t,e,n={}){const r=new Lt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const f=new DI({next:w=>{o.enqueueAndForget(()=>dI(s,g));const y=w.docs.has(l);!y&&w.fromCache?d.reject(new D(b.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&w.fromCache&&u&&u.source==="server"?d.reject(new D(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),g=new mI(ic(l.path),f,{includeMetadataChanges:!0,J_:!0});return hI(s,g)}(await FI(t),t.asyncQueue,e,n,r)),r.promise}function sp(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Hu=new Map;function BI(t,e,n){if(!n)throw new D(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jI(t,e,n,r){if(e===!0&&r===!0)throw new D(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $u(t){if(!N.isDocumentKey(t))throw new D(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":L()}function Br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wc(t);throw new D(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Wu{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sp((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _c{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wu(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nT;switch(r.type){case"firstParty":return new oT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Hu.get(n);r&&(S("ComponentProvider","Removing Datastore"),Hu.delete(n),r.terminate())}(this),Promise.resolve()}}function zI(t,e,n,r={}){var i;const s=(t=Br(t,_c))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ln("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ke.MOCK_USER;else{l=gw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new D(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ke(d)}t._authCredentials=new rT(new af(l,u))}}class vc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vc(this.firestore,e,this._query)}}class $e{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $e(this.firestore,e,this._key)}}class jr extends vc{constructor(e,n,r){super(e,n,ic(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new N(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function wA(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=cf.newId()),BI("doc","path",e),t instanceof _c){const r=oe.fromString(e,...n);return $u(r),new $e(t,null,new N(r))}{if(!(t instanceof $e||t instanceof jr))throw new D(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oe.fromString(e,...n));return $u(r),new $e(t.firestore,t instanceof jr?t.converter:null,new N(r))}}class qI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new qf(this,"async_queue_retry"),this.iu=()=>{const n=Co();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Co();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Co();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Lt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!oi(e))throw e;S("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw vt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=pc.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&L()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Ec extends _c{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new qI}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ap(this),this._firestoreClient.terminate()}}function _A(t,e){const n=typeof t=="object"?t:bh(),r=typeof t=="string"?t:e||"(default)",i=_a(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pw("firestore");s&&zI(i,...s)}return i}function op(t){return t._firestoreClient||ap(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ap(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,d,f){return new wT(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sp(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ve.fromBase64String(e))}catch(n){throw new D(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Ve.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cp{constructor(e){this._methodName=e}}class bc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const HI=/^__.*__$/;class $I{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ai(e,this.data,n,this.fieldTransforms)}}function lp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class Ic{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ic(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return us(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(lp(this.Iu)&&HI.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class WI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||js(e)}pu(e,n,r,i=!1){return new Ic({Iu:e,methodName:n,gu:r,path:Ae.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KI(t){const e=t._freezeSettings(),n=js(t._databaseId);return new WI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GI(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);fp("Data must be an object, but it was:",o,r);const l=hp(r,o);let u,d;if(s.merge)u=new Ke(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const w=QI(e,g,n);if(!o.contains(w))throw new D(b.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);YI(f,w)||f.push(w)}u=new Ke(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new $I(new qe(l),u,d)}function up(t,e){if(dp(t=Ue(t)))return fp("Unsupported field value:",e,t),hp(t,e);if(t instanceof cp)return function(r,i){if(!lp(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=up(l,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=me.fromDate(r);return{timestampValue:cs(i.serializer,s)}}if(r instanceof me){const s=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cs(i.serializer,s)}}if(r instanceof bc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Vf(i.serializer,r._byteString)};if(r instanceof $e){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ac(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${wc(r)}`)}(t,e)}function hp(t,e){const n={};return lf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qn(t,(r,i)=>{const s=up(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dp(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof bc||t instanceof zn||t instanceof $e||t instanceof cp)}function fp(t,e,n){if(!dp(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wc(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function QI(t,e,n){if((e=Ue(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return pp(t,e);throw us("Field path arguments must be of type string or ",t,!1,void 0,n)}const JI=new RegExp("[~\\*/\\[\\]]");function pp(t,e,n){if(e.search(JI)>=0)throw us(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw us(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function us(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(b.INVALID_ARGUMENT,l+t+u)}function YI(t,e){return t.some(n=>n.isEqual(e))}class mp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XI extends mp{data(){return super.data()}}function gp(t,e){return typeof e=="string"?pp(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}class ZI{convertValue(e,n="none"){switch(an(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(on(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qn(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new bc(de(e.latitude),de(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ec(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vr(e));default:return null}}convertTimestamp(e){const n=Ft(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=oe.fromString(e);Z(Bf(r));const i=new Lr(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||vt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function eA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class tA{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yp extends mp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nA extends yp{data(e={}){return super.data(e)}}function vA(t){t=Br(t,$e);const e=Br(t.firestore,Ec);return UI(op(e),t._key).then(n=>sA(e,t,n))}class rA extends ZI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function EA(t,e,n){t=Br(t,$e);const r=Br(t.firestore,Ec),i=eA(t.converter,e,n);return iA(r,[GI(KI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yt.none())])}function iA(t,e){return function(r,i){const s=new Lt;return r.asyncQueue.enqueueAndForget(async()=>bI(await MI(r),i,s)),s.promise}(op(t),e)}function sA(t,e,n){const r=n.docs.get(e._key),i=new rA(t);return new yp(t,i,e._key,r,new tA(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Gn=i})(Hn),On(new en("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ec(new iT(r.getProvider("auth-internal")),new cT(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new D(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lr(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Vt(mu,"4.3.2",e),Vt(mu,"4.3.2","esm2017")})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ku={},oA={get exports(){return Ku},set exports(t){Ku=t}};(function(t){(function(e,n){t.exports=n(e)})(typeof We<"u"?We:typeof window<"u"?window:We,function(e){if(typeof e>"u"&&typeof e.document>"u")return!1;var n="Notiflix",r=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,i='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',s={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},o,l={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},u=function(I){return console.error("%c "+n+" Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+I+r)},d=function(I){return I||(I="head"),e.document[I]===null?(u(`
Notiflix needs to be appended to the "<`+I+'>" element, but you called it before the "<'+I+'>" element has been created.'),!1):!0},f=function(I,R){if(!d("head"))return!1;if(I()!==null&&!e.document.getElementById(R)){var P=e.document.createElement("style");P.id=R,P.innerHTML=I(),e.document.head.appendChild(P)}},g=function(){var I={},R=!1,P=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(R=arguments[0],P++);for(var U=function(ee){for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&(R&&Object.prototype.toString.call(ee[te])==="[object Object]"?I[te]=g(I[te],ee[te]):I[te]=ee[te])};P<arguments.length;P++)U(arguments[P]);return I},w=function(I){var R=e.document.createElement("div");return R.innerHTML=I,R.textContent||R.innerText||""},y=function(){var I='[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}';return I||null},v=0,m=function(I,R,P,U){if(!d("body"))return!1;o||C.Notify.init({});var ee=g(!0,o,{});if(typeof P=="object"&&!Array.isArray(P)||typeof U=="object"&&!Array.isArray(U)){var te={};typeof P=="object"?te=P:typeof U=="object"&&(te=U),o=g(!0,o,te)}var ce=o[I.toLocaleLowerCase("en")];v++,typeof R!="string"&&(R="Notiflix "+I),o.plainText&&(R=w(R)),!o.plainText&&R.length>o.messageMaxLength&&(o=g(!0,o,{closeButton:!0,messageMaxLength:150}),R='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),R.length>o.messageMaxLength&&(R=R.substring(0,o.messageMaxLength)+"..."),o.fontAwesomeIconStyle==="shadow"&&(ce.fontAwesomeIconColor=ce.background),o.cssAnimation||(o.cssAnimationDuration=0);var x=e.document.getElementById(l.wrapID)||e.document.createElement("div");if(x.id=l.wrapID,x.style.width=o.width,x.style.zIndex=o.zindex,x.style.opacity=o.opacity,o.position==="center-center"?(x.style.left=o.distance,x.style.top=o.distance,x.style.right=o.distance,x.style.bottom=o.distance,x.style.margin="auto",x.classList.add("nx-flex-center-center"),x.style.maxHeight="calc((100vh - "+o.distance+") - "+o.distance+")",x.style.display="flex",x.style.flexWrap="wrap",x.style.flexDirection="column",x.style.justifyContent="center",x.style.alignItems="center",x.style.pointerEvents="none"):o.position==="center-top"?(x.style.left=o.distance,x.style.right=o.distance,x.style.top=o.distance,x.style.bottom="auto",x.style.margin="auto"):o.position==="center-bottom"?(x.style.left=o.distance,x.style.right=o.distance,x.style.bottom=o.distance,x.style.top="auto",x.style.margin="auto"):o.position==="right-bottom"?(x.style.right=o.distance,x.style.bottom=o.distance,x.style.top="auto",x.style.left="auto"):o.position==="left-top"?(x.style.left=o.distance,x.style.top=o.distance,x.style.right="auto",x.style.bottom="auto"):o.position==="left-bottom"?(x.style.left=o.distance,x.style.bottom=o.distance,x.style.top="auto",x.style.right="auto"):(x.style.right=o.distance,x.style.top=o.distance,x.style.left="auto",x.style.bottom="auto"),o.backOverlay){var ne=e.document.getElementById(l.overlayID)||e.document.createElement("div");ne.id=l.overlayID,ne.style.width="100%",ne.style.height="100%",ne.style.position="fixed",ne.style.zIndex=o.zindex-1,ne.style.left=0,ne.style.top=0,ne.style.right=0,ne.style.bottom=0,ne.style.background=ce.backOverlayColor||o.backOverlayColor,ne.className=o.cssAnimation?"nx-with-animation":"",ne.style.animationDuration=o.cssAnimation?o.cssAnimationDuration+"ms":"",e.document.getElementById(l.overlayID)||e.document.body.appendChild(ne)}e.document.getElementById(l.wrapID)||e.document.body.appendChild(x);var Q=e.document.createElement("div");Q.id=o.ID+"-"+v,Q.className=o.className+" "+ce.childClassName+" "+(o.cssAnimation?"nx-with-animation":"")+" "+(o.useIcon?"nx-with-icon":"")+" nx-"+o.cssAnimationStyle+" "+(o.closeButton&&typeof P!="function"?"nx-with-close-button":"")+" "+(typeof P=="function"?"nx-with-callback":"")+" "+(o.clickToClose?"nx-notify-click-to-close":""),Q.style.fontSize=o.fontSize,Q.style.color=ce.textColor,Q.style.background=ce.background,Q.style.borderRadius=o.borderRadius,Q.style.pointerEvents="all",o.rtl&&(Q.setAttribute("dir","rtl"),Q.classList.add("nx-rtl-on")),Q.style.fontFamily='"'+o.fontFamily+'", '+i,o.cssAnimation&&(Q.style.animationDuration=o.cssAnimationDuration+"ms");var Je="";if(o.closeButton&&typeof P!="function"&&(Je='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+ce.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),o.useIcon)if(o.useFontAwesome)Q.innerHTML='<i style="color:'+ce.fontAwesomeIconColor+"; font-size:"+o.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+ce.fontAwesomeClassName+" "+(o.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+R+"</span>"+(o.closeButton?Je:"");else{var ut="";I===s.Success?ut='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ce.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':I===s.Failure?ut='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ce.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':I===s.Warning?ut='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ce.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':I===s.Info&&(ut='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ce.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),Q.innerHTML=ut+'<span class="nx-message nx-with-icon">'+R+"</span>"+(o.closeButton?Je:"")}else Q.innerHTML='<span class="nx-message">'+R+"</span>"+(o.closeButton?Je:"");if(o.position==="left-bottom"||o.position==="right-bottom"){var ge=e.document.getElementById(l.wrapID);ge.insertBefore(Q,ge.firstChild)}else e.document.getElementById(l.wrapID).appendChild(Q);var ve=e.document.getElementById(Q.id);if(ve){var Ee,H,ht=function(){ve.classList.add("nx-remove");var se=e.document.getElementById(l.overlayID);se&&x.childElementCount<=0&&se.classList.add("nx-remove"),clearTimeout(Ee)},Xn=function(){if(ve&&ve.parentNode!==null&&ve.parentNode.removeChild(ve),x.childElementCount<=0&&x.parentNode!==null){x.parentNode.removeChild(x);var se=e.document.getElementById(l.overlayID);se&&se.parentNode!==null&&se.parentNode.removeChild(se)}clearTimeout(H)};if(o.closeButton&&typeof P!="function"){var hi=e.document.getElementById(Q.id).querySelector("span.nx-close-button");hi.addEventListener("click",function(){ht();var se=setTimeout(function(){Xn(),clearTimeout(se)},o.cssAnimationDuration)})}if((typeof P=="function"||o.clickToClose)&&ve.addEventListener("click",function(){typeof P=="function"&&P(),ht();var se=setTimeout(function(){Xn(),clearTimeout(se)},o.cssAnimationDuration)}),!o.closeButton&&typeof P!="function"){var pn=function(){Ee=setTimeout(function(){ht()},o.timeout),H=setTimeout(function(){Xn()},o.timeout+o.cssAnimationDuration)};pn(),o.pauseOnHover&&(ve.addEventListener("mouseenter",function(){ve.classList.add("nx-paused"),clearTimeout(Ee),clearTimeout(H)}),ve.addEventListener("mouseleave",function(){ve.classList.remove("nx-paused"),pn()}))}}if(o.showOnlyTheLastOne&&v>0)for(var Zn=e.document.querySelectorAll("[id^="+o.ID+"-]:not([id="+o.ID+"-"+v+"])"),zt=0;zt<Zn.length;zt++){var bt=Zn[zt];bt.parentNode!==null&&bt.parentNode.removeChild(bt)}o=g(!0,o,ee)},C={Notify:{init:function(I){o=g(!0,l,I),f(y,"NotiflixNotifyInternalCSS")},merge:function(I){if(o)o=g(!0,o,I);else return u("You have to initialize the Notify module before call Merge function."),!1},success:function(I,R,P){m(s.Success,I,R,P)},failure:function(I,R,P){m(s.Failure,I,R,P)},warning:function(I,R,P){m(s.Warning,I,R,P)},info:function(I,R,P){m(s.Info,I,R,P)}}};return typeof e.Notiflix=="object"?g(!0,e.Notiflix,{Notify:C.Notify}):{Notify:C.Notify}})})(oA);function ki(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gu={},aA={get exports(){return Gu},set exports(t){Gu=t}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(d,f){if(!i[d]){if(!r[d]){var g=typeof ki=="function"&&ki;if(!f&&g)return g(d,!0);if(l)return l(d,!0);var w=new Error("Cannot find module '"+d+"'");throw w.code="MODULE_NOT_FOUND",w}var y=i[d]={exports:{}};r[d][0].call(y.exports,function(v){return o(r[d][1][v]||v)},y,y.exports,n,r,i,s)}return i[d].exports}for(var l=typeof ki=="function"&&ki,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0}),i.create=i.visible=void 0;var s=function(u){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=document.createElement("div");return f.innerHTML=u.trim(),d===!0?f.children:f.firstChild},o=function(u,d){var f=u.children;return f.length===1&&f[0].tagName===d},l=function(u){return(u=u||document.querySelector(".basicLightbox"))!=null&&u.ownerDocument.body.contains(u)===!0};i.visible=l,i.create=function(u,d){var f=function(y,v){var m=s(`
		<div class="basicLightbox `.concat(v.className,`">
			<div class="basicLightbox__placeholder" role="dialog"></div>
		</div>
	`)),C=m.querySelector(".basicLightbox__placeholder");y.forEach(function(U){return C.appendChild(U)});var I=o(C,"IMG"),R=o(C,"VIDEO"),P=o(C,"IFRAME");return I===!0&&m.classList.add("basicLightbox--img"),R===!0&&m.classList.add("basicLightbox--video"),P===!0&&m.classList.add("basicLightbox--iframe"),m}(u=function(y){var v=typeof y=="string",m=y instanceof HTMLElement==1;if(v===!1&&m===!1)throw new Error("Content must be a DOM element/node or string");return v===!0?Array.from(s(y,!0)):y.tagName==="TEMPLATE"?[y.content.cloneNode(!0)]:Array.from(y.children)}(u),d=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if((y=Object.assign({},y)).closable==null&&(y.closable=!0),y.className==null&&(y.className=""),y.onShow==null&&(y.onShow=function(){}),y.onClose==null&&(y.onClose=function(){}),typeof y.closable!="boolean")throw new Error("Property `closable` must be a boolean");if(typeof y.className!="string")throw new Error("Property `className` must be a string");if(typeof y.onShow!="function")throw new Error("Property `onShow` must be a function");if(typeof y.onClose!="function")throw new Error("Property `onClose` must be a function");return y}(d)),g=function(y){return d.onClose(w)!==!1&&function(v,m){return v.classList.remove("basicLightbox--visible"),setTimeout(function(){return l(v)===!1||v.parentElement.removeChild(v),m()},410),!0}(f,function(){if(typeof y=="function")return y(w)})};d.closable===!0&&f.addEventListener("click",function(y){y.target===f&&g()});var w={element:function(){return f},visible:function(){return l(f)},show:function(y){return d.onShow(w)!==!1&&function(v,m){return document.body.appendChild(v),setTimeout(function(){requestAnimationFrame(function(){return v.classList.add("basicLightbox--visible"),m()})},10),!0}(f,function(){if(typeof y=="function")return y(w)})},close:g};return w}},{}]},{},[1])(1)})})(aA);var la={},cA={get exports(){return la},set exports(t){la=t}};(function(t,e){(function(n,r){t.exports=r()})(We,function(){function n(a,c){var h=i(a,c,"get");return s(a,h)}function r(a,c,h){var p=i(a,c,"set");return o(a,p,h),h}function i(a,c,h){if(!c.has(a))throw new TypeError("attempted to "+h+" private field on non-instance");return c.get(a)}function s(a,c){return c.get?c.get.call(a):c.value}function o(a,c,h){if(c.set)c.set.call(a,h);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=h}}function l(a,c){if(c.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(a,c,h){l(a,c),c.set(a,h)}const d=100,f={},g=()=>{f.previousActiveElement instanceof HTMLElement?(f.previousActiveElement.focus(),f.previousActiveElement=null):document.body&&document.body.focus()},w=a=>new Promise(c=>{if(!a)return c();const h=window.scrollX,p=window.scrollY;f.restoreFocusTimeout=setTimeout(()=>{g(),c()},d),window.scrollTo(h,p)}),y="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((a,c)=>(a[c]=y+c,a),{}),I=["success","warning","info","question","error"].reduce((a,c)=>(a[c]=y+c,a),{}),R="SweetAlert2:",P=a=>a.charAt(0).toUpperCase()+a.slice(1),U=a=>{console.warn("".concat(R," ").concat(typeof a=="object"?a.join(" "):a))},ee=a=>{console.error("".concat(R," ").concat(a))},te=[],ce=a=>{te.includes(a)||(te.push(a),U(a))},x=(a,c)=>{ce('"'.concat(a,'" is deprecated and will be removed in the next major release. Please use "').concat(c,'" instead.'))},ne=a=>typeof a=="function"?a():a,Q=a=>a&&typeof a.toPromise=="function",Je=a=>Q(a)?a.toPromise():Promise.resolve(a),ut=a=>a&&Promise.resolve(a)===a,ge=()=>document.body.querySelector(".".concat(m.container)),ve=a=>{const c=ge();return c?c.querySelector(a):null},Ee=a=>ve(".".concat(a)),H=()=>Ee(m.popup),ht=()=>Ee(m.icon),Xn=()=>Ee(m["icon-content"]),hi=()=>Ee(m.title),pn=()=>Ee(m["html-container"]),Zn=()=>Ee(m.image),zt=()=>Ee(m["progress-steps"]),bt=()=>Ee(m["validation-message"]),se=()=>ve(".".concat(m.actions," .").concat(m.confirm)),mn=()=>ve(".".concat(m.actions," .").concat(m.cancel)),qt=()=>ve(".".concat(m.actions," .").concat(m.deny)),wp=()=>Ee(m["input-label"]),gn=()=>ve(".".concat(m.loader)),er=()=>Ee(m.actions),Ac=()=>Ee(m.footer),di=()=>Ee(m["timer-progress-bar"]),Hs=()=>Ee(m.close),_p=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,$s=()=>{const a=H();if(!a)return[];const c=a.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),h=Array.from(c).sort((k,W)=>{const Y=parseInt(k.getAttribute("tabindex")||"0"),re=parseInt(W.getAttribute("tabindex")||"0");return Y>re?1:Y<re?-1:0}),p=a.querySelectorAll(_p),_=Array.from(p).filter(k=>k.getAttribute("tabindex")!=="-1");return[...new Set(h.concat(_))].filter(k=>Fe(k))},Ws=()=>dt(document.body,m.shown)&&!dt(document.body,m["toast-shown"])&&!dt(document.body,m["no-backdrop"]),fi=()=>{const a=H();return a?dt(a,m.toast):!1},vp=()=>{const a=H();return a?a.hasAttribute("data-loading"):!1},Me=(a,c)=>{if(a.textContent="",c){const p=new DOMParser().parseFromString(c,"text/html"),_=p.querySelector("head");_&&Array.from(_.childNodes).forEach(W=>{a.appendChild(W)});const k=p.querySelector("body");k&&Array.from(k.childNodes).forEach(W=>{W instanceof HTMLVideoElement||W instanceof HTMLAudioElement?a.appendChild(W.cloneNode(!0)):a.appendChild(W)})}},dt=(a,c)=>{if(!c)return!1;const h=c.split(/\s+/);for(let p=0;p<h.length;p++)if(!a.classList.contains(h[p]))return!1;return!0},Ep=(a,c)=>{Array.from(a.classList).forEach(h=>{!Object.values(m).includes(h)&&!Object.values(I).includes(h)&&!Object.values(c.showClass||{}).includes(h)&&a.classList.remove(h)})},je=(a,c,h)=>{if(Ep(a,c),c.customClass&&c.customClass[h]){if(typeof c.customClass[h]!="string"&&!c.customClass[h].forEach){U("Invalid type of customClass.".concat(h,'! Expected string or iterable object, got "').concat(typeof c.customClass[h],'"'));return}$(a,c.customClass[h])}},pi=(a,c)=>{if(!c)return null;switch(c){case"select":case"textarea":case"file":return a.querySelector(".".concat(m.popup," > .").concat(m[c]));case"checkbox":return a.querySelector(".".concat(m.popup," > .").concat(m.checkbox," input"));case"radio":return a.querySelector(".".concat(m.popup," > .").concat(m.radio," input:checked"))||a.querySelector(".".concat(m.popup," > .").concat(m.radio," input:first-child"));case"range":return a.querySelector(".".concat(m.popup," > .").concat(m.range," input"));default:return a.querySelector(".".concat(m.popup," > .").concat(m.input))}},Cc=a=>{if(a.focus(),a.type!=="file"){const c=a.value;a.value="",a.value=c}},Rc=(a,c,h)=>{!a||!c||(typeof c=="string"&&(c=c.split(/\s+/).filter(Boolean)),c.forEach(p=>{Array.isArray(a)?a.forEach(_=>{h?_.classList.add(p):_.classList.remove(p)}):h?a.classList.add(p):a.classList.remove(p)}))},$=(a,c)=>{Rc(a,c,!0)},Ye=(a,c)=>{Rc(a,c,!1)},It=(a,c)=>{const h=Array.from(a.children);for(let p=0;p<h.length;p++){const _=h[p];if(_ instanceof HTMLElement&&dt(_,c))return _}},Ht=(a,c,h)=>{h==="".concat(parseInt(h))&&(h=parseInt(h)),h||parseInt(h)===0?a.style[c]=typeof h=="number"?"".concat(h,"px"):h:a.style.removeProperty(c)},Te=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";a&&(a.style.display=c)},Se=a=>{a&&(a.style.display="none")},Ks=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";a&&new MutationObserver(()=>{tr(a,a.innerHTML,c)}).observe(a,{childList:!0,subtree:!0})},Sc=(a,c,h,p)=>{const _=a.querySelector(c);_&&(_.style[h]=p)},tr=function(a,c){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";c?Te(a,h):Se(a)},Fe=a=>!!(a&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length)),Tp=()=>!Fe(se())&&!Fe(qt())&&!Fe(mn()),Pc=a=>a.scrollHeight>a.clientHeight,kc=a=>{const c=window.getComputedStyle(a),h=parseFloat(c.getPropertyValue("animation-duration")||"0"),p=parseFloat(c.getPropertyValue("transition-duration")||"0");return h>0||p>0},Gs=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const h=di();h&&Fe(h)&&(c&&(h.style.transition="none",h.style.width="100%"),setTimeout(()=>{h.style.transition="width ".concat(a/1e3,"s linear"),h.style.width="0%"},10))},bp=()=>{const a=di();if(!a)return;const c=parseInt(window.getComputedStyle(a).width);a.style.removeProperty("transition"),a.style.width="100%";const h=parseInt(window.getComputedStyle(a).width),p=c/h*100;a.style.width="".concat(p,"%")},xc=()=>typeof window>"u"||typeof document>"u",Ip=`
 <div aria-labelledby="`.concat(m.title,'" aria-describedby="').concat(m["html-container"],'" class="').concat(m.popup,`" tabindex="-1">
   <button type="button" class="`).concat(m.close,`"></button>
   <ul class="`).concat(m["progress-steps"],`"></ul>
   <div class="`).concat(m.icon,`"></div>
   <img class="`).concat(m.image,`" />
   <h2 class="`).concat(m.title,'" id="').concat(m.title,`"></h2>
   <div class="`).concat(m["html-container"],'" id="').concat(m["html-container"],`"></div>
   <input class="`).concat(m.input,'" id="').concat(m.input,`" />
   <input type="file" class="`).concat(m.file,`" />
   <div class="`).concat(m.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(m.select,'" id="').concat(m.select,`"></select>
   <div class="`).concat(m.radio,`"></div>
   <label class="`).concat(m.checkbox,`">
     <input type="checkbox" id="`).concat(m.checkbox,`" />
     <span class="`).concat(m.label,`"></span>
   </label>
   <textarea class="`).concat(m.textarea,'" id="').concat(m.textarea,`"></textarea>
   <div class="`).concat(m["validation-message"],'" id="').concat(m["validation-message"],`"></div>
   <div class="`).concat(m.actions,`">
     <div class="`).concat(m.loader,`"></div>
     <button type="button" class="`).concat(m.confirm,`"></button>
     <button type="button" class="`).concat(m.deny,`"></button>
     <button type="button" class="`).concat(m.cancel,`"></button>
   </div>
   <div class="`).concat(m.footer,`"></div>
   <div class="`).concat(m["timer-progress-bar-container"],`">
     <div class="`).concat(m["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ap=()=>{const a=ge();return a?(a.remove(),Ye([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},$t=()=>{f.currentInstance.resetValidationMessage()},Cp=()=>{const a=H(),c=It(a,m.input),h=It(a,m.file),p=a.querySelector(".".concat(m.range," input")),_=a.querySelector(".".concat(m.range," output")),k=It(a,m.select),W=a.querySelector(".".concat(m.checkbox," input")),Y=It(a,m.textarea);c.oninput=$t,h.onchange=$t,k.onchange=$t,W.onchange=$t,Y.oninput=$t,p.oninput=()=>{$t(),_.value=p.value},p.onchange=()=>{$t(),_.value=p.value}},Rp=a=>typeof a=="string"?document.querySelector(a):a,Sp=a=>{const c=H();c.setAttribute("role",a.toast?"alert":"dialog"),c.setAttribute("aria-live",a.toast?"polite":"assertive"),a.toast||c.setAttribute("aria-modal","true")},Pp=a=>{window.getComputedStyle(a).direction==="rtl"&&$(ge(),m.rtl)},kp=a=>{const c=Ap();if(xc()){ee("SweetAlert2 requires document to initialize");return}const h=document.createElement("div");h.className=m.container,c&&$(h,m["no-transition"]),Me(h,Ip);const p=Rp(a.target);p.appendChild(h),Sp(a),Pp(p),Cp()},Qs=(a,c)=>{a instanceof HTMLElement?c.appendChild(a):typeof a=="object"?xp(a,c):a&&Me(c,a)},xp=(a,c)=>{a.jquery?Np(c,a):Me(c,a.toString())},Np=(a,c)=>{if(a.textContent="",0 in c)for(let h=0;h in c;h++)a.appendChild(c[h].cloneNode(!0));else a.appendChild(c.cloneNode(!0))},Wt=(()=>{if(xc())return!1;const a=document.createElement("div");return typeof a.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof a.style.animation<"u"?"animationend":!1})(),Dp=(a,c)=>{const h=er(),p=gn();!h||!p||(!c.showConfirmButton&&!c.showDenyButton&&!c.showCancelButton?Se(h):Te(h),je(h,c,"actions"),Op(h,p,c),Me(p,c.loaderHtml||""),je(p,c,"loader"))};function Op(a,c,h){const p=se(),_=qt(),k=mn();!p||!_||!k||(Js(p,"confirm",h),Js(_,"deny",h),Js(k,"cancel",h),Vp(p,_,k,h),h.reverseButtons&&(h.toast?(a.insertBefore(k,p),a.insertBefore(_,p)):(a.insertBefore(k,c),a.insertBefore(_,c),a.insertBefore(p,c))))}function Vp(a,c,h,p){if(!p.buttonsStyling){Ye([a,c,h],m.styled);return}$([a,c,h],m.styled),p.confirmButtonColor&&(a.style.backgroundColor=p.confirmButtonColor,$(a,m["default-outline"])),p.denyButtonColor&&(c.style.backgroundColor=p.denyButtonColor,$(c,m["default-outline"])),p.cancelButtonColor&&(h.style.backgroundColor=p.cancelButtonColor,$(h,m["default-outline"]))}function Js(a,c,h){const p=P(c);tr(a,h["show".concat(p,"Button")],"inline-block"),Me(a,h["".concat(c,"ButtonText")]||""),a.setAttribute("aria-label",h["".concat(c,"ButtonAriaLabel")]||""),a.className=m[c],je(a,h,"".concat(c,"Button"))}const Lp=(a,c)=>{const h=Hs();h&&(Me(h,c.closeButtonHtml||""),je(h,c,"closeButton"),tr(h,c.showCloseButton),h.setAttribute("aria-label",c.closeButtonAriaLabel||""))},Mp=(a,c)=>{const h=ge();h&&(Fp(h,c.backdrop),Up(h,c.position),Bp(h,c.grow),je(h,c,"container"))};function Fp(a,c){typeof c=="string"?a.style.background=c:c||$([document.documentElement,document.body],m["no-backdrop"])}function Up(a,c){c&&(c in m?$(a,m[c]):(U('The "position" parameter is not valid, defaulting to "center"'),$(a,m.center)))}function Bp(a,c){c&&$(a,m["grow-".concat(c)])}var J={innerParams:new WeakMap,domCache:new WeakMap};const jp=["input","file","range","select","radio","checkbox","textarea"],zp=(a,c)=>{const h=H();if(!h)return;const p=J.innerParams.get(a),_=!p||c.input!==p.input;jp.forEach(k=>{const W=It(h,m[k]);W&&($p(k,c.inputAttributes),W.className=m[k],_&&Se(W))}),c.input&&(_&&qp(c),Wp(c))},qp=a=>{if(!a.input)return;if(!le[a.input]){ee("Unexpected type of input! Expected ".concat(Object.keys(le).join(" | "),', got "').concat(a.input,'"'));return}const c=Nc(a.input),h=le[a.input](c,a);Te(c),a.inputAutoFocus&&setTimeout(()=>{Cc(h)})},Hp=a=>{for(let c=0;c<a.attributes.length;c++){const h=a.attributes[c].name;["id","type","value","style"].includes(h)||a.removeAttribute(h)}},$p=(a,c)=>{const h=pi(H(),a);if(h){Hp(h);for(const p in c)h.setAttribute(p,c[p])}},Wp=a=>{const c=Nc(a.input);typeof a.customClass=="object"&&$(c,a.customClass.input)},Ys=(a,c)=>{(!a.placeholder||c.inputPlaceholder)&&(a.placeholder=c.inputPlaceholder)},nr=(a,c,h)=>{if(h.inputLabel){const p=document.createElement("label"),_=m["input-label"];p.setAttribute("for",a.id),p.className=_,typeof h.customClass=="object"&&$(p,h.customClass.inputLabel),p.innerText=h.inputLabel,c.insertAdjacentElement("beforebegin",p)}},Nc=a=>It(H(),m[a]||m.input),mi=(a,c)=>{["string","number"].includes(typeof c)?a.value="".concat(c):ut(c)||U('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof c,'"'))},le={};le.text=le.email=le.password=le.number=le.tel=le.url=le.search=le.date=le["datetime-local"]=le.time=le.week=le.month=(a,c)=>(mi(a,c.inputValue),nr(a,a,c),Ys(a,c),a.type=c.input,a),le.file=(a,c)=>(nr(a,a,c),Ys(a,c),a),le.range=(a,c)=>{const h=a.querySelector("input"),p=a.querySelector("output");return mi(h,c.inputValue),h.type=c.input,mi(p,c.inputValue),nr(h,a,c),a},le.select=(a,c)=>{if(a.textContent="",c.inputPlaceholder){const h=document.createElement("option");Me(h,c.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,a.appendChild(h)}return nr(a,a,c),a},le.radio=a=>(a.textContent="",a),le.checkbox=(a,c)=>{const h=pi(H(),"checkbox");h.value="1",h.checked=Boolean(c.inputValue);const p=a.querySelector("span");return Me(p,c.inputPlaceholder),h},le.textarea=(a,c)=>{mi(a,c.inputValue),Ys(a,c),nr(a,a,c);const h=p=>parseInt(window.getComputedStyle(p).marginLeft)+parseInt(window.getComputedStyle(p).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const p=parseInt(window.getComputedStyle(H()).width),_=()=>{if(!document.body.contains(a))return;const k=a.offsetWidth+h(a);k>p?H().style.width="".concat(k,"px"):Ht(H(),"width",c.width)};new MutationObserver(_).observe(a,{attributes:!0,attributeFilter:["style"]})}}),a};const Kp=(a,c)=>{const h=pn();h&&(Ks(h),je(h,c,"htmlContainer"),c.html?(Qs(c.html,h),Te(h,"block")):c.text?(h.textContent=c.text,Te(h,"block")):Se(h),zp(a,c))},Gp=(a,c)=>{const h=Ac();h&&(Ks(h),tr(h,c.footer,"block"),c.footer&&Qs(c.footer,h),je(h,c,"footer"))},Qp=(a,c)=>{const h=J.innerParams.get(a),p=ht();if(p){if(h&&c.icon===h.icon){Oc(p,c),Dc(p,c);return}if(!c.icon&&!c.iconHtml){Se(p);return}if(c.icon&&Object.keys(I).indexOf(c.icon)===-1){ee('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(c.icon,'"')),Se(p);return}Te(p),Oc(p,c),Dc(p,c),$(p,c.showClass&&c.showClass.icon)}},Dc=(a,c)=>{for(const[h,p]of Object.entries(I))c.icon!==h&&Ye(a,p);$(a,c.icon&&I[c.icon]),Zp(a,c),Jp(),je(a,c,"icon")},Jp=()=>{const a=H();if(!a)return;const c=window.getComputedStyle(a).getPropertyValue("background-color"),h=a.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let p=0;p<h.length;p++)h[p].style.backgroundColor=c},Yp=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Xp=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Oc=(a,c)=>{if(!c.icon&&!c.iconHtml)return;let h=a.innerHTML,p="";c.iconHtml?p=Vc(c.iconHtml):c.icon==="success"?(p=Yp,h=h.replace(/ style=".*?"/g,"")):c.icon==="error"?p=Xp:c.icon&&(p=Vc({question:"?",warning:"!",info:"i"}[c.icon])),h.trim()!==p.trim()&&Me(a,p)},Zp=(a,c)=>{if(c.iconColor){a.style.color=c.iconColor,a.style.borderColor=c.iconColor;for(const h of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Sc(a,h,"backgroundColor",c.iconColor);Sc(a,".swal2-success-ring","borderColor",c.iconColor)}},Vc=a=>'<div class="'.concat(m["icon-content"],'">').concat(a,"</div>"),em=(a,c)=>{const h=Zn();if(h){if(!c.imageUrl){Se(h);return}Te(h,""),h.setAttribute("src",c.imageUrl),h.setAttribute("alt",c.imageAlt||""),Ht(h,"width",c.imageWidth),Ht(h,"height",c.imageHeight),h.className=m.image,je(h,c,"image")}},tm=(a,c)=>{const h=ge(),p=H();if(!(!h||!p)){if(c.toast){Ht(h,"width",c.width),p.style.width="100%";const _=gn();_&&p.insertBefore(_,ht())}else Ht(p,"width",c.width);Ht(p,"padding",c.padding),c.color&&(p.style.color=c.color),c.background&&(p.style.background=c.background),Se(bt()),nm(p,c)}},nm=(a,c)=>{const h=c.showClass||{};a.className="".concat(m.popup," ").concat(Fe(a)?h.popup:""),c.toast?($([document.documentElement,document.body],m["toast-shown"]),$(a,m.toast)):$(a,m.modal),je(a,c,"popup"),typeof c.customClass=="string"&&$(a,c.customClass),c.icon&&$(a,m["icon-".concat(c.icon)])},rm=(a,c)=>{const h=zt();if(!h)return;const{progressSteps:p,currentProgressStep:_}=c;if(!p||p.length===0||_===void 0){Se(h);return}Te(h),h.textContent="",_>=p.length&&U("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),p.forEach((k,W)=>{const Y=im(k);if(h.appendChild(Y),W===_&&$(Y,m["active-progress-step"]),W!==p.length-1){const re=sm(c);h.appendChild(re)}})},im=a=>{const c=document.createElement("li");return $(c,m["progress-step"]),Me(c,a),c},sm=a=>{const c=document.createElement("li");return $(c,m["progress-step-line"]),a.progressStepsDistance&&Ht(c,"width",a.progressStepsDistance),c},om=(a,c)=>{const h=hi();h&&(Ks(h),tr(h,c.title||c.titleText,"block"),c.title&&Qs(c.title,h),c.titleText&&(h.innerText=c.titleText),je(h,c,"title"))},Lc=(a,c)=>{tm(a,c),Mp(a,c),rm(a,c),Qp(a,c),em(a,c),om(a,c),Lp(a,c),Kp(a,c),Dp(a,c),Gp(a,c);const h=H();typeof c.didRender=="function"&&h&&c.didRender(h)},am=()=>Fe(H()),Mc=()=>{var a;return(a=se())===null||a===void 0?void 0:a.click()},cm=()=>{var a;return(a=qt())===null||a===void 0?void 0:a.click()},lm=()=>{var a;return(a=mn())===null||a===void 0?void 0:a.click()},yn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Fc=a=>{a.keydownTarget&&a.keydownHandlerAdded&&(a.keydownTarget.removeEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!1)},um=(a,c,h)=>{Fc(a),c.toast||(a.keydownHandler=p=>dm(c,p,h),a.keydownTarget=c.keydownListenerCapture?window:H(),a.keydownListenerCapture=c.keydownListenerCapture,a.keydownTarget.addEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!0)},Xs=(a,c)=>{var h;const p=$s();if(p.length){a=a+c,a===p.length?a=0:a===-1&&(a=p.length-1),p[a].focus();return}(h=H())===null||h===void 0||h.focus()},Uc=["ArrowRight","ArrowDown"],hm=["ArrowLeft","ArrowUp"],dm=(a,c,h)=>{a&&(c.isComposing||c.keyCode===229||(a.stopKeydownPropagation&&c.stopPropagation(),c.key==="Enter"?fm(c,a):c.key==="Tab"?pm(c):[...Uc,...hm].includes(c.key)?mm(c.key):c.key==="Escape"&&gm(c,a,h)))},fm=(a,c)=>{if(!ne(c.allowEnterKey))return;const h=pi(H(),c.input);if(a.target&&h&&a.target instanceof HTMLElement&&a.target.outerHTML===h.outerHTML){if(["textarea","file"].includes(c.input))return;Mc(),a.preventDefault()}},pm=a=>{const c=a.target,h=$s();let p=-1;for(let _=0;_<h.length;_++)if(c===h[_]){p=_;break}a.shiftKey?Xs(p,-1):Xs(p,1),a.stopPropagation(),a.preventDefault()},mm=a=>{const c=er(),h=se(),p=qt(),_=mn();if(!c||!h||!p||!_)return;const k=[h,p,_];if(document.activeElement instanceof HTMLElement&&!k.includes(document.activeElement))return;const W=Uc.includes(a)?"nextElementSibling":"previousElementSibling";let Y=document.activeElement;if(Y){for(let re=0;re<c.children.length;re++){if(Y=Y[W],!Y)return;if(Y instanceof HTMLButtonElement&&Fe(Y))break}Y instanceof HTMLButtonElement&&Y.focus()}},gm=(a,c,h)=>{ne(c.allowEscapeKey)&&(a.preventDefault(),h(yn.esc))};var rr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ym=()=>{Array.from(document.body.children).forEach(c=>{c===ge()||c.contains(ge())||(c.hasAttribute("aria-hidden")&&c.setAttribute("data-previous-aria-hidden",c.getAttribute("aria-hidden")||""),c.setAttribute("aria-hidden","true"))})},Bc=()=>{Array.from(document.body.children).forEach(c=>{c.hasAttribute("data-previous-aria-hidden")?(c.setAttribute("aria-hidden",c.getAttribute("data-previous-aria-hidden")||""),c.removeAttribute("data-previous-aria-hidden")):c.removeAttribute("aria-hidden")})},jc=typeof window<"u"&&!!window.GestureEvent,wm=()=>{if(jc&&!dt(document.body,m.iosfix)){const a=document.body.scrollTop;document.body.style.top="".concat(a*-1,"px"),$(document.body,m.iosfix),_m()}},_m=()=>{const a=ge();if(!a)return;let c;a.ontouchstart=h=>{c=vm(h)},a.ontouchmove=h=>{c&&(h.preventDefault(),h.stopPropagation())}},vm=a=>{const c=a.target,h=ge(),p=pn();return!h||!p||Em(a)||Tm(a)?!1:c===h||!Pc(h)&&c instanceof HTMLElement&&c.tagName!=="INPUT"&&c.tagName!=="TEXTAREA"&&!(Pc(p)&&p.contains(c))},Em=a=>a.touches&&a.touches.length&&a.touches[0].touchType==="stylus",Tm=a=>a.touches&&a.touches.length>1,bm=()=>{if(dt(document.body,m.iosfix)){const a=parseInt(document.body.style.top,10);Ye(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=a*-1}},Im=()=>{const a=document.createElement("div");a.className=m["scrollbar-measure"],document.body.appendChild(a);const c=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),c};let wn=null;const Am=a=>{wn===null&&(document.body.scrollHeight>window.innerHeight||a==="scroll")&&(wn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(wn+Im(),"px"))},Cm=()=>{wn!==null&&(document.body.style.paddingRight="".concat(wn,"px"),wn=null)};function zc(a,c,h,p){fi()?Hc(a,p):(w(h).then(()=>Hc(a,p)),Fc(f)),jc?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),Ws()&&(Cm(),bm(),Bc()),Rm()}function Rm(){Ye([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function At(a){a=Pm(a);const c=rr.swalPromiseResolve.get(this),h=Sm(this);this.isAwaitingPromise?a.isDismissed||(ir(this),c(a)):h&&c(a)}const Sm=a=>{const c=H();if(!c)return!1;const h=J.innerParams.get(a);if(!h||dt(c,h.hideClass.popup))return!1;Ye(c,h.showClass.popup),$(c,h.hideClass.popup);const p=ge();return Ye(p,h.showClass.backdrop),$(p,h.hideClass.backdrop),km(a,c,h),!0};function qc(a){const c=rr.swalPromiseReject.get(this);ir(this),c&&c(a)}const ir=a=>{a.isAwaitingPromise&&(delete a.isAwaitingPromise,J.innerParams.get(a)||a._destroy())},Pm=a=>typeof a>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},a),km=(a,c,h)=>{const p=ge(),_=Wt&&kc(c);typeof h.willClose=="function"&&h.willClose(c),_?xm(a,c,p,h.returnFocus,h.didClose):zc(a,p,h.returnFocus,h.didClose)},xm=(a,c,h,p,_)=>{Wt&&(f.swalCloseEventFinishedCallback=zc.bind(null,a,h,p,_),c.addEventListener(Wt,function(k){k.target===c&&(f.swalCloseEventFinishedCallback(),delete f.swalCloseEventFinishedCallback)}))},Hc=(a,c)=>{setTimeout(()=>{typeof c=="function"&&c.bind(a.params)(),a._destroy&&a._destroy()})},_n=a=>{let c=H();if(c||new vi,c=H(),!c)return;const h=gn();fi()?Se(ht()):Nm(c,a),Te(h),c.setAttribute("data-loading","true"),c.setAttribute("aria-busy","true"),c.focus()},Nm=(a,c)=>{const h=er(),p=gn();!h||!p||(!c&&Fe(se())&&(c=se()),Te(h),c&&(Se(c),p.setAttribute("data-button-to-replace",c.className),h.insertBefore(p,c)),$([a,h],m.loading))},Dm=(a,c)=>{c.input==="select"||c.input==="radio"?Fm(a,c):["text","email","number","tel","textarea"].some(h=>h===c.input)&&(Q(c.inputValue)||ut(c.inputValue))&&(_n(se()),Um(a,c))},Om=(a,c)=>{const h=a.getInput();if(!h)return null;switch(c.input){case"checkbox":return Vm(h);case"radio":return Lm(h);case"file":return Mm(h);default:return c.inputAutoTrim?h.value.trim():h.value}},Vm=a=>a.checked?1:0,Lm=a=>a.checked?a.value:null,Mm=a=>a.files&&a.files.length?a.getAttribute("multiple")!==null?a.files:a.files[0]:null,Fm=(a,c)=>{const h=H();if(!h)return;const p=_=>{c.input==="select"?Bm(h,gi(_),c):c.input==="radio"&&jm(h,gi(_),c)};Q(c.inputOptions)||ut(c.inputOptions)?(_n(se()),Je(c.inputOptions).then(_=>{a.hideLoading(),p(_)})):typeof c.inputOptions=="object"?p(c.inputOptions):ee("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof c.inputOptions))},Um=(a,c)=>{const h=a.getInput();h&&(Se(h),Je(c.inputValue).then(p=>{h.value=c.input==="number"?"".concat(parseFloat(p)||0):"".concat(p),Te(h),h.focus(),a.hideLoading()}).catch(p=>{ee("Error in inputValue promise: ".concat(p)),h.value="",Te(h),h.focus(),a.hideLoading()}))};function Bm(a,c,h){const p=It(a,m.select);if(!p)return;const _=(k,W,Y)=>{const re=document.createElement("option");re.value=Y,Me(re,W),re.selected=$c(Y,h.inputValue),k.appendChild(re)};c.forEach(k=>{const W=k[0],Y=k[1];if(Array.isArray(Y)){const re=document.createElement("optgroup");re.label=W,re.disabled=!1,p.appendChild(re),Y.forEach(En=>_(re,En[1],En[0]))}else _(p,Y,W)}),p.focus()}function jm(a,c,h){const p=It(a,m.radio);if(!p)return;c.forEach(k=>{const W=k[0],Y=k[1],re=document.createElement("input"),En=document.createElement("label");re.type="radio",re.name=m.radio,re.value=W,$c(W,h.inputValue)&&(re.checked=!0);const ro=document.createElement("span");Me(ro,Y),ro.className=m.label,En.appendChild(re),En.appendChild(ro),p.appendChild(En)});const _=p.querySelectorAll("input");_.length&&_[0].focus()}const gi=a=>{const c=[];return a instanceof Map?a.forEach((h,p)=>{let _=h;typeof _=="object"&&(_=gi(_)),c.push([p,_])}):Object.keys(a).forEach(h=>{let p=a[h];typeof p=="object"&&(p=gi(p)),c.push([h,p])}),c},$c=(a,c)=>!!c&&c.toString()===a.toString(),zm=a=>{const c=J.innerParams.get(a);a.disableButtons(),c.input?Wc(a,"confirm"):eo(a,!0)},qm=a=>{const c=J.innerParams.get(a);a.disableButtons(),c.returnInputValueOnDeny?Wc(a,"deny"):Zs(a,!1)},Hm=(a,c)=>{a.disableButtons(),c(yn.cancel)},Wc=(a,c)=>{const h=J.innerParams.get(a);if(!h.input){ee('The "input" parameter is needed to be set when using returnInputValueOn'.concat(P(c)));return}const p=a.getInput(),_=Om(a,h);h.inputValidator?$m(a,_,c):p&&!p.checkValidity()?(a.enableButtons(),a.showValidationMessage(h.validationMessage)):c==="deny"?Zs(a,_):eo(a,_)},$m=(a,c,h)=>{const p=J.innerParams.get(a);a.disableInput(),Promise.resolve().then(()=>Je(p.inputValidator(c,p.validationMessage))).then(k=>{a.enableButtons(),a.enableInput(),k?a.showValidationMessage(k):h==="deny"?Zs(a,c):eo(a,c)})},Zs=(a,c)=>{const h=J.innerParams.get(a||void 0);h.showLoaderOnDeny&&_n(qt()),h.preDeny?(a.isAwaitingPromise=!0,Promise.resolve().then(()=>Je(h.preDeny(c,h.validationMessage))).then(_=>{_===!1?(a.hideLoading(),ir(a)):a.close({isDenied:!0,value:typeof _>"u"?c:_})}).catch(_=>Gc(a||void 0,_))):a.close({isDenied:!0,value:c})},Kc=(a,c)=>{a.close({isConfirmed:!0,value:c})},Gc=(a,c)=>{a.rejectPromise(c)},eo=(a,c)=>{const h=J.innerParams.get(a||void 0);h.showLoaderOnConfirm&&_n(),h.preConfirm?(a.resetValidationMessage(),a.isAwaitingPromise=!0,Promise.resolve().then(()=>Je(h.preConfirm(c,h.validationMessage))).then(_=>{Fe(bt())||_===!1?(a.hideLoading(),ir(a)):Kc(a,typeof _>"u"?c:_)}).catch(_=>Gc(a||void 0,_))):Kc(a,c)};function yi(){const a=J.innerParams.get(this);if(!a)return;const c=J.domCache.get(this);Se(c.loader),fi()?a.icon&&Te(ht()):Wm(c),Ye([c.popup,c.actions],m.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}const Wm=a=>{const c=a.popup.getElementsByClassName(a.loader.getAttribute("data-button-to-replace"));c.length?Te(c[0],"inline-block"):Tp()&&Se(a.actions)};function Qc(){const a=J.innerParams.get(this),c=J.domCache.get(this);return c?pi(c.popup,a.input):null}function Jc(a,c,h){const p=J.domCache.get(a);c.forEach(_=>{p[_].disabled=h})}function Yc(a,c){const h=H();if(!(!h||!a))if(a.type==="radio"){const p=h.querySelectorAll('[name="'.concat(m.radio,'"]'));for(let _=0;_<p.length;_++)p[_].disabled=c}else a.disabled=c}function Xc(){Jc(this,["confirmButton","denyButton","cancelButton"],!1)}function Zc(){Jc(this,["confirmButton","denyButton","cancelButton"],!0)}function el(){Yc(this.getInput(),!1)}function tl(){Yc(this.getInput(),!0)}function nl(a){const c=J.domCache.get(this),h=J.innerParams.get(this);Me(c.validationMessage,a),c.validationMessage.className=m["validation-message"],h.customClass&&h.customClass.validationMessage&&$(c.validationMessage,h.customClass.validationMessage),Te(c.validationMessage);const p=this.getInput();p&&(p.setAttribute("aria-invalid","true"),p.setAttribute("aria-describedby",m["validation-message"]),Cc(p),$(p,m.inputerror))}function rl(){const a=J.domCache.get(this);a.validationMessage&&Se(a.validationMessage);const c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),Ye(c,m.inputerror))}const vn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Km=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Gm={},Qm=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],il=a=>Object.prototype.hasOwnProperty.call(vn,a),sl=a=>Km.indexOf(a)!==-1,ol=a=>Gm[a],Jm=a=>{il(a)||U('Unknown parameter "'.concat(a,'"'))},Ym=a=>{Qm.includes(a)&&U('The parameter "'.concat(a,'" is incompatible with toasts'))},Xm=a=>{const c=ol(a);c&&x(a,c)},Zm=a=>{a.backdrop===!1&&a.allowOutsideClick&&U('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const c in a)Jm(c),a.toast&&Ym(c),Xm(c)};function al(a){const c=H(),h=J.innerParams.get(this);if(!c||dt(c,h.hideClass.popup)){U("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const p=eg(a),_=Object.assign({},h,p);Lc(this,_),J.innerParams.set(this,_),Object.defineProperties(this,{params:{value:Object.assign({},this.params,a),writable:!1,enumerable:!0}})}const eg=a=>{const c={};return Object.keys(a).forEach(h=>{sl(h)?c[h]=a[h]:U("Invalid parameter to update: ".concat(h))}),c};function cl(){const a=J.domCache.get(this),c=J.innerParams.get(this);if(!c){ll(this);return}a.popup&&f.swalCloseEventFinishedCallback&&(f.swalCloseEventFinishedCallback(),delete f.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),tg(this)}const tg=a=>{ll(a),delete a.params,delete f.keydownHandler,delete f.keydownTarget,delete f.currentInstance},ll=a=>{a.isAwaitingPromise?(to(J,a),a.isAwaitingPromise=!0):(to(rr,a),to(J,a),delete a.isAwaitingPromise,delete a.disableButtons,delete a.enableButtons,delete a.getInput,delete a.disableInput,delete a.enableInput,delete a.hideLoading,delete a.disableLoading,delete a.showValidationMessage,delete a.resetValidationMessage,delete a.close,delete a.closePopup,delete a.closeModal,delete a.closeToast,delete a.rejectPromise,delete a.update,delete a._destroy)},to=(a,c)=>{for(const h in a)a[h].delete(c)};var ng=Object.freeze({__proto__:null,_destroy:cl,close:At,closeModal:At,closePopup:At,closeToast:At,disableButtons:Zc,disableInput:tl,disableLoading:yi,enableButtons:Xc,enableInput:el,getInput:Qc,handleAwaitingPromise:ir,hideLoading:yi,rejectPromise:qc,resetValidationMessage:rl,showValidationMessage:nl,update:al});const rg=(a,c,h)=>{a.toast?ig(a,c,h):(og(c),ag(c),cg(a,c,h))},ig=(a,c,h)=>{c.popup.onclick=()=>{a&&(sg(a)||a.timer||a.input)||h(yn.close)}},sg=a=>!!(a.showConfirmButton||a.showDenyButton||a.showCancelButton||a.showCloseButton);let wi=!1;const og=a=>{a.popup.onmousedown=()=>{a.container.onmouseup=function(c){a.container.onmouseup=()=>{},c.target===a.container&&(wi=!0)}}},ag=a=>{a.container.onmousedown=()=>{a.popup.onmouseup=function(c){a.popup.onmouseup=()=>{},(c.target===a.popup||c.target instanceof HTMLElement&&a.popup.contains(c.target))&&(wi=!0)}}},cg=(a,c,h)=>{c.container.onclick=p=>{if(wi){wi=!1;return}p.target===c.container&&ne(a.allowOutsideClick)&&h(yn.backdrop)}},lg=a=>typeof a=="object"&&a.jquery,ul=a=>a instanceof Element||lg(a),ug=a=>{const c={};return typeof a[0]=="object"&&!ul(a[0])?Object.assign(c,a[0]):["title","html","icon"].forEach((h,p)=>{const _=a[p];typeof _=="string"||ul(_)?c[h]=_:_!==void 0&&ee("Unexpected type of ".concat(h,'! Expected "string" or "Element", got ').concat(typeof _))}),c};function hg(){const a=this;for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return new a(...h)}function dg(a){class c extends this{_main(p,_){return super._main(p,Object.assign({},a,_))}}return c}const fg=()=>f.timeout&&f.timeout.getTimerLeft(),hl=()=>{if(f.timeout)return bp(),f.timeout.stop()},dl=()=>{if(f.timeout){const a=f.timeout.start();return Gs(a),a}},pg=()=>{const a=f.timeout;return a&&(a.running?hl():dl())},mg=a=>{if(f.timeout){const c=f.timeout.increase(a);return Gs(c,!0),c}},gg=()=>!!(f.timeout&&f.timeout.isRunning());let fl=!1;const no={};function yg(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";no[a]=this,fl||(document.body.addEventListener("click",wg),fl=!0)}const wg=a=>{for(let c=a.target;c&&c!==document;c=c.parentNode)for(const h in no){const p=c.getAttribute(h);if(p){no[h].fire({template:p});return}}};var _g=Object.freeze({__proto__:null,argsToParams:ug,bindClickHandler:yg,clickCancel:lm,clickConfirm:Mc,clickDeny:cm,enableLoading:_n,fire:hg,getActions:er,getCancelButton:mn,getCloseButton:Hs,getConfirmButton:se,getContainer:ge,getDenyButton:qt,getFocusableElements:$s,getFooter:Ac,getHtmlContainer:pn,getIcon:ht,getIconContent:Xn,getImage:Zn,getInputLabel:wp,getLoader:gn,getPopup:H,getProgressSteps:zt,getTimerLeft:fg,getTimerProgressBar:di,getTitle:hi,getValidationMessage:bt,increaseTimer:mg,isDeprecatedParameter:ol,isLoading:vp,isTimerRunning:gg,isUpdatableParameter:sl,isValidParameter:il,isVisible:am,mixin:dg,resumeTimer:dl,showLoading:_n,stopTimer:hl,toggleTimer:pg});class vg{constructor(c,h){this.callback=c,this.remaining=h,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(c){const h=this.running;return h&&this.stop(),this.remaining+=c,h&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const pl=["swal-title","swal-html","swal-footer"],Eg=a=>{const c=typeof a.template=="string"?document.querySelector(a.template):a.template;if(!c)return{};const h=c.content;return Pg(h),Object.assign(Tg(h),bg(h),Ig(h),Ag(h),Cg(h),Rg(h),Sg(h,pl))},Tg=a=>{const c={};return Array.from(a.querySelectorAll("swal-param")).forEach(p=>{Kt(p,["name","value"]);const _=p.getAttribute("name"),k=p.getAttribute("value");typeof vn[_]=="boolean"?c[_]=k!=="false":typeof vn[_]=="object"?c[_]=JSON.parse(k):c[_]=k}),c},bg=a=>{const c={};return Array.from(a.querySelectorAll("swal-function-param")).forEach(p=>{const _=p.getAttribute("name"),k=p.getAttribute("value");c[_]=new Function("return ".concat(k))()}),c},Ig=a=>{const c={};return Array.from(a.querySelectorAll("swal-button")).forEach(p=>{Kt(p,["type","color","aria-label"]);const _=p.getAttribute("type");c["".concat(_,"ButtonText")]=p.innerHTML,c["show".concat(P(_),"Button")]=!0,p.hasAttribute("color")&&(c["".concat(_,"ButtonColor")]=p.getAttribute("color")),p.hasAttribute("aria-label")&&(c["".concat(_,"ButtonAriaLabel")]=p.getAttribute("aria-label"))}),c},Ag=a=>{const c={},h=a.querySelector("swal-image");return h&&(Kt(h,["src","width","height","alt"]),h.hasAttribute("src")&&(c.imageUrl=h.getAttribute("src")),h.hasAttribute("width")&&(c.imageWidth=h.getAttribute("width")),h.hasAttribute("height")&&(c.imageHeight=h.getAttribute("height")),h.hasAttribute("alt")&&(c.imageAlt=h.getAttribute("alt"))),c},Cg=a=>{const c={},h=a.querySelector("swal-icon");return h&&(Kt(h,["type","color"]),h.hasAttribute("type")&&(c.icon=h.getAttribute("type")),h.hasAttribute("color")&&(c.iconColor=h.getAttribute("color")),c.iconHtml=h.innerHTML),c},Rg=a=>{const c={},h=a.querySelector("swal-input");h&&(Kt(h,["type","label","placeholder","value"]),c.input=h.getAttribute("type")||"text",h.hasAttribute("label")&&(c.inputLabel=h.getAttribute("label")),h.hasAttribute("placeholder")&&(c.inputPlaceholder=h.getAttribute("placeholder")),h.hasAttribute("value")&&(c.inputValue=h.getAttribute("value")));const p=Array.from(a.querySelectorAll("swal-input-option"));return p.length&&(c.inputOptions={},p.forEach(_=>{Kt(_,["value"]);const k=_.getAttribute("value"),W=_.innerHTML;c.inputOptions[k]=W})),c},Sg=(a,c)=>{const h={};for(const p in c){const _=c[p],k=a.querySelector(_);k&&(Kt(k,[]),h[_.replace(/^swal-/,"")]=k.innerHTML.trim())}return h},Pg=a=>{const c=pl.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(a.children).forEach(h=>{const p=h.tagName.toLowerCase();c.includes(p)||U("Unrecognized element <".concat(p,">"))})},Kt=(a,c)=>{Array.from(a.attributes).forEach(h=>{c.indexOf(h.name)===-1&&U(['Unrecognized attribute "'.concat(h.name,'" on <').concat(a.tagName.toLowerCase(),">."),"".concat(c.length?"Allowed attributes are: ".concat(c.join(", ")):"To set the value, use HTML within the element.")])})},ml=10,kg=a=>{const c=ge(),h=H();typeof a.willOpen=="function"&&a.willOpen(h);const _=window.getComputedStyle(document.body).overflowY;Dg(c,h,a),setTimeout(()=>{xg(c,h)},ml),Ws()&&(Ng(c,a.scrollbarPadding,_),ym()),!fi()&&!f.previousActiveElement&&(f.previousActiveElement=document.activeElement),typeof a.didOpen=="function"&&setTimeout(()=>a.didOpen(h)),Ye(c,m["no-transition"])},gl=a=>{const c=H();if(a.target!==c||!Wt)return;const h=ge();c.removeEventListener(Wt,gl),h.style.overflowY="auto"},xg=(a,c)=>{Wt&&kc(c)?(a.style.overflowY="hidden",c.addEventListener(Wt,gl)):a.style.overflowY="auto"},Ng=(a,c,h)=>{wm(),c&&h!=="hidden"&&Am(h),setTimeout(()=>{a.scrollTop=0})},Dg=(a,c,h)=>{$(a,h.showClass.backdrop),c.style.setProperty("opacity","0","important"),Te(c,"grid"),setTimeout(()=>{$(c,h.showClass.popup),c.style.removeProperty("opacity")},ml),$([document.documentElement,document.body],m.shown),h.heightAuto&&h.backdrop&&!h.toast&&$([document.documentElement,document.body],m["height-auto"])};var yl={email:(a,c)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(a)?Promise.resolve():Promise.resolve(c||"Invalid email address"),url:(a,c)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(a)?Promise.resolve():Promise.resolve(c||"Invalid URL")};function Og(a){a.inputValidator||(a.input==="email"&&(a.inputValidator=yl.email),a.input==="url"&&(a.inputValidator=yl.url))}function Vg(a){(!a.target||typeof a.target=="string"&&!document.querySelector(a.target)||typeof a.target!="string"&&!a.target.appendChild)&&(U('Target parameter is not valid, defaulting to "body"'),a.target="body")}function Lg(a){Og(a),a.showLoaderOnConfirm&&!a.preConfirm&&U(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Vg(a),typeof a.title=="string"&&(a.title=a.title.split(`
`).join("<br />")),kp(a)}let Xe;var _i=new WeakMap;class ue{constructor(){if(u(this,_i,{writable:!0,value:void 0}),typeof window>"u")return;Xe=this;for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];const _=Object.freeze(this.constructor.argsToParams(h));this.params=_,this.isAwaitingPromise=!1,r(this,_i,this._main(Xe.params))}_main(c){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zm(Object.assign({},h,c)),f.currentInstance&&(f.currentInstance._destroy(),Ws()&&Bc()),f.currentInstance=Xe;const p=Fg(c,h);Lg(p),Object.freeze(p),f.timeout&&(f.timeout.stop(),delete f.timeout),clearTimeout(f.restoreFocusTimeout);const _=Ug(Xe);return Lc(Xe,p),J.innerParams.set(Xe,p),Mg(Xe,_,p)}then(c){return n(this,_i).then(c)}finally(c){return n(this,_i).finally(c)}}const Mg=(a,c,h)=>new Promise((p,_)=>{const k=W=>{a.close({isDismissed:!0,dismiss:W})};rr.swalPromiseResolve.set(a,p),rr.swalPromiseReject.set(a,_),c.confirmButton.onclick=()=>{zm(a)},c.denyButton.onclick=()=>{qm(a)},c.cancelButton.onclick=()=>{Hm(a,k)},c.closeButton.onclick=()=>{k(yn.close)},rg(h,c,k),um(f,h,k),Dm(a,h),kg(h),Bg(f,h,k),jg(c,h),setTimeout(()=>{c.container.scrollTop=0})}),Fg=(a,c)=>{const h=Eg(a),p=Object.assign({},vn,c,h,a);return p.showClass=Object.assign({},vn.showClass,p.showClass),p.hideClass=Object.assign({},vn.hideClass,p.hideClass),p},Ug=a=>{const c={popup:H(),container:ge(),actions:er(),confirmButton:se(),denyButton:qt(),cancelButton:mn(),loader:gn(),closeButton:Hs(),validationMessage:bt(),progressSteps:zt()};return J.domCache.set(a,c),c},Bg=(a,c,h)=>{const p=di();Se(p),c.timer&&(a.timeout=new vg(()=>{h("timer"),delete a.timeout},c.timer),c.timerProgressBar&&(Te(p),je(p,c,"timerProgressBar"),setTimeout(()=>{a.timeout&&a.timeout.running&&Gs(c.timer)})))},jg=(a,c)=>{if(!c.toast){if(!ne(c.allowEnterKey)){qg();return}zg(a,c)||Xs(-1,1)}},zg=(a,c)=>c.focusDeny&&Fe(a.denyButton)?(a.denyButton.focus(),!0):c.focusCancel&&Fe(a.cancelButton)?(a.cancelButton.focus(),!0):c.focusConfirm&&Fe(a.confirmButton)?(a.confirmButton.focus(),!0):!1,qg=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const a=new Date,c=localStorage.getItem("swal-initiation");c?(a.getTime()-Date.parse(c))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const h=document.createElement("audio");h.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",h.loop=!0,document.body.appendChild(h),setTimeout(()=>{h.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(a))}ue.prototype.disableButtons=Zc,ue.prototype.enableButtons=Xc,ue.prototype.getInput=Qc,ue.prototype.disableInput=tl,ue.prototype.enableInput=el,ue.prototype.hideLoading=yi,ue.prototype.disableLoading=yi,ue.prototype.showValidationMessage=nl,ue.prototype.resetValidationMessage=rl,ue.prototype.close=At,ue.prototype.closePopup=At,ue.prototype.closeModal=At,ue.prototype.closeToast=At,ue.prototype.rejectPromise=qc,ue.prototype.update=al,ue.prototype._destroy=cl,Object.assign(ue,_g),Object.keys(ng).forEach(a=>{ue[a]=function(){return Xe&&Xe[a]?Xe[a](...arguments):null}}),ue.DismissReason=yn,ue.version="11.9.0";const vi=ue;return vi.default=vi,vi}),typeof We<"u"&&We.Sweetalert2&&(We.swal=We.sweetAlert=We.Swal=We.SweetAlert=We.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(cA);const TA=la;export{TA as S,lA as a,pA as b,vA as c,wA as d,uA as e,EA as f,_A as g,hA as h,C_ as i,fA as j,Gu as k,dA as s};
//# sourceMappingURL=vendor-7024bf7d.js.map
